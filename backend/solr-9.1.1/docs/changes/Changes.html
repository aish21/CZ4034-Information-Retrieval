<!--
**********************************************************
** WARNING: This file is generated from CHANGES.txt by the 
**          Perl script 'changes2html.pl'.
**          Do *not* edit this file!
**********************************************************
          
****************************************************************************
* Licensed to the Apache Software Foundation (ASF) under one or more
* contributor license agreements.  See the NOTICE file distributed with
* this work for additional information regarding copyright ownership.
* The ASF licenses this file to You under the Apache License, Version 2.0
* (the "License"); you may not use this file except in compliance with
* the License.  You may obtain a copy of the License at
*
*     http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
****************************************************************************
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Apache Solr Release Notes</title>
  <link rel="stylesheet" href="ChangesFancyStyle.css" title="Fancy">
  <link rel="alternate stylesheet" href="ChangesSimpleStyle.css" title="Simple">
  <link rel="alternate stylesheet" href="ChangesFixedWidthStyle.css" title="Fixed Width">
  <META http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <SCRIPT>
    function toggleList(id) {
      listStyle = document.getElementById(id + '.list').style;
      anchor = document.getElementById(id);
      if (listStyle.display == 'none') {
        listStyle.display = 'block';
        anchor.title = 'Click to collapse';
        location.href = '#' + id;
      } else {
        listStyle.display = 'none';
        anchor.title = 'Click to expand';
      }
      var expandButton = document.getElementById('expand.button');
      expandButton.disabled = false;
      var collapseButton = document.getElementById('collapse.button');
      collapseButton.disabled = false;
    }

    function collapseAll() {
      var unorderedLists = document.getElementsByTagName("ul");
      for (var i = 0; i < unorderedLists.length; i++) {
        if (unorderedLists[i].className != 'bulleted-list')
          unorderedLists[i].style.display = "none";
        else
          unorderedLists[i].style.display = "block";
      }
      var orderedLists = document.getElementsByTagName("ol");
      for (var i = 0; i < orderedLists.length; i++)
        orderedLists[i].style.display = "none";
      var olderList = document.getElementById("older.list");
      olderList.style.display = "none";
      var anchors = document.getElementsByTagName("a");
      for (var i = 0 ; i < anchors.length; i++) {
        if (anchors[i].id != '')
          anchors[i].title = 'Click to expand';
      }
      var collapseButton = document.getElementById('collapse.button');
      collapseButton.disabled = true;
      var expandButton = document.getElementById('expand.button');
      expandButton.disabled = false;
    }

    function expandAll() {
      var unorderedLists = document.getElementsByTagName("ul");
      for (var i = 0; i < unorderedLists.length; i++)
        unorderedLists[i].style.display = "block";
      var orderedLists = document.getElementsByTagName("ol");
      for (var i = 0; i < orderedLists.length; i++)
        orderedLists[i].style.display = "block"; 
      var olderList = document.getElementById("older.list");
      olderList.style.display = "block";
      var anchors = document.getElementsByTagName("a");
      for (var i = 0 ; i < anchors.length; i++) {
        if (anchors[i].id != '')
          anchors[i].title = 'Click to collapse';
      }
      var expandButton = document.getElementById('expand.button');
      expandButton.disabled = true;
      var collapseButton = document.getElementById('collapse.button');
      collapseButton.disabled = false;

    }

    var newerRegex = new RegExp("^(?:v9\\\\.1\\\\.1|v9\\\\.1\\\\.0)");
    function isOlder(listId) {
      return ! newerRegex.test(listId);
    }

    function escapeMeta(s) {
      return s.replace(/(?=[.*+?^${}()|[\]\/\\])/g, '\\');
    }

    function shouldExpand(currentList, currentAnchor, listId) {
      var listName = listId.substring(0, listId.length - 5);
      var parentRegex = new RegExp("^" + escapeMeta(listName) + "\\.");
      return currentList == listId
             || (isOlder(currentAnchor) && listId == 'older.list')
             || parentRegex.test(currentAnchor);
    }

    function collapse() {
      /* Collapse all but the first and second releases. */
      var unorderedLists = document.getElementsByTagName("ul");
      var currentAnchor = location.hash.substring(1);
      var currentList = currentAnchor + ".list";

      for (var i = 0; i < unorderedLists.length; i++) {
        var list = unorderedLists[i];
        /* Collapse the current item, unless either the current item is one of
         * the first two releases, or the current URL has a fragment and the
         * fragment refers to the current item or one of its ancestors.
         */
        if (list.id != 'v9.1.1.list' 
            && list.id != 'v9.1.0.list'
            && list.className != 'bulleted-list'
            && (currentAnchor == ''
                || ! shouldExpand(currentList, currentAnchor, list.id))) {
          list.style.display = "none";
        }
      }
      var orderedLists = document.getElementsByTagName("ol");
      for (var i = 0; i < orderedLists.length; i++) {
        var list = orderedLists[i];
        /* Collapse the current item, unless the current URL has a fragment
         * and the fragment refers to the current item or one of its ancestors.
         */
        if (currentAnchor == ''
            || ! shouldExpand(currentList, currentAnchor, list.id)) {
          list.style.display = "none";
        }
      }
      var olderList = document.getElementById("older.list");
      olderList.style.display = "none";
      /* Add "Click to collapse/expand" tooltips to the release/section headings */
      var anchors = document.getElementsByTagName("a");
      for (var i = 0 ; i < anchors.length; i++) {
        var anchor = anchors[i];
        if (anchor.id != '') {
          if (anchor.id == 'v9.1.1' || anchor.id == 'v9.1.0') {
            anchor.title = 'Click to collapse';
          } else {
            anchor.title = 'Click to expand';
          }
        }
      }

      /* Insert "Expand All" and "Collapse All" buttons */
      var buttonsParent = document.getElementById('buttons.parent');
      var expandButton = document.createElement('button');
      expandButton.appendChild(document.createTextNode('Expand All'));
      expandButton.onclick = function() { expandAll(); }
      expandButton.id = 'expand.button';
      buttonsParent.appendChild(expandButton);
      var collapseButton = document.createElement('button');
      collapseButton.appendChild(document.createTextNode('Collapse All'));
      collapseButton.onclick = function() { collapseAll(); }
      collapseButton.id = 'collapse.button';
      buttonsParent.appendChild(collapseButton);
    }

    window.onload = collapse;
  </SCRIPT>
</head>
<body>

<h1>Apache Solr Release Notes</h1>

<div id="buttons.parent"></div>

      <p>This file lists Solr's raw release notes with details of every change to Solr.
Most people will find the solr-upgrade-notes.adoc file more approachable.
<a href="https://github.com/apache/solr/blob/main/solr/solr-ref-guide/modules/upgrade-notes/pages/solr-upgrade-notes.adoc">https://github.com/apache/solr/blob/main/solr/solr-ref-guide/modules/upgrade-notes/pages/solr-upgrade-notes.adoc</a>
</p>
<h2><a id="v9.1.1" href="javascript:toggleList('v9.1.1')">Release 9.1.1 </a></h2>
<ul id="v9.1.1.list">
  <li><a id="v9.1.1.bug_fixes" href="javascript:toggleList('v9.1.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v9.1.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16589">SOLR-16589</a>: Large fields with large=true can be truncated when using unicode values
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16585">SOLR-16585</a>: Fixed NPE when paginating MatchAllDocs with non-zero start offset, like q=*:*&amp;start=10
<br /><span class="attrib">(Michael Gibney)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16165">SOLR-16165</a>: Rare Deadlock in SlotAcc initialization
<br /><span class="attrib">(Justin Sweeney, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16622">SOLR-16622</a>: Replicas don't come up active after node restart
<br /><span class="attrib">(noble, Ishan Chattopadhyaya)</span></li>
    </ol>
  </li>
  <li><a id="v9.1.1.other_changes" href="javascript:toggleList('v9.1.1.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v9.1.1.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16443">SOLR-16443</a>: Upgrade Jackson bom to 2.13.4.20221013
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16568">SOLR-16568</a>: Upgrade woodstox-core to 6.4.0
<br /><span class="attrib">(Kira Traynor)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16598">SOLR-16598</a>: Upgrade Protobuf to 3.21.12
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16567">SOLR-16567</a>: Fixed problem with filtering and KNN search, especially when using post-filters
<br /><span class="attrib">(Alessandro Benedetti)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16588">SOLR-16588</a>: Fixed problem with default knn algorithm
<br /><span class="attrib">(Elia Porciani via Alessandro Benedetti)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16480">SOLR-16480</a>: ConfigSets now have an overridable allow-list for filetypes.
<br /><span class="attrib">(Houston Putman)</span></li>
    </ol>
  </li>
</ul>
<h2><a id="v9.1.0" href="javascript:toggleList('v9.1.0')">Release 9.1.0  [2022-11-20]</a></h2>
<ul id="v9.1.0.list">
  <li><a id="v9.1.0.new_features" href="javascript:toggleList('v9.1.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(10)
    <ol id="v9.1.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16246">SOLR-16246</a>: Introduced pre-filtering in KnnQParser
<br /><span class="attrib">(Elia Porciani via Alessandro Benedetti)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16111">SOLR-16111</a>: Add hl.queryFieldPattern support, an advanced alternative to the hl.requireFieldMatch boolean flag.
<br /><span class="attrib">(Christine Poerschke, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15921">SOLR-15921</a>: Load jars in &lt;solr-install-dir&gt;/lib/ by default
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16005">SOLR-16005</a>: Support add/update/delete field types in Admin UI Schema page.
<br /><span class="attrib">(Ahmet Can Kepenek, Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15853">SOLR-15853</a>: Admin UI support for managing Paramsets and using in Queries.
<br /><span class="attrib">(Betul Ince, Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16096">SOLR-16096</a>: Support createNodeSet parameter when creating collections in Admin UI.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14319">SOLR-14319</a>: Add ability to specify replica types when creating collections in Admin UI.
<br /><span class="attrib">(Richard Goodman, Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16282">SOLR-16282</a>: CoreAdminHandler supports custom actions via solr.xml configuration.
<br /><span class="attrib">(Artem Abeleshev, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15007">SOLR-15007</a>: Add ability to roll up core level metrics to be node level metrics for a RequestHandler via configuration.
<br /><span class="attrib">(Justin Sweeney, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15715">SOLR-15715</a>: Dedicated query coordinator nodes in the solr cluster
<br /><span class="attrib">(noble, Hitesh Khamesra, Ishan Chattopadhyaya)</span></li>
    </ol>
  </li>
  <li><a id="v9.1.0.improvements" href="javascript:toggleList('v9.1.0.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(17)
    <ol id="v9.1.0.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15986">SOLR-15986</a>: CommitUpdateCommand and SplitIndexCommand can write user commit metadata.
<br /><span class="attrib">(Bruno Roustant)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15652">SOLR-15652</a>: Add Slack channel for community support to Admin UI footer, update links.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16002">SOLR-16002</a>: Avoid redundant `FilterQuery` caching, e.g. via `filter($query)` syntax.
<br /><span class="attrib">(Michael Gibney, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15045">SOLR-15045</a>: `DistributedZkUpdateProcessor` now issues commits to local shards and remote shards in parallel,
halving the latency of synchronous commits
<br /><span class="attrib">(Michael Gibney)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16181">SOLR-16181</a>: Initialize the LogWatcher earlier in CoreContainer#load()
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16192">SOLR-16192</a>: Add ZK credentials injectors support
<br /><span class="attrib">(Lamine Idjeraoui with review by Anshum Gupta, Jason Gerlowski, Mike Drob and Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16225">SOLR-16225</a>: Upgrade dependencies (Carrot2, HPPC)
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16257">SOLR-16257</a>: Improve ZkStateReader to avoid race condition between collectionWatches and watchedCollectionStates
<br /><span class="attrib">(Patson Luk, Houston Putman, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16323">SOLR-16323</a>: The Docker image now uses the Solr User ID instead of the User Name, helps with non-root checks
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16340">SOLR-16340</a>: Provide a cluster_id label for all metrics exposed by the Solr Prometheus Exporter, making it possible to
filter Grafana board by cluster
<br /><span class="attrib">(janhoy, Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16337">SOLR-16337</a>: implement Zk metrics
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16353">SOLR-16353</a>: Make SplitShardCmd#checkDiskSpace disableable through a system property.
<br /><span class="attrib">(Haythem Khiri)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16362">SOLR-16362</a>: Logs: Truncate field values in logs if a doc fails to index.
<br /><span class="attrib">(Nazerke Seidan, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16230">SOLR-16230</a>: JWT nested roles support
<br /><span class="attrib">(Marco Descher, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16361">SOLR-16361</a>: mod() is now accurate for all integers, floats, doubles and longs upto 2^52
<br /><span class="attrib">(Dan Rosher via Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16404">SOLR-16404</a>: Prometheus Exporter: Use HTTP2 Solr clients.
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16429">SOLR-16429</a>: The s3-repository module now supports AWS STS, and therefore Web Identity Tokens, by default.
<br /><span class="attrib">(Josh Souza via Houston Putman)</span></li>
    </ol>
  </li>
  <li><a id="v9.1.0.optimizations" href="javascript:toggleList('v9.1.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(8)
    <ol id="v9.1.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16120">SOLR-16120</a>: Optimise hl.fl expansion.
<br /><span class="attrib">(Christine Poerschke, David Smiley, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14765">SOLR-14765</a>: Optimize DocList creation for sort-irrelevant cases. This issue also reworks the building and caching of liveDocs
in SolrIndexSearcher, and refines/clarifies the effect of `useFilterForSortedQuery`
<br /><span class="attrib">(Michael Gibney, Mike Drob, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16146">SOLR-16146</a>: Avoid loading all collections during node startup
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16266">SOLR-16266</a>: Eliminate unneccessary byte[] copy in Http2SolrClient
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9359">SOLR-9359</a>: Enable warming queries to be managed using Config API
<br /><span class="attrib">(Andy Webb, Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16336">SOLR-16336</a>: avoid fetching solrconfig.xml &amp; schema.xml for already cached schema and config
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16328">SOLR-16328</a>: intern() strings in DocCollection to reduce memory footprint
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16445">SOLR-16445</a>: Leader message should only be sent when there is more than one (NRT+Tlog) replica
<br /><span class="attrib">(Hitesh Khamesra, noble via Ishan Chattopadhyaya)</span></li>
    </ol>
  </li>
  <li><a id="v9.1.0.bug_fixes" href="javascript:toggleList('v9.1.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(44)
    <ol id="v9.1.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13219">SOLR-13219</a>: Fix NPE in FieldLengthFeature with non-stored/missing fields
<br /><span class="attrib">(Nick Veenhof, Tomasz Elendt)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15918">SOLR-15918</a>: Skip repetitive parent znode creation on config set upload
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15964">SOLR-15964</a>: Transient cores: don't evict a core when it's still being used.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15116">SOLR-15116</a>: Support a HEAD request for managed resources.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16089">SOLR-16089</a>: Fix empty columns in Cloud Node UI Screen when replica is in down state.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16112">SOLR-16112</a>: DefaultSolrHighlighter.doHighlighting to Query#rewrite multiple times if necessary.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13044">SOLR-13044</a>: Fix NPE during core close racing with index replication check.
<br /><span class="attrib">(David Smiley, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16145">SOLR-16145</a>: Fix very rare NPE in SolrCloud rejoinOverseerElection.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16168">SOLR-16168</a>: Spellcheck NPE if invalid dictionary name is provided
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15830">SOLR-15830</a>: Concurrent core reloads mess up commits when using Schema API
<br /><span class="attrib">(Bence Szabo via Andras Salamon)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16169">SOLR-16169</a>: IndexBasedSpellChecker with empty spellcheck.q results in NegativeArraySizeException
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16110">SOLR-16110</a>: Using Schema/Config API breaks the File-Upload of Config Set File
<br /><span class="attrib">(Steffen Moldenhauer, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16218">SOLR-16218</a>: failOnVersionConflicts option not working for in-place updates
<br /><span class="attrib">(Lamine Idjeraoui)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16259">SOLR-16259</a>: Missing newline at the end of solr.in.sh breaks the installer.
<br /><span class="attrib">(John Gately via Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16241">SOLR-16241</a>: Fix JettyConfig.builder(JettyConfig) to correctly copy all attributes
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16142">SOLR-16142</a>: Fix Admin UI's spatial parameter generation.
<br /><span class="attrib">(Arsal Jalib, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9661">SOLR-9661</a>: Fix explanation of select() streaming expression that uses replace() operation
<br /><span class="attrib">(Ahmet Can Kepenek via Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16316">SOLR-16316</a>: Fix debugQuery clicking on the Query UI does not show the debug.explain.structured option.
<br /><span class="attrib">(Shiming Li via Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16399">SOLR-16399</a>: ExportWriter fails with max values for fields
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16357">SOLR-16357</a>: CaffeineCache ramBytes incorrect accounting on updates and deletes
<br /><span class="attrib">(Alex Deparvu)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16343">SOLR-16343</a>: Handle MDC snapshot being null
<br /><span class="attrib">(Dee Moore via Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7883">SOLR-7883</a>: MoreLikeThisHandler to support facets
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16406">SOLR-16406</a>: Take SOLR_MODULES, configured by solr.in.sh, into account.
<br /><span class="attrib">(Thomas Wöckinger via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16344">SOLR-16344</a>: PlacementPlugin throws NPE for PRS collections
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16417">SOLR-16417</a>: NPE if facet query hits timeout or exception
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16414">SOLR-16414</a>: Race condition in PRS state updates
<br /><span class="attrib">(noble, Justin Sweeney, Patson Luk, Hitesh Khamesra, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16418">SOLR-16418</a>: Introduce SolrResponseUtil to handle NPE during query timeout or exception when parsing SolrResponse
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16219">SOLR-16219</a>: ICUCollationField protected field IllegalAccessException from different classloader
<br /><span class="attrib">(Michael Gibney)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16426">SOLR-16426</a>: LBHttp2SolrClient (and therefore CloudHttp2SolrClient) now respect requestWriter, responseParser and queryParam changes
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16232">SOLR-16232</a>: Fix EnvVar usage in bin/solr
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16439">SOLR-16439</a>: Cloud Node does not have Core, the admin UI cannot be displayed properly.
<br /><span class="attrib">(Shiming Li)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16229">SOLR-16229</a>: Http2SolrClient aborts requests on exception
<br /><span class="attrib">(Daniel Rabus, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16433">SOLR-16433</a>: Security Manager prevents Solr SQL from working
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16460">SOLR-16460</a>: ClusterState.copyWith is inconsistent
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16440">SOLR-16440</a>: RefreshCollectionMessage in PRS should update Overseer's ZkStateWriter
<br /><span class="attrib">(noble, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16453">SOLR-16453</a>: Overseer doesn't handle PRS and non-PRS messages properly
<br /><span class="attrib">(Justin Sweeney, Hitesh Khamesra)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16463">SOLR-16463</a>: Workaround for serious crash on JDK17+ due to JIT on caffeinecache
<br /><span class="attrib">(janhoy, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16478">SOLR-16478</a> :removing a replica should delete the PRS entry from the hostnode and not from overseer
<br /><span class="attrib">(Patson Luk via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16485">SOLR-16485</a>: Fix NPE in ShardHandlerFactory when running in Standalone mode
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16412">SOLR-16412</a>: Race condition could trigger error on concurrent SizeLimitedDistributedMap cleanup
<br /><span class="attrib">(Patson Luk via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16416">SOLR-16416</a>: OverseerPrioritizer now runs after all handlers are registered, and retries on failures.
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14679">SOLR-14679</a>: Fix continuously growing TLOGs on TLOG replicas
<br /><span class="attrib">(Viktor Molnár via Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16502">SOLR-16502</a>: Multiple CopyField should not limit to first maxChars
<br /><span class="attrib">(Fredrik Rodland, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16527">SOLR-16527</a>: RuleBasedAuthorizationPluginBase NPE
<br /><span class="attrib">(Alex Deparvu)</span></li>
    </ol>
  </li>
  <li><a id="v9.1.0.other_changes" href="javascript:toggleList('v9.1.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(34)
    <ol id="v9.1.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16351">SOLR-16351</a>: Upgrade Carrot2 to 4.4.3, upgrade randomizedtesting to 2.8.0.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16245">SOLR-16245</a>: Make DenseVectorField codec agnostic
<br /><span class="attrib">(Elia Porciani via Alessandro Benedetti)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15897">SOLR-15897</a>: Remove &lt;jmx/&gt; from all unit test solrconfig.xml files.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15776">SOLR-15776</a>: Admin UI is now aware of logged-in user's permissions and can adapt accordingly
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15923">SOLR-15923</a>: Cue users in 404 message that Solr is running and the url is incorrect.
<br /><span class="attrib">(Eric Pugh, Mike Drob, Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9529">SOLR-9529</a>: Consistency in how dynamic fields are defined in sample schema.xml files
<br /><span class="attrib">(Eric Pugh, Trey Grainger)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15886">SOLR-15886</a>: Remove deprecated showItems configuration value from solrconfig.xml files
<br /><span class="attrib">(Andy Lester via Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16114">SOLR-16114</a>: SolrZooKeeper has been removed in favor of using ZooKeeper directly.
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16154">SOLR-16154</a>: Event listeners submit through core container executor service instead of separate thread
<br /><span class="attrib">(Mike Drob, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16190">SOLR-16190</a>: Http2SolrClient should make sure to shutdown the executor
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16191">SOLR-16191</a>: Validate that installed ps utility supports -p flag, so that we do not inadvertantly stop the wrong process.
<br /><span class="attrib">(Mike Drob, Michael Gibney)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16209">SOLR-16209</a>: Rolling restart will no longer trigger as much PKI Plugin error logging.
<br /><span class="attrib">(Mike Drob, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16213">SOLR-16213</a>: Upgrade Jackson to 2.13.3
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16231">SOLR-16231</a>: Fix ref-guide links across the codebase
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16304">SOLR-16304</a>: No more @Slow annotation for tests!
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16331">SOLR-16331</a>: Migrate remaining managed-schema files to be managed-schema.xml.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16332">SOLR-16332</a>: Upgrade Jetty to 9.4.48.v20220622
<br /><span class="attrib">(Chris Sabelstrom, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16339">SOLR-16339</a>: Refined "no servers hosting shard" SolrException wording.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15342">SOLR-15342</a>: SolrJ: Split ZooKeeper based dependencies off to a solr-solrj-zookeeper module /
dependency.
<br /><span class="attrib">(David Smiley, Haythem Khiri)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16324">SOLR-16324</a>: Upgrade commons-configuration2 to 2.8.0 and commons-text to 1.8
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16296">SOLR-16296</a>: XmlConfigFile and QueryElevationComponent now use SafeXMLParsing.
<br /><span class="attrib">(Haythem Khiri)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16369">SOLR-16369</a>: Avoid XPath in parsing elevate.xml
<br /><span class="attrib">(Haythem Khiri)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16402">SOLR-16402</a>: Bump google-cloud-bom to 0.178.0
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16141">SOLR-16141</a>: Upgrade Apache Tika to 1.28.4
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16424">SOLR-16424</a>: Upgrade Netty to 4.1.82.Final
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16421">SOLR-16421</a>: Upgrade Apache Calcite to 1.32.0 and Avatica to 1.22.0
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16422">SOLR-16422</a>: Upgrade Apache Zookeeper to 3.8.0
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16423">SOLR-16423</a>: Upgrade Apache Hadoop to 3.3.4
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16450">SOLR-16450</a>: Proper handling on watcher registration failure in ZkStateReader#waitForState()
<br /><span class="attrib">(Hitesh Khamesra via Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16451">SOLR-16451</a>: Don't fetch the PRS states while registering the collection watch
<br /><span class="attrib">(Hitesh Khamesra via Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16452">SOLR-16452</a>: Do not update PRS states if local version is newer
<br /><span class="attrib">(Hitesh Khamesra via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16464">SOLR-16464</a>: Upgrade commons-text to 1.10.0
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16482">SOLR-16482</a>: Add an internal envVar for passing options to bin/solr that will not be overriden by the user.
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16486">SOLR-16486</a>: Pin the OS Variant for the default base image of the Dockerfile (to Ubuntu 20).
<br /><span class="attrib">(Houston Putman, janhoy, Eva Müller)</span></li>
    </ol>
  </li>
  <li><a id="v9.1.0.build" href="javascript:toggleList('v9.1.0.build')">Build</a>&nbsp;&nbsp;&nbsp;(9)
    <ol id="v9.1.0.build.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16204">SOLR-16204</a>: Change Lucene dependency to Lucene 9.1.0
<br /><span class="attrib">(Elia Porciani via Alessandro Benedetti)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16303">SOLR-16303</a>: Change Lucene dependency to Lucene 9.3.0
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16053">SOLR-16053</a>: Upgrade scriptDepVersions
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16050">SOLR-16050</a>: Upgrade to errorprone 2.11.0
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li>Upgrade forbiddenapis to 3.3
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16258">SOLR-16258</a>: Gradle no longer uses "errorprone" by default
<br /><span class="attrib">(Dawid Weiss, Uwe Schindler, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16264">SOLR-16264</a>: Set versions for all Antora build tools
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16299">SOLR-16299</a>: Ref-guide examples are no longer symlinked from SolrJ, they live in the ref-guide module
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16298">SOLR-16298</a>: Clean the javadocs directory before building
<br /><span class="attrib">(Houston Putman, Mike Drob, Uwe Schindler)</span></li>
    </ol>
  </li>
</ul>
<h2><a id="older" href="javascript:toggleList('older')">Older Releases</a></h2>
<div id="older.list">
<h3><a id="v9.0.0" href="javascript:toggleList('v9.0.0')">Release 9.0.0  [2022-05-12]</a></h3>
<ul id="v9.0.0.list">
  <li><a id="v9.0.0.new_features" href="javascript:toggleList('v9.0.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(18)
    <ol id="v9.0.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14440">SOLR-14440</a>: Introduce new Certificate Authentication Plugin to load Principal from certificate subject.
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13528">SOLR-13528</a> Rate Limiting in Solr
<br /><span class="attrib">(Atri Sharma, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14749">SOLR-14749</a>: Provide a clean API for cluster-level event processing.
Improve support for arbitrary container-level plugins. Add ClusterSingleton
support for plugins that require only one active instance in the cluster.
<br /><span class="attrib">(ab, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14613">SOLR-14613</a>, <a href="http://issues.apache.org/jira/browse/SOLR-15019">SOLR-15019</a>: Autoscaling replacement using placement plugins
<br /><span class="attrib">(ilan, ab, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15055">SOLR-15055</a>: Re-implement 'withCollection'. This also adds the placement plugin support
for rejecting replica / collection deletions that would violate placement constraints.
<br /><span class="attrib">(ab, ilan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15130">SOLR-15130</a>: Support for per-collection replica placement node sets, a.k.a "node type"
placements.
<br /><span class="attrib">(ab, ilan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8138">SOLR-8138</a>: Simple UI for issuing SQL queries
<br /><span class="attrib">(Michael Suzuki via Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14787">SOLR-14787</a>: Payload check query parser now supports inequalities.
<br /><span class="attrib">(Kevin Watters, Gus Heck)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15164">SOLR-15164</a>: Implement Task Management Interface
<br /><span class="attrib">(Atri Sharma, with extensive review and perf testing by Anshum Gupta, Mike Drob and Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15300">SOLR-15300</a>: Report collection and shard "health" state in CLUSTERSTATUS response.
<br /><span class="attrib">(ab, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15423">SOLR-15423</a>: JWTAuthPlugin now supports separate config for what SSL certs to trust when talking to IdPs
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15694">SOLR-15694</a>: Node roles framework, allowing restriction of certain nodes to certain tasks
<br /><span class="attrib">(Ishan Chattopadhyaya, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15197">SOLR-15197</a>: Support temporal graph queries with DAY and WEEKDAY windows
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15914">SOLR-15914</a>: Official Solr modules (contribs) can now easily be added to shared class path by environment variable
'SOLR_MODULES' or system property 'solr.modules'. E.g: SOLR_MODULES=extracting,langid
<br /><span class="attrib">(janhoy, David Smiley, Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15880">SOLR-15880</a>: Introduce support for k nearest neighbors search
<br /><span class="attrib">(Alessandro Benedetti, Elia Porciani)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14660">SOLR-14660</a>: Move HDFS support to a new HDFS module
<br /><span class="attrib">(Istvan Farkas, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13989">SOLR-13989</a>: Move Hadoop Authentication support to a new hadoop-auth module
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15904">SOLR-15904</a>: Move SQL support to new sql module
<br /><span class="attrib">(Kevin Risden)</span></li>
    </ol>
  </li>
  <li><a id="v9.0.0.improvements" href="javascript:toggleList('v9.0.0.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(69)
    <ol id="v9.0.0.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-8984">LUCENE-8984</a>: MoreLikeThis MLT is biased for uncommon fields
<br /><span class="attrib">(Andy Hind via Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14223">SOLR-14223</a>: PKI Auth can bootstrap from existing key files instead of creating new keys on startup
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15153">SOLR-15153</a>: Admin UI: Collection selector drop down does not sort collections
<br /><span class="attrib">(Edward Ribeiro)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11725">SOLR-11725</a>: Use corrected sample formula for computing stdDev and variance in JSON aggregations
<br /><span class="attrib">(hossman, Munendra S N, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14387">SOLR-14387</a>: SolrClient.getById() will escape comma separator within ids
<br /><span class="attrib">(Markus Schuch via Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15327">SOLR-15327</a>: Fix typos in the code base
<br /><span class="attrib">(Edward Ribeiro via Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10814">SOLR-10814</a>: Add short-name feature to RuleBasedAuthz plugin
<br /><span class="attrib">(Mike Drob, Hrishikesh Gadre)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7683">SOLR-7683</a>: Introduce support to identify Solr internal request types
<br /><span class="attrib">(Atri Sharma, Hrishikesh Gadre)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14799">SOLR-14799</a>: JWT authentication plugin only requires "sub" claim when principalClaim=sub.
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14878">SOLR-14878</a>: Report solr.xml's coreRootDirectory property via System Settings API, when set
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14880">SOLR-14880</a>: Support coreRootDirectory setting when creating new cores from command line in standalone mode
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14926">SOLR-14926</a>, <a href="http://issues.apache.org/jira/browse/SOLR-14926">SOLR-14926</a>, <a href="http://issues.apache.org/jira/browse/SOLR-13506">SOLR-13506</a>: Modernize and clean up search results clustering module. This issue upgrades
the clustering module to the new Carrot2 4.x line, dropping several CVE-prone dependencies along the way.
The parameters and configuration of the module extensions have changed. The documentation in Solr ref guide
has been rewritten from scratch to be up to date. Clustering code has been rewritten from scratch to work
properly regardless of the mode (standalone, distributed). The API has been stripped of ancient, unused, interfaces
and simplified.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14972">SOLR-14972</a>: Prometheus: Change default port of prometheus exporter to 8989 because it clashed with default
embedded zookeeper port
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15011">SOLR-15011</a>: /admin/logging handler will now propagate setLevel (log threshold) to all nodes
when told to. The admin UI now tells it to.
<br /><span class="attrib">(Nazerke Seidan, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15100">SOLR-15100</a>: Make the ConfigSetService pluggable/configurable via &lt;string name="configSetService" /&gt; in solr.xml
<br /><span class="attrib">(baisui)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15185">SOLR-15185</a>: Various optimizations to the {!hash} QParser, typically used by the parallel()
streaming expression.  The hash algorithm changed.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2852">SOLR-2852</a>: SolrJ: remove Woodstox dependency.  It was never truly required there.
Software doing lots of XML processing can choose to add it or alternatives if they wish.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15161">SOLR-15161</a>: Don't encourage users to hack JSON response mimetype by documenting in examples how to
specify wt=json use mimetype of text/plain.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15276">SOLR-15276</a>: V2 API call to look up async request status restful style of "/cluster/command-status/1000" instead
of "/cluster/command-status?requestid=1000".
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15274">SOLR-15274</a>: The QueryElevationComponent now supports loading elevation file changes on commits.
This doesn't work in SolrCloud (but may someday).  QEC no longer supports a config file in
the data dir.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14185">SOLR-14185</a>: Added DocSet.iterator(LeafReaderContext) and some related changes that may add
a minor performance boost to some cases (e.g. interval facets).  Reduced need for Filter.java.
<br /><span class="attrib">(Michael Gibney, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15329">SOLR-15329</a>: Improve HDFS Directory size calculation
<br /><span class="attrib">(Andras Salamon via Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15340">SOLR-15340</a>: Rename shardsWhitelist and extract AllowListUrlChecker to use it more broadly.
<br /><span class="attrib">(Bruno Roustant)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15414">SOLR-15414</a>: Use ConfigSet API instead of Zookeeper data node to list out configsets available in Solr Admin UI.
<br /><span class="attrib">(Nazerke Seidan via Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15421">SOLR-15421</a>: ConfigSet API also checks for solrconfig.xml when checking the existence of a configset
<br /><span class="attrib">(Andras Salamon via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15392">SOLR-15392</a>: Distributed Tracing request span operation names are now composed of a command/verb
and a templated path.  The collection or core name is now in the db.instance tag.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15453">SOLR-15453</a>: Update the content security policy in Jetty to allow image requests from local host and prevent security
errors on the client side.
<br /><span class="attrib">(MarcusSorealheis via Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15362">SOLR-15362</a>: Let core and collection dropdowns in Admin UI float wide to see entire core or collection name.
<br /><span class="attrib">(Matthias Krepp, Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15044">SOLR-15044</a>: When indexing nested docs via JSON, it is no longer necessary to provide child doc IDs.
This was already working for XML &amp; "javabin"/SolrJ.  Previously, omitting the ID would be confused
for a partial/atomic update.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10887">SOLR-10887</a>: Migrate "managed-schema" file naming to "managed-schema.xml" file name, with a fallback to the legacy
"managed-schema".
<br /><span class="attrib">(Eric Pugh, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15630">SOLR-15630</a>: Logging MDC values no longer include a hardcoded prefix, allowing custom logging configurations access to
the plain values. The default log4j2.xml PatternLayout has been updated to ensure the values are formatted with the
existing prefixes.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15650">SOLR-15650</a>: Choosing lucene defType in Solr Admin now is passed explicitly through UI, not relying on default
solrconfig.xml behavior.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12848">SOLR-12848</a>: SolrJ and the server can now recognize some standard Java system properties like
for an HTTP proxy.  This is only for the Apache HttpClient based SolrJ communication, not Jetty.
<br /><span class="attrib">(Shawn Heisey, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15301">SOLR-15301</a>: Eliminate repetitive index size calculation for Solr metrics
<br /><span class="attrib">(Andras Salamon)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15617">SOLR-15617</a>: Add kerberos.name.rules.mechanism support to KerberosPlugin
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15278">SOLR-15278</a>: Add V2 equivalent to allow deleting async collection list of statuses.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11623">SOLR-11623</a>: Every request handler in Solr now implements PermissionNameProvider to explicitly decide on what security
permissions are required to access the handler
<br /><span class="attrib">(janhoy, Hrishikesh Gadre, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15705">SOLR-15705</a>: A delete-by-id command is forwarded to all shards when using the CompositeId router with a router field
and the route is missing from the command.
<br /><span class="attrib">(Michael Kosten via Christine Poerschke, David Smiley, Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15790">SOLR-15790</a>: SearchHandler now includes the `rid` value in the Logging MDC for the duration of the request, allowing
custom logging configurations to include it.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15785">SOLR-15785</a>: Custom node request handlers/endpoints that weren't in packages can now be located in JARs in solr-home/lib,
not just WEB-INF/lib.
<br /><span class="attrib">(Nazerke Seidan, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15376">SOLR-15376</a>: Accept "Long" values for CollectionAdminRequest.CreateTimeRoutedAlias.setMaxFutureMs
to support durations greater than ~ 25 days.
<br /><span class="attrib">(Nahian-Al Hasan, Gus Heck, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15427">SOLR-15427</a>: Nested docs: [child limit=...] now defaults to -1 which is interpreted as unlimited.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15786">SOLR-15786</a>: Add the "films" example to SolrCLI via -e films parameter.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15834">SOLR-15834</a>: Films example readme needs updating, including useParams support for multiple algorithms.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15824">SOLR-15824</a>: Improved Query Screen handling of raw query parameters.
<br /><span class="attrib">(Betul Ince via Tim Potter, Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15803">SOLR-15803</a>: Compute concurrent replica assignment requests together, using the shared context to better distribute
replicas.
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15213">SOLR-15213</a>: Atomic updates: "add" now uses add-or-replace logic for child documents.  They can
also themselves be atomic updates.
<br /><span class="attrib">(James Ashbourne, Endika Posadas via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10321">SOLR-10321</a>: Highlighting (hl.method=unified): When there are no highlights for a field, don't
return the field in the response at all.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15890">SOLR-15890</a>: Add a limit to the Admin SQL panel if one is not included in the stmt
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15887">SOLR-15887</a>: Remove &lt;jmx/&gt; from shipped solrconfig.xml.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14608">SOLR-14608</a>: Faster sorting for the /export handler
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15209">SOLR-15209</a>: The old LegacyAssignStrategy has been refactored into the SimplePlacementPlugin. This is still the default
placement policy for Solr.
<br /><span class="attrib">(Houston Putman, Ilan Ginzburg)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15257">SOLR-15257</a>: Replace DocSet.getTopFilter with DocSet.makeQuery. Create DocSetQuery which is a Query
and DocSetProducer.
<br /><span class="attrib">(Collins Abanda, Mike Drob, Tim Potter, David Smiley, Michael Gibney)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12336">SOLR-12336</a>: Remove Filter, SolrFilter and SolrConstantScoreQuery. Filter no longer has a need to exist due to multiple JIRA issues,
implemented by a number of issues. With Filter going away, there is no longer need for SolrConstantScoreQuery.
<br /><span class="attrib">(Collins Abanda, Mike Drob, Tim Potter, David Smiley, Michael Gibney)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14916">SOLR-14916</a>: Add split parameter to timeseries Streaming Expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14686">SOLR-14686</a>: Logs: Removed the "[corename]" prefix of some SolrCore logs that has become redundant
with MDC.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15884">SOLR-15884</a>: Backup responses now use a map to return information instead of a list
<br /><span class="attrib">(Houston Putman, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9376">SOLR-9376</a>: Raw value DocTransformers (`[xml]`, `[json]`, `[geo w=GeoJSON]`) now work
in a distributed/SolrCloud context
<br /><span class="attrib">(Michael Gibney)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15755">SOLR-15755</a>: Parse collection, shard, core, replica info from newSearcher events in postlogs tool
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9575">SOLR-9575</a>: Solr no longer requires a solr.xml to be present in $SOLR_HOME. If one is not found, Solr will load
the one in $SOLR_TIP/server/solr/solr.xml. Solr also does not require a zoo.cfg in $SOLR_HOME if started with
embedded zookeeper.
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11905">SOLR-11905</a>: New Admin UI Query screen input boxes for JSON query and facet DSL
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15556">SOLR-15556</a>: Migrate the Ref Guide to be built with Antora, enabling many new features
<br /><span class="attrib">(Cassandra Targett, Houston Putman, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15965">SOLR-15965</a>: Use better signatures for the PKI Authentication plugin.
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15982">SOLR-15982</a>: Add end time value to backup response, standardize backup response key names and date formats
<br /><span class="attrib">(Artem Abeleshev, Christine Poerschke, Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14401">SOLR-14401</a>: Metrics: Only SearchHandler and subclasses have "local" metrics now.
It's now tracked as if it's another handler with a "[shard]" suffix, e.g. "/select[shard]".
There are no longer ".distrib." named metrics; all metrics are assumed to be such except
"[shard]". The default Prometheus exporter config splits that component to a new label
named "internal".  The sample Grafana dashboard now filters to include or exclude this.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16088">SOLR-16088</a>: De-couple Http2SolrClient and ContentStreamBase from org.apache.http
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15286">SOLR-15286</a>: A brand new follower in the legacy mode should wait to replicate index before reporting
healthy
<br /><span class="attrib">(Pushkar Raste, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15590">SOLR-15590</a>: Start CoreContainer via ServletContextListener
<br /><span class="attrib">(Gus Heck)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16131">SOLR-16131</a>: Jetty threads' contextClassLoaders are set to the Solr core's resourceLoader's classLoader.
This allows for custom plugins and Solr modules to rely on 3rd part dependencies that use the thread contextClassLoader.
<br /><span class="attrib">(Houston Putman)</span></li>
    </ol>
  </li>
  <li><a id="v9.0.0.build" href="javascript:toggleList('v9.0.0.build')">Build</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="v9.0.0.build.list">
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-9077">LUCENE-9077</a> <a href="http://issues.apache.org/jira/browse/LUCENE-9433">LUCENE-9433</a>: Support Gradle build, remove Ant support from trunk
<br /><span class="attrib">(Dawid Weiss, Erick Erickson, Uwe Schindler et.al.)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-9411">LUCENE-9411</a>: Fail compilation on warnings, 9x gradle-only (Erick Erickson, Dawid Weiss)
Deserves mention here as well as Lucene CHANGES.txt since it affects both.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13671">SOLR-13671</a>: Remove check for bare "var" declarations in validate-source-patterns
<br /><span class="attrib">(Erick Erickson, Alex Bulygin, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14857">SOLR-14857</a>: Add optional gradle property to run docker tests in parallel
<br /><span class="attrib">(hossman, Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15793">SOLR-15793</a>: Pin http_parser.rb to specific version to allow Solr Ref Guide on Jekyll to run
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15867">SOLR-15867</a>: Make the gradle build ready for 9.0 release
<br /><span class="attrib">(janhoy, Houston Putman, Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15852">SOLR-15852</a>: Update dev-tools/scripts for the 9.0 release, including releaseWizard
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15891">SOLR-15891</a>: The Solr Docker image uses the default file permissions from the tarball artifact
<br /><span class="attrib">(Houston Putman, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15603">SOLR-15603</a>: Add an option to activate Gradle build cache, build task cleanups
<br /><span class="attrib">(Alexis Tual, Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15613">SOLR-15613</a>: Enforce error-prone checks to catch all URLEqualsHashCode violations and use java.net.URI instead
<br /><span class="attrib">(Collins Abanda)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15670">SOLR-15670</a>: Introduce Gradle parameter to skip ref-guide tasks
<br /><span class="attrib">(Houston Putman, Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15984">SOLR-15984</a>: Ensure all used dependencies are declared
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15987">SOLR-15987</a>: Upgrade slf4j to 1.7.35 and remove ant-compat/force-versions.gradle
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15992">SOLR-15992</a>: Globally forbid and exclude known bad dependencies
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12228">SOLR-12228</a>: Move bin-test scripts to packaging project and create gradle task for running them.
<br /><span class="attrib">(Mike Drob)</span></li>
    </ol>
  </li>
  <li><a id="v9.0.0.docker" href="javascript:toggleList('v9.0.0.docker')">Docker</a>&nbsp;&nbsp;&nbsp;(12)
    <ol id="v9.0.0.docker.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14789">SOLR-14789</a>: Migrate docker image creation from docker-solr repo to solr/docker.
<br /><span class="attrib">(Houston Putman, Martijn Koster, Tim Potter, David Smiley, janhoy, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14790">SOLR-14790</a>: Docker: Move Solr Docker image documentation to the ref guide.
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15322">SOLR-15322</a>: Solr releases now contain everything needed to build runnable docker images
<br /><span class="attrib">(Houston Putman, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15949">SOLR-15949</a>: Docker: the official image now uses Java 17 provided by Eclipse Temurin.  Formerly it was Java 11 from OpenJDK.
<br /><span class="attrib">(janhoy, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15891">SOLR-15891</a>: The Solr Docker image uses the default file permissions from the tarball artifact
<br /><span class="attrib">(Houston Putman, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14001">SOLR-14001</a>: Docker: Removed /var/solr initialization from the Dockerfile; depend on init_var_solr.sh instead.
This leads to more consistent behavior no matter how /var/solr is mounted.
</li>
      <li>init_var_solr.sh is now invoked by docker-entrypoint.sh; not in a bunch of other places.
</li>
      <li>as before, you can set NO_INIT_VAR_SOLR=1 to short-circuit this.
</li>
      <li>init_var_solr.sh no longer echo's anything.  For verbosity, set VERBOSE=yes.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14957">SOLR-14957</a>: Docker, Prometheus: Add Prometheus Exporter to docker PATH. Fix classpath issues.
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14949">SOLR-14949</a>: Docker: Ability to customize the FROM image when building.
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15335">SOLR-15335</a>: Docker: Solr has capability to build functionally-identical local and official Docker image.
<br /><span class="attrib">(hossman, Houston Putman)</span></li>
    </ol>
  </li>
  <li><a id="v9.0.0.deprecation_removals" href="javascript:toggleList('v9.0.0.deprecation_removals')">Deprecation Removals</a>&nbsp;&nbsp;&nbsp;(21)
    <ol id="v9.0.0.deprecation_removals.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15203">SOLR-15203</a>: JWT Auth plugin: Remove deprecated parameter name jwkUrl in favour of jwksUrl for the JWK Url.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15608">SOLR-15608</a>: Remove deprecated methods, classes and constructors from solrj clients
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14272">SOLR-14272</a>: Remove autoReplicaFailoverBadNodeExpiration and autoReplicaFailoverWorkLoopDelay for 9.0 as it was
deprecated in 7.1
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14197">SOLR-14197</a>: SolrResourceLoader: remove deprecated methods and do other improvements.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9909">SOLR-9909</a>: The deprecated SolrjNamedThreadFactory has been removed. Use SolrNamedThreadFactory instead.
<br /><span class="attrib">(Andras Salamon, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14783">SOLR-14783</a>: Remove Data Import Handler (DIH), previously deprecated
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14035">SOLR-14035</a>: Remove deprecated preferLocalShards=true support in favour of the shards.preference=replica.location:local
alternative.
<br /><span class="attrib">(Alex Bulygin via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14934">SOLR-14934</a>: Remove redundant deprecated "solr.solr.home" logic
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14034">SOLR-14034</a>: Remove deprecated min_rf references
<br /><span class="attrib">(Tim Dillon)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13893">SOLR-13893</a>: Remove support to read BlobRepository's max jar size from deprecated `runtme.lib.size` system property
<br /><span class="attrib">(Erick Erickson, Kesharee Nandan Vishwakarma, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12720">SOLR-12720</a>: Remove support for `autoReplicaFailoverWaitAfterExpiration`.
<br /><span class="attrib">(marcussorealheis, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12823">SOLR-12823</a>: Remove /clusterstate.json support, including support for collections created with stateFormat=1,
as well as support for Collection API MIGRATESTATEFORMAT action and support for the legacyCloud flag
<br /><span class="attrib">(Ilan Ginzburg)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12847">SOLR-12847</a>: Remove support for maxShardsPerNode.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14244">SOLR-14244</a>: Remove ReplicaInfo.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14654">SOLR-14654</a>: Remove plugin loading from .system collection
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14944">SOLR-14944</a>: Remove the "spins" metrics - support for detection of spinning disks has been
removed in <a href="http://issues.apache.org/jira/browse/LUCENE-9576">LUCENE-9576</a>.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15341">SOLR-15341</a>: Remove indexHeapUsageBytes info from /admin/segments and /admin/luke because it's no
longer available in Lucene -- <a href="http://issues.apache.org/jira/browse/LUCENE-9387">LUCENE-9387</a>.
<br /><span class="attrib">(janhoy, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15416">SOLR-15416</a>: Remove metrics history collection (and MetricsHistoryHandler).
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13138">SOLR-13138</a>: Remove deprecated LegacyBM25SimilarityFactory class.
<br /><span class="attrib">(Christine Poerschke, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15716">SOLR-15716</a>: Remove deprecated SolrException.ignorePatterns and related code
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12336">SOLR-12336</a>: Remove Filter, SolrFilter and SolrConstantScoreQuery. Filter no longer has a need to exist due to multiple
JIRA issues, implemented by a number of issues. With Filter going away, there is no longer need for
SolrConstantScoreQuery.
<br /><span class="attrib">(Collins Abanda, Mike Drob, Tim Potter, David Smiley, Michael Gibney)</span></li>
    </ol>
  </li>
  <li><a id="v9.0.0.other_changes" href="javascript:toggleList('v9.0.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(104)
    <ol id="v9.0.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14656">SOLR-14656</a>: Autoscaling framework removed
<br /><span class="attrib">(Ishan Chattopadhyaya, noble, Ilan Ginzburg)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14616">SOLR-14616</a>: CDCR support removed
<br /><span class="attrib">(Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-9391">LUCENE-9391</a>: Upgrade HPPC to 0.8.2.
<br /><span class="attrib">(Haoyu Zhai)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10288">SOLR-10288</a>: Remove non-minified JavaScript from the webapp.
<br /><span class="attrib">(Erik Hatcher, marcussorealheis)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13655">SOLR-13655</a>: Upgrade Collections.unModifiableSet to Set.of and Set.copyOf
<br /><span class="attrib">(Atri Sharma via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13797">SOLR-13797</a>: SolrResourceLoader no longer caches bad results when asked for wrong type
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-9092">LUCENE-9092</a>: Upgrade Carrot2 to 3.16.2
<br /><span class="attrib">(Dawid Weiss)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-9080">LUCENE-9080</a>: Upgrade ICU4j to 62.2 and make regenerate work
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14271">SOLR-14271</a>: Remove duplicate async id check meant for pre Solr 8 versions
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14272">SOLR-14272</a>: Remove autoReplicaFailoverBadNodeExpiration and autoReplicaFailoverWorkLoopDelay for 9.0 as it was
deprecated in 7.1
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14258">SOLR-14258</a>: DocList no longer extends DocSet.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14256">SOLR-14256</a>: Remove HashDocSet; add DocSet.getBits() instead.  DocSet is now strictly immutable and ascending order.
It's now locked-down to external extension; only 2 impls exist.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14012">SOLR-14012</a>: Return long value for unique and hll aggregations irrespective of shard count
<br /><span class="attrib">(Munendra S N, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14322">SOLR-14322</a>: AbstractFullDistribZkTestBase.waitForRecoveriesToFinish now takes a timeout and time unit instead of
assuming that we are passed value in seconds.
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14420">SOLR-14420</a>: AuthenticationPlugin.authenticate accepts HttpServletRequest instead of ServletRequest.
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14429">SOLR-14429</a>: Convert .txt files to properly formatted .md files.
<br /><span class="attrib">(Tomoko Uchida, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14412">SOLR-14412</a>: Automatically set urlScheme to https when running secure solr with embedded zookeeper. (Mike Drob)
Do not erroneously set solr.jetty.https.port system property when running in http mode
<br /><span class="attrib">(Upendra Penegalapati)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14014">SOLR-14014</a>: Introducing a system property that allows users to disable the Admin UI, which is enabled by default.
If you have security concerns or other reasons to disable the Admin UI, you can modify `SOLR_ADMIN_UI_DISABLED`
`solr.in.sh`/`solr.in.cmd` at start.
<br /><span class="attrib">(marcussorealheis)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14702">SOLR-14702</a>: All references to "master" and "slave" replaced with "leader" and "follower"
<br /><span class="attrib">(MarcusSorealheis,
Erick Erickson, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14846">SOLR-14846</a>: Backup/Restore classes no longer take Optional method parameters and will accept nulls instead.
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-9531">LUCENE-9531</a>: Consolidated CharStream and FastCharStream classes: these have been moved from each query parser
             package to org.apache.lucene.queryparser.charstream
<br /><span class="attrib">(Dawid Weiss)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9607">SOLR-9607</a>: Remove /terms configuration from solrconfig.xml, as implicit definition is up-to-par now
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14036">SOLR-14036</a>: Remove distrib=false from /terms handler's default parameters
<br /><span class="attrib">(David Smiley, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14829">SOLR-14829</a>: Cleanup the documentation for Request Handlers and Search Components
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10370">SOLR-10370</a>: ReplicationHandler should fetch index at fixed delay instead of fixed rate
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14930">SOLR-14930</a>: Removed rule based replica placement
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14912">SOLR-14912</a>: Clean up solr-extraction module to produce solr-extraction-* jar
(instead of solr-cell-*).
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14915">SOLR-14915</a>: Prometheus: Reduced dependencies from Solr server down to just SolrJ.  Don't add WEB-INF/lib.
</li>
      <li>Can run via gradle, "gradlew run"
</li>
      <li>Has own log4j2.xml now
</li>
      <li>Was missing some dependencies in lib/; now has all except SolrJ &amp; logging.
<br /><span class="attrib">(David Smiley, Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15016">SOLR-15016</a>: Replica placement plugins should use container plugins API / configs.
<br /><span class="attrib">(ab, ilan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14297">SOLR-14297</a>: Replace commons-codec Base64 with JDK11 Base64
<br /><span class="attrib">(Andras Salamon via Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15113">SOLR-15113</a>: Do not attempt to start Solr server when embedded ZK fails
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14067">SOLR-14067</a>: StatelessScriptUpdateProcessorFactory moved to it's own /module/scripting/ package instead of shipping as
part of Solr due to security concerns.  Renamed to ScriptUpdateProcessorFactory for simpler name.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15118">SOLR-15118</a>: Switch /v2/collections APIs over to the now-preferred annotated-POJO implementation approach
<br /><span class="attrib">(Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14928">SOLR-14928</a>: Allow cluster state updates to be done in a distributed fashion without going through Overseer
<br /><span class="attrib">(Ilan Ginzburg)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15002">SOLR-15002</a>: Upgrade httpclient to 4.5.13 and httpcore to 4.4.13
<br /><span class="attrib">(Andras Salamon via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15121">SOLR-15121</a>: Move XSLT (tr param) response writer and update request handler to scripting module.
<br /><span class="attrib">(Eric Pugh, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15169">SOLR-15169</a>: SolrPaths.assertPathAllowed normalization problem
<br /><span class="attrib">(Andras Salamon via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15292">SOLR-15292</a>: SignatureUpdateProcessorFactory will fail to initialize if it is used in a SolrCloud cluster in a way that is
known to be problematic with multiple replicas.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15258">SOLR-15258</a>: Consolidate ConfigSet handling (C.R.U.D.) into ConfigSetService to allow for viable
alternative implementations of where ConfigSets come from.
<br /><span class="attrib">(Nazerke Seidan, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15280">SOLR-15280</a>: Fixed misleading error message in HdfsDirectoryFactory
<br /><span class="attrib">(Andras Salamon via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15146">SOLR-15146</a>: Allow Collection API and Config Set API to be done in a distributed fashion without going through Overseer
<br /><span class="attrib">(Ilan Ginzburg)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15356">SOLR-15356</a>: "mergeindexes" should not use UninvertingReader (FieldCache).
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15356">SOLR-15356</a>: UninvertDocValuesMergePolicy was removed because it's incompatible with Lucene 9.
<br /><span class="attrib">(David Smiley, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15283">SOLR-15283</a>: Overhaul distributed-tracing.  Solr's "samplePercentage" is gone; tracing is either
enabled and you always have trace IDs or it isn't, based on whether you configure a tracing plugin.
Reporting of traces to a server like Zipkin is a configuration matter of the tracing plugin you
use.  The Jaeger plugin is now completely configurable via system properties or environment vars,
not by values in solr.xml.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14166">SOLR-14166</a>: Non-cached filter queries are now pushed down to Lucene, possibly benefiting from
TwoPhaseIterator, which can make a big difference for some queries.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15369">SOLR-15369</a>: PackageStoreAPI will only be loaded in SolrCloud mode
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15222">SOLR-15222</a>: userfiles dir will only be created in SolrCloud mode
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15401">SOLR-15401</a>: Document the new NorwegianNormalizationFilter introduced in <a href="http://issues.apache.org/jira/browse/LUCENE-9929">LUCENE-9929</a>.
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15409">SOLR-15409</a>: Upgrade to Zookeeper 3.7.0
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15439">SOLR-15439</a>: Upgrade jose4j library used for JWT authentication processing, to v0.7.7
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15385">SOLR-15385</a>, <a href="http://issues.apache.org/jira/browse/SOLR-15535">SOLR-15535</a>: Address many rawtypes warnings, resulting in several modified signatures in the public API.
<br /><span class="attrib">(Mike Drob, David Smiley, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15470">SOLR-15470</a>: The binary distribution no longer contains test-framework jars
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15471">SOLR-15471</a>: Rename lang id whitelist parameter to allowlist
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14341">SOLR-14341</a>: SolrCloud: move the reference a collection has to a configSet in ZooKeeper from the
collections/collectionName into its state.json.  For many-collection clusters, this is an
optimization when the cluster status is fetched.
<br /><span class="attrib">(Nazerke Seidan, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15517">SOLR-15517</a>: Remove unnecessary no-op implementation of SolrCoreAware in ExpandComponent and TermVectorComponent.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15309">SOLR-15309</a>: Add missing IntelliJ IDEA entries to the .gitignore file
<br /><span class="attrib">(Pushkar Raste via Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15428">SOLR-15428</a>: Integrate the OpenJDK JMH micro benchmark framework for micro benchmarks and performance comparisons
and investigation.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15111">SOLR-15111</a>: Use JDK11 Base64 instead of own implementation
<br /><span class="attrib">(Andras Salamon via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15612">SOLR-15612</a>: Remove unnecessary https8 jetty module
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15606">SOLR-15606</a>: Rename (deprecated) Insanity.java to NumericHidingLeafReader.java adjusting callers to match.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15480">SOLR-15480</a>: Make Tuple copy constructor, clone and merge consistent w.r.t. markers (EOF, EXCEPTION), field names
and labels.
<br /><span class="attrib">(John Durham, Mike Drob, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15692">SOLR-15692</a>: Fix parsing of -zkHost flag for the bin/solr commands
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15699">SOLR-15699</a>: Removal of the (unused since 5.0) "updateHandler/indexWriter/closeWaitsForMerges" solrconfig.xml element.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15728">SOLR-15728</a>: Remove dead, unused log rotation code from SolrCLI
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15791">SOLR-15791</a>: Remove remaining unused &lt;admin/&gt; clauses from solrconfigs.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15784">SOLR-15784</a>: Remove SolrJ dependency on commons-io.
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15809">SOLR-15809</a>: Get rid of blacklist/whitelist terminology
JWTAuthPlugin parameter 'algWhitelist' is now 'algAllowlist'
Environment variables SOLR_IP_WHITELIST and SOLR_IP_BLACKLIST are no longer supported, but replaced with
SOLR_IP_ALLOWLIST and SOLR_IP_DENYLIST.
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15807">SOLR-15807</a>: New LogListener class for tests to use to make assertions about what Log messages should or should not
be produced by a test
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14660">SOLR-14660</a>: Move HDFS support to a new HDFS module
<br /><span class="attrib">(Istvan Farkas, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15907">SOLR-15907</a>: Move JWT Authentication plugin to module 'jwt-auth'
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15845">SOLR-15845</a>: Add a new SolrVersion class to manage Solr's version independently from the Lucene version we consume
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15912">SOLR-15912</a>: Upgrade guava to version 31.0.1-jre
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14858">SOLR-14858</a>: Add the server WEB-INF/lib directory to the classpath for the solr-exporter script. Will allow the script
to work when the dist/solrj-lib jars are missing in the Docker image.
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15124">SOLR-15124</a>: Removed three core level admin API endpoints because they are already registered at the node level where they
really belong: /admin/threads, /admin/properties, /admin/logging
<br /><span class="attrib">(Nazerke Seidan, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14142">SOLR-14142</a>: Jetty's RequestLog is enabled by default. If you don't want these logs, you can disable
via SOLR_REQUESTLOG_ENABLED=false.
<br /><span class="attrib">(rmuir, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15924">SOLR-15924</a>: Remove lucene-libs from module packaging. The lucene libraries will be included in lib/ with all
other dependencies.
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15934">SOLR-15934</a>: CloseHook is now an interface with default method implementations instead of an abstract class.
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15953">SOLR-15953</a>: Remove unused LTRThreadModule.preClose CloseHook logic.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15916">SOLR-15916</a>: Remove dist/ from the binary release. The solr-core and solrj jars will be included in the server
WEB-INF/lib directory, and each individual module's jar will be included in its directory's lib/ folder.
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15917">SOLR-15917</a>: "Contrib Modules" have been renamed to "Modules" and have been moved from "contrib/" to "modules/".
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15632">SOLR-15632</a>: Upgrade to Caffeine Cache 3.0.5
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15954">SOLR-15954</a>: Move the Prometheus Exporter from "solr/modules/prometheus-exporter" to "solr/prometheus-exporter".
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15957">SOLR-15957</a>: Add port and scraping information to Solr Prometheus startup logging.
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15936">SOLR-15936</a>: Reduce unnecessary startup logging, such as SSL warnings when SSL not in use
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15950">SOLR-15950</a>: Create SOLR_HOME/filestore lazily on first use. Do not automatically create SOLR_HOME/userfiles
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15777">SOLR-15777</a>: Forbid useDocValuesAsStored for ICUCollationField (warn for luceneMatchVersion &lt; 9.0.0).
<br /><span class="attrib">(Michael Gibney)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12901">SOLR-12901</a>: Highlighting: hl.method=unified is the new default.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15991">SOLR-15991</a>: analysis-extras module tests shouldn't rely on log4j dependency
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15064">SOLR-15064</a>: Atomic/partial updates to nested documents now _require_ the `\_root_` field to
clearly show the document isn't a root document.  Solr 8 would fallback on the `\_route_` param but no longer.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15943">SOLR-15943</a>: Simplify HDFS cache to account for <a href="http://issues.apache.org/jira/browse/LUCENE-10366">LUCENE-10366</a> / <a href="http://issues.apache.org/jira/browse/LUCENE-10376">LUCENE-10376</a>
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15942">SOLR-15942</a>: Upgrade Hadoop to 3.3.1
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15990">SOLR-15990</a>: Use google-cloud-bom for gcs-repository dependencies
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15989">SOLR-15989</a>: Upgrade to Tika 1.28.1
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16042">SOLR-16042</a>: Fix TestSolrCloudWithKerberosAlt.testBasics failure due to minikdc locale
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16043">SOLR-16043</a>: Fix HDFS tests - "Command processor" thread leak
<br /><span class="attrib">(Mike Drob, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16074">SOLR-16074</a>: Use PathUtils.deleteDirectory(path) to try to avoid commons-io IO-751
<br /><span class="attrib">(Houston Putman, Mike Drob, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16039">SOLR-16039</a>: Upgrade to Hadoop 3.3.2
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15223">SOLR-15223</a>: SolrJ: The project is migrating away from the Apache HttpClient dependency in favor of
 Jetty's client (supporting HTTP/2), to occur over the 9x releases.  We deprecated HttpSolrClient
 and friends in favor of Http2SolrClient and equivalents.  For SolrCloud, the former CloudSolrClient
 was renamed CloudLegacySolrClient (deprecated), and instead BaseCloudSolrClient was renamed to
 CloudSolrClient and given a Builder for the Jetty based HTTP/2 client.
<br /><span class="attrib">(janhoy, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16061">SOLR-16061</a>: CloudSolrClient refactoring: Removed ZK specific methods
<br /><span class="attrib">(Haythem Khiri, David Smiley, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16101">SOLR-16101</a>: Add empty constructor for SolrInputDocument
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15780">SOLR-15780</a>: The v2 API is now treated as "experimental".  It may change in backwards-incompatible ways in subsequent releases
as it expands to cover additional functionality and prepares to supplant the v1 API.
<br /><span class="attrib">(Jason Gerlowski)</span></li>
    </ol>
  </li>
  <li><a id="v9.0.0.bug_fixes" href="javascript:toggleList('v9.0.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(31)
    <ol id="v9.0.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15849">SOLR-15849</a>: Fix the connection reset problem caused by the incorrect use of 4LW with \n when monitoring zooKeeper status
<br /><span class="attrib">(Fa Ming)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14546">SOLR-14546</a>: Fix for a relatively hard to hit issue in OverseerTaskProcessor that could lead to out of order execution
of Collection API tasks competing for a lock
<br /><span class="attrib">(Ilan Ginzburg)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15162">SOLR-15162</a>: Allow readOnly parameter to be used with v2 modify collection command
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15334">SOLR-15334</a>: Return error response when failing auth in PKIAuthPlugin
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15449">SOLR-15449</a>: Edismax sow incorrectly affect mm parameter in multi field search
<br /><span class="attrib">(Alessandro Benedetti, Michael Gibney, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15410">SOLR-15410</a>: Always use -Xverbosegclog for OpenJ9.
<br /><span class="attrib">(Colvin Cowie via Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15653">SOLR-15653</a>: Fix collection creation race that assumes a local clusterstate when the collection has only just been
created.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10529">SOLR-10529</a>: Solr UI Health Check enable/disable ping Button doesn't work
<br /><span class="attrib">(Oscar Wang via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15783">SOLR-15783</a>: Prevent Logging MDC values from leaking between request threads, and set 'trace_id' in MDC as soon as it's
available
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14781">SOLR-14781</a>: Removed many unused classes that accumulated over the years.
<br /><span class="attrib">(Bence Szabo, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15871">SOLR-15871</a>: Update Log4J to 2.17.1
<br /><span class="attrib">(weidongkl via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15854">SOLR-15854</a>: Let RealtimeGet component support negative filters
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15501">SOLR-15501</a>: GCSBackupRepository no longer strictly requires a pointer to a service account JSON file, allowing users
running within GCP to take advantage of it's "Workload Identity" and other role-based access feature.
<br /><span class="attrib">(Jacek Kikiewicz, Martin Stocker via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15919">SOLR-15919</a>: Replace File with Path for many ZK operations
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15259">SOLR-15259</a>: hl.fragAlignRatio now defaults to 0.33 to be faster and maybe looks nicer.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15944">SOLR-15944</a>: The Tagger's JSON response format now always uses an object/map to represent each tag instead of an
array, which didn't make sense.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15842">SOLR-15842</a>: Async response for backups now correctly aggregates and returns information
<br /><span class="attrib">(Houston Putman, Artem Abeleshev, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14595">SOLR-14595</a>: Consistent overrequest across different facet methods for `sort:index` JSON Facet field
<br /><span class="attrib">(Michael Gibney, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15961">SOLR-15961</a>: Fix bug in PKIAuthenticationPlugin that can cause a request to fail with 401 Unauthorized instead
of re-fetching expired remote keys from other nodes.
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15968">SOLR-15968</a>: Hide annoying WARN log from bin/solr zk command
<br /><span class="attrib">(janhoy, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16075">SOLR-16075</a>: ShowFileHandler path parameter is now validated to be relative to instance conf dir in standalone mode
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15558">SOLR-15558</a>: Don't wait for zombie processes to exit when stopping.
<br /><span class="attrib">(Colvin Cowie)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16019">SOLR-16019</a>: UTF-8 parsing errors for parameters should cause a HTTP 400 status code, not 500
<br /><span class="attrib">(janhoy, Matthias Pigulla)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15983">SOLR-15983</a>: Fix ClassCastException in UpdateLog$LogReplayer.doReplay.
<br /><span class="attrib">(Christine Poerschke, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16090">SOLR-16090</a>: Better error message when JWT auth SIGNATURE_INVALID during token parsing
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15333">SOLR-15333</a>: Reduced spurious warn logging by AbstractSpatialPrefixTreeFieldType field properties
<br /><span class="attrib">(Steffen Moldenhauer, David Smiley, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15405">SOLR-15405</a>: Make HDFS handle little endian <a href="http://issues.apache.org/jira/browse/LUCENE-9047">LUCENE-9047</a>
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16009">SOLR-16009</a>: Force Calcite's Rel simplify config flag to false to avoid erasing filters that are meaningful to Solr,
but look like nonsense to Calcite, such as AND'd filters on the same multi-valued field
<br /><span class="attrib">(Timothy Potter, Kiran Chitturi)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16022">SOLR-16022</a>: Enforce special character requirements on passwords with length less than 15
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16143">SOLR-16143</a>: SolrConfig can miss updates from ZooKeeper when deleting and recreating file items
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16164">SOLR-16164</a>: ConfigSet API returns error if untrusted user creates from _default configset
<br /><span class="attrib">(Eric Pugh, Kevin Risden)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.11.2" href="javascript:toggleList('v8.11.2')">Release 8.11.2  [2022-06-17]</a></h3>
<ul id="v8.11.2.list">
  <li><a id="v8.11.2.bug_fixes" href="javascript:toggleList('v8.11.2.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(27)
    <ol id="v8.11.2.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15871">SOLR-15871</a>: Update Log4J to 2.17.1
<br /><span class="attrib">(weidongkl via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15854">SOLR-15854</a>: Let RealtimeGet component support negative filters
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15961">SOLR-15961</a>: Fix bug in PKIAuthenticationPlugin that can cause a request to fail with 401 Unauthorized instead
of re-fetching expired remote keys from other nodes.
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15558">SOLR-15558</a>: Don't wait for zombie processes to exit when stopping.
<br /><span class="attrib">(Colvin Cowie)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15587">SOLR-15587</a>: Don't use the UrlScheme singleton on the client-side to determine cluster's scheme,
only get from ClusterState provider impl
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14569">SOLR-14569</a>: Configuring a shardHandlerFactory on the /select requestHandler results in HTTP 401 when searching on alias
in secured Solr.
<br /><span class="attrib">(Isabelle Giguere, Jason Gerlowski, Anshum Gupta, Mark Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15974">SOLR-15974</a>: Remove Calcite's ENUMERABLE_AGGREGATE_RULE as Solr only supports push-down for LogicalAggregate
<br /><span class="attrib">(Timothy Potter, Kiran Chitturi)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16009">SOLR-16009</a>: Force Calcite's Rel simplify config flag to false to avoid erasing filters that are meaningful to Solr,
but look like nonsense to Calcite, such as AND'd filters on the same multi-valued field
<br /><span class="attrib">(Timothy Potter, Kiran Chitturi)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16095">SOLR-16095</a>: Upgrade JQuery to 3.5.1 in velocity contrib module
<br /><span class="attrib">(Bence Szabo via Jan Høydahl)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16022">SOLR-16022</a>: Enforce special character requirements on passwords with length less than 15
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15849">SOLR-15849</a>: Fix the connection reset problem caused by the incorrect use of 4LW with \n when monitoring zooKeeper status
<br /><span class="attrib">(Fa Ming)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15116">SOLR-15116</a>: Support a HEAD request for managed resources.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16089">SOLR-16089</a>: Fix empty columns in Cloud Node UI Screen when replica is in down state.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16145">SOLR-16145</a>: Fix very rare NPE in SolrCloud rejoinOverseerElection.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16168">SOLR-16168</a>: Spellcheck NPE if invalid dictionary name is provided
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15968">SOLR-15968</a>: Hide annoying WARN log from bin/solr zk command
<br /><span class="attrib">(janhoy, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16075">SOLR-16075</a>: ShowFileHandler path parameter is now validated to be relative to instance conf dir in standalone mode
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16019">SOLR-16019</a>: UTF-8 parsing errors for parameters should cause a HTTP 400 status code, not 500
<br /><span class="attrib">(janhoy, Matthias Pigulla)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16143">SOLR-16143</a>: SolrConfig can miss updates from ZooKeeper when deleting and recreating file items
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16199">SOLR-16199</a>: Improve query syntax construction for SQL LIKE clause with phrases and wildcards
<br /><span class="attrib">(Kiran Chitturi, Aroop Ganguly, Amrit Sarkar via Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16191">SOLR-16191</a>: Validate that installed ps utility supports -p flag, so that we do not inadvertantly stop the wrong process.
<br /><span class="attrib">(Mike Drob, Michael Gibney)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16213">SOLR-16213</a>: Upgrade Jackson to version 2.13.3
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16215">SOLR-16215</a>: Escape query characters in Solr SQL Array UDF functions
<br /><span class="attrib">(Kiran Chitturi via Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15965">SOLR-15965</a>: Use better signatures for the PKI Authentication plugin.
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16209">SOLR-16209</a>: Rolling restart will no longer trigger as much PKI Plugin error logging.
<br /><span class="attrib">(Mike Drob, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16227">SOLR-16227</a>: Solr SQL query parsing fails on multiple LIKE clauses and multiple terms
<br /><span class="attrib">(Kiran Chitturi via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-16218">SOLR-16218</a>: failOnVersionConflicts option not working for in-place updates
<br /><span class="attrib">(Lamine Idjeraoui, Houston Putman, Anshum Gupta)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.11.1" href="javascript:toggleList('v8.11.1')">Release 8.11.1  [2021-12-16]</a></h3>
<ul id="v8.11.1.list">
  <li><a id="v8.11.1.bug_fixes" href="javascript:toggleList('v8.11.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(19)
    <ol id="v8.11.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15635">SOLR-15635</a>: Don't close hooks twice when SolrRequestInfo is cleared twice; or /export with classic join
closed fromCore if provided
<br /><span class="attrib">(Mikhail Khludnev, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15795">SOLR-15795</a>: Fix REPLACENODE to not use source node when choosing a target node for new replicas
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15804">SOLR-15804</a>: Admin UI once again can show files in the Core/Collection -&gt; Files screen. Fixed regression from 8.11.0
<br /><span class="attrib">(Karl Stoney, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15768">SOLR-15768</a>: Set default permissions for the zookeeper endpoints so users won't need to configure custom permissions for these
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15774">SOLR-15774</a>: Avoid weird off-by-one errors with Angular's 'chosen' select box directive for the security and schema-designer screens in Admin UI
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13900">SOLR-13900</a>: Reset index values on authorization rules after deleting by index
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15794">SOLR-15794</a>: Switching a PRS collection from true -&gt; false -&gt; true results in INACTIVE replicas
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15813">SOLR-15813</a>: Schema designer not handling `update.autoCreateFields` stored as a string (vs. boolean) in the config overlay
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15825">SOLR-15825</a>: Security UI 'hasPermission' check should check if the user has the "all" permission if the requested permission is not defined
to match how the backend works
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15826">SOLR-15826</a>: ResourceLoader should better respect allowed paths
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15828">SOLR-15828</a>: AuthTool (in SolrCLI) should include the config-read, collection-admin-read, core-admin-read, and all permissions in the initial security.json
to avoid warnings in the security UI
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15199">SOLR-15199</a>: Pass thru all command actions not explicitly handled by the bin/solr script, such as 'api', to the SolrCLI Java app
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15833">SOLR-15833</a>: Enable exists queries on spatial types.
<br /><span class="attrib">(Mike Drob, Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15832">SOLR-15832</a>: Clean-up after publish action in Schema Designer shouldn't fail if .system collection doesn't exist
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15844">SOLR-15844</a>: Upgrade Velocity from v2.0 to v2.3
<br /><span class="attrib">(wcmrnd1, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8319">SOLR-8319</a>: Fix NPE in pivot facets, add non-Analyzed query method in FieldType.
<br /><span class="attrib">(Houston Putman, Isabelle Giguere)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15843">SOLR-15843</a>: Update Log4J to 2.16
<br /><span class="attrib">(Mike Drob, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15324">SOLR-15324</a>: Upgrade jaegertracing to 1.6.0 and libthrift to 0.14.1
<br /><span class="attrib">(wcmrnd1, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15405">SOLR-15405</a>: Make HDFS handle little endian <a href="http://issues.apache.org/jira/browse/LUCENE-9047">LUCENE-9047</a>
<br /><span class="attrib">(Kevin Risden)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.11.0" href="javascript:toggleList('v8.11.0')">Release 8.11.0  [2021-11-16]</a></h3>
<ul id="v8.11.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.11.0.new_features" href="javascript:toggleList('v8.11.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v8.11.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7642">SOLR-7642</a>: opt-in support to create ZK chroot on startup
<br /><span class="attrib">(Timothy Potter, Shawn Heisey, Mark Miller, Tomas Eduardo Fernandez Lobbe,
Jan Høydahl, Steve Molloy, Isabelle Giguere, David Eric Pugh, Gus Heck, Christine Poerschke, Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15708">SOLR-15708</a>: SolrJ support for ConfigSet uploading
<br /><span class="attrib">(ab, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12666">SOLR-12666</a>: Add authn &amp; authz plugins that supports multiple authentication schemes, such as Bearer and Basic
<br /><span class="attrib">(Timothy Potter, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15721">SOLR-15721</a>: Support editing Basic auth config from the security UI when using the MultiAuthPlugin
<br /><span class="attrib">(Timothy Potter)</span></li>
    </ol>
  </li>
  <li><a id="v8.11.0.improvements" href="javascript:toggleList('v8.11.0.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v8.11.0.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15707">SOLR-15707</a>: Add the ability to set the AWS Profile per S3Repository
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15700">SOLR-15700</a>: Make include paths in bin/solr consistent
<br /><span class="attrib">(turnertg, janhoy via Eric Pugh)</span></li>
    </ol>
  </li>
  <li><a id="v8.11.0.optimizations" href="javascript:toggleList('v8.11.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v8.11.0.optimizations.list">
      <li>(No changes)
</li>
    </ol>
  </li>
  <li><a id="v8.11.0.bug_fixes" href="javascript:toggleList('v8.11.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(9)
    <ol id="v8.11.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15626">SOLR-15626</a>: The "config-read" permission has been fixed to properly allow access to `/solr/admin/configs?action=LIST`
<br /><span class="attrib">(Jon Senchyna via Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15691">SOLR-15691</a>: Admin UI raises yellow warning even when only case of hostnames differ
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15702">SOLR-15702</a>: Fix S3Repository to follow BackupRepository.createDirectory() API contract
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15696">SOLR-15696</a>: Incremental backups no longer fail on collections that had previously seen a 'SPLITSHARD' operation.
<br /><span class="attrib">(Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15628">SOLR-15628</a>: The SolrException.log() helper method has been fixed to correctly passes the Throwable to the Logger w/o stringification
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15676">SOLR-15676</a>: Fix PeerSync failure due to RealTimeGetComponent returning duplicates.
<br /><span class="attrib">(Ramsey Haddad, Christine Poerschke, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15722">SOLR-15722</a>: Delete Replica does not delete the Per replica state
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15766">SOLR-15766</a>: MultiAuthPlugin should send non-AJAX anonymous requests to the plugin that allows anonymous requests
<br /><span class="attrib">(Timothy Potter, Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15706">SOLR-15706</a>: Incremental backup 'purges' no longer delete all index files(!)
<br /><span class="attrib">(Jason Gerlowski)</span></li>
    </ol>
  </li>
  <li><a id="v8.11.0.build" href="javascript:toggleList('v8.11.0.build')">Build</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v8.11.0.build.list">
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-10104">LUCENE-10104</a>, <a href="http://issues.apache.org/jira/browse/SOLR-15631">SOLR-15631</a>: Upgrade forbiddenapis to version 3.2.
<br /><span class="attrib">(Uwe Schindler)</span></li>
    </ol>
  </li>
  <li><a id="v8.11.0.other_changes" href="javascript:toggleList('v8.11.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v8.11.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15678">SOLR-15678</a>: Allow only known content types in ShowFileRequestHandler
<br /><span class="attrib">(janhoy, Gus Heck, Mal Aware)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15697">SOLR-15697</a>: Add ErrorLogMuter to test-framework, deprecating SolrException.ignorePatterns
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15761">SOLR-15761</a>: Remove JdbcStream from Lang
<br /><span class="attrib">(Joel Bernstein)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.10.1" href="javascript:toggleList('v8.10.1')">Release 8.10.1  [2021-10-18]</a></h3>
<ul id="v8.10.1.list">
  <li><a id="v8.10.1.other_changes" href="javascript:toggleList('v8.10.1.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v8.10.1.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15677">SOLR-15677</a>: Upgrade the following dependencies with vulnerabilities.
<ul class="bulleted-list">
<li class="bulleted-list">
jetty: 9.4.44.v20210927
</li>
<li class="bulleted-list">
tika: 1.27
</li>
<li class="bulleted-list">
commons-compress: 1.21
</li>
<li class="bulleted-list">
netty: 4.1.68.Final
</li>
<li class="bulleted-list">
fasterxml.jackson: 2.12.3
</li>
<li class="bulleted-list">
errorprone: 2.9.0
</li>
<li class="bulleted-list">
gcp-client: 1.32.1
</li>
</ul>
<span class="attrib">(Houston Putman)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.10.0" href="javascript:toggleList('v8.10.0')">Release 8.10.0  [2021-09-27]</a></h3>
<ul id="v8.10.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.10.0.new_features" href="javascript:toggleList('v8.10.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v8.10.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15472">SOLR-15472</a>: New shards.preference option for preferring replicas based on their leader status, i.e.
`shards.preference=replica.leader:false` would prefer non-leader replicas.
<br /><span class="attrib">(wei wang via Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15208">SOLR-15208</a>: Add the countDist aggregation to the stats, facet and timeseries Streaming Expressions
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15277">SOLR-15277</a>: Schema Designer UI
<br /><span class="attrib">(Timothy Potter, Kiran Chitturi)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15527">SOLR-15527</a>: Security screen in Admin UI for managing users, roles, and permissions
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15089">SOLR-15089</a>: Allow backup/restoration to Amazon's S3 blobstore
<br /><span class="attrib">(Andy Throgmorton, Houston Putman, Jason Gerlowski, Pierre Salagnac, Mike Drob)</span></li>
    </ol>
  </li>
  <li><a id="v8.10.0.improvements" href="javascript:toggleList('v8.10.0.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(20)
    <ol id="v8.10.0.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15460">SOLR-15460</a>: Implement LIKE, IS NOT NULL, IS NULL, and support wildcard * in equals string literal for Parallel SQL
<br /><span class="attrib">(Timothy Potter, Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15451">SOLR-15451</a>: SolrSchema (for Parallel SQL) should use PKI principal for internal request to /admin/luke to get table metadata
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15456">SOLR-15456</a>: Get field type info from luke for custom fields instead of defaulting to String in Parallel SQL
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15461">SOLR-15461</a>: Upgrade Apache Calcite to 1.27.0.
<br /><span class="attrib">(Mark Miller, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15489">SOLR-15489</a>: Implement OFFSET &amp; FETCH for LIMIT SQL queries
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15475">SOLR-15475</a>: Implement COUNT and APPROX_COUNT_DISTINCT aggregation functions for Parallel SQL
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15499">SOLR-15499</a>: StatsStream implement ParallelMetricsRollup to allow for tiered computation of SQL metrics
over collection aliases backed by many collections, potentially with many shards in each
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15525">SOLR-15525</a>: Read ZK credentials from a file specified using a system property instead of exposing plain-text
credentials as system properties
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15549">SOLR-15549</a>: ZkStateReader now supports connecting to 9.0 Solr Clouds
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15570">SOLR-15570</a>: Include fields declared in the schema in table metadata (SQL) even if they are empty
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15564">SOLR-15564</a>: Improve filtering expressions in /admin/metrics.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15576">SOLR-15576</a>: Allow filtering on ISO-8601 formatted timestamp literals in SQL WHERE clause
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9853">SOLR-9853</a>: Project multi-valued fields in SQL query results
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15599">SOLR-15599</a>: Upgrade AWS SDK from v1 to v2 for S3 Repository
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15609">SOLR-15609</a>: Upgrade log4j to 2.14.1
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11752">SOLR-11752</a>: Support "Accept-Encoding" header to enable response gzip compression
<br /><span class="attrib">(Matthew Sporleder, Houston Putman, Shawn Heisey, Jan Høydahl)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15610">SOLR-15610</a>: log4j-layout-template-json is now included in solr server, allowing JSON formatted logs to be configurable.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15607">SOLR-15607</a>: Explicitly indent results in Admin Query UI by default
<br /><span class="attrib">(Olivia Falk via Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15555">SOLR-15555</a>: Identical filter queries will no longer race to record a filterCache entry. Allows for async cache computation instead of
all queries contending for the same set of locks on the cache. Fixed a bug with ramBytes usage reporting on filterCache.
Upgraded Caffeine Cache to 2.9.2
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15572">SOLR-15572</a>: Improve the default Prometheus exporter config performance.
<br /><span class="attrib">(ab)</span></li>
    </ol>
  </li>
  <li><a id="v8.10.0.optimizations" href="javascript:toggleList('v8.10.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v8.10.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15433">SOLR-15433</a>: Replace transient core cache LRU by Caffeine cache.
<br /><span class="attrib">(Bruno Roustant)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15496">SOLR-15496</a>: Reuse comparator objects in contrib/ltr rescorer classes.
<br /><span class="attrib">(marcosfpr via Christine Poerschke)</span></li>
    </ol>
  </li>
  <li><a id="v8.10.0.bug_fixes" href="javascript:toggleList('v8.10.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(13)
    <ol id="v8.10.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15311">SOLR-15311</a>: Support async parameter in MODIFYCOLLECTION
<br /><span class="attrib">(Nazerke Seidan, Christine Poerschke, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15531">SOLR-15531</a>: SignificantTerms streaming function should not fail on empty collections
<br /><span class="attrib">(Benedikt Arnold via Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15482">SOLR-15482</a>: Cross-collection join fixed to ignore documents that do not contain value in "from" field
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14506">SOLR-14506</a>: Fix NPE in COLSTATUS for collections using implicit routing.
<br /><span class="attrib">(Austin Weidler, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15575">SOLR-15575</a>: Propagate request level basic auth creds from the top-level async CollectionAdminRequest to internally
used async requests, such as async status checking
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14758">SOLR-14758</a>: Fix NPE in QueryComponent.mergeIds when using timeAllowed and sorting
<br /><span class="attrib">(Bram Van Dam, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15579">SOLR-15579</a>: Allow for many values in a SQL IN clause; previously using more than 19 would result in
the IN clause being ignored, now users are only limited by the `maxBooleanClauses` configured for a collection
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8889">SOLR-8889</a>: Fixed various problems in Solr and SolrJ that could cause deleteById commands with "_route_" information to processed
by the wrong shard, and/or fail when forwarded to replicas from the shard leader.
<br /><span class="attrib">(Dan Fox, Yuki Yano, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13209">SOLR-13209</a>: Fix NPE when no grouping query specified
<br /><span class="attrib">(Collins Abanda via Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6156">SOLR-6156</a>: Fix NullPointerException if group.field grouping is used with rows=0 and timeAllowed.
<br /><span class="attrib">(Modassar Ather, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14457">SOLR-14457</a>: SolrClient leaks connections on compressed responses if the response is malformed
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15595">SOLR-15595</a>: Partial results from shard queries needlessly discarded for queries without sort field
<br /><span class="attrib">(Michael Kosten via Mike Drob, Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15620">SOLR-15620</a>: Download Config button in Schema Designer screen should not require user to re-login when already authenticated
<br /><span class="attrib">(Timothy Potter)</span></li>
    </ol>
  </li>
  <li><a id="v8.10.0.other_changes" href="javascript:toggleList('v8.10.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v8.10.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15566">SOLR-15566</a>: Clarify ref guide documentation about SQL queries with `SELECT *` requiring a `LIMIT` clause
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15573">SOLR-15573</a>: bin/solr auth utility should provide role bindings for `security-read` and `config-edit` by default
to protect the security and schema designer screens in the Admin UI
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15486">SOLR-15486</a>: During node shutdown pausing of updates and waiting for in-flight update requests to finish
before closing cores is no longer SolrCloud specific.
<br /><span class="attrib">(Christine Poerschke, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15599">SOLR-15599</a>: woodstox-core-asl:4.4.1 (org.codehaus) replaced with woodstox-core:6.2.4 (com.fasterxml)
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15621">SOLR-15621</a>: index.html for Admin UI should send Solr version in the request for JavaScript files
<br /><span class="attrib">(Timothy Potter)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.9.0" href="javascript:toggleList('v8.9.0')">Release 8.9.0  [2021-06-16]</a></h3>
<ul id="v8.9.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.9.0.new_features" href="javascript:toggleList('v8.9.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(8)
    <ol id="v8.9.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14330">SOLR-14330</a>: ExpandComponent now supports an expand.nullGroup=true option
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15150">SOLR-15150</a>: New update.partial.requireInPlace=true option to prevent any partial document updates that can't be done In-Place
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15087">SOLR-15087</a>: SolrCloud backups can now be restored to compatible existing collections, instead of requiring a new collection
for each restore.
<br /><span class="attrib">(Jason Gerlowski, shalin, Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15132">SOLR-15132</a>: Add temporal graph query to the nodes Streaming Expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15365">SOLR-15365</a>: Improved Grafana dashboard for Prometheus Exporter with new Solr Cluster row
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15397">SOLR-15397</a>: Expose zookeeper status in the Prometheus exporter
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15090">SOLR-15090</a>: A new 'gcs-repository' contrib can be used to store and retrieve backups from Google Cloud Storage.
<br /><span class="attrib">(Jason Gerlowski, Shalin Mangar, Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12697">SOLR-12697</a>: In contrib/ltr FieldValueFeature support "stored=false docValues=true" a.k.a. pure DocValues fields.
<br /><span class="attrib">(Stanislav Livotov, Erick Erickson, Tobias Kässmann, Tom Gilke, Christine Poerschke)</span></li>
    </ol>
  </li>
  <li><a id="v8.9.0.improvements" href="javascript:toggleList('v8.9.0.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="v8.9.0.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15081">SOLR-15081</a>: Metrics for a core: add SolrCloud "isLeader" and "replicaState".
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15085">SOLR-15085</a>: Prevent EmbeddedSolrServer calling shutdown on a CoreContainer that was passed to it.
<br /><span class="attrib">(Tim Owen via Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14234">SOLR-14234</a>: Unhelpful message in RemoteExecutionException.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13608">SOLR-13608</a>: Backups are now done incrementally by default.  Multiple backups can be stored at the same location, and each
backup will only upload those files that are new since the last backup.
<br /><span class="attrib">(Jason Gerlowski, shalin, Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15123">SOLR-15123</a>: Revamp SolrCLI tool's help descriptions for all commands for consistency and clarity.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15101">SOLR-15101</a>: Add "list" and "delete" APIs for managing incremental backups
<br /><span class="attrib">(Jason Gerlowski, shalin, Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15038">SOLR-15038</a>: Add elevateOnlyDocsMatchingQuery and collectElevatedDocsWhenCollapsing parameters to query elevation.
<br /><span class="attrib">(Dennis Berger, Tobias Kässmann via Bruno Roustant)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15191">SOLR-15191</a>: Enhance hash method of JSON faceting to support EnumFieldType and perhaps some other/custom field types
too.
<br /><span class="attrib">(Thomas Wöckinger, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15194">SOLR-15194</a>: Allow Solr to make outbound non SSL calls to a JWT IDP via -Dsolr.auth.jwt.allowOutboundHttp=true property.
<br /><span class="attrib">(Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15154">SOLR-15154</a>: Let Http2SolrClient pass Basic Auth credentials to all requests
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6152">SOLR-6152</a>: Pre-populating values into search parameters on the query page of solr admin
<br /><span class="attrib">(jafurrer, daniel6691)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11233">SOLR-11233</a>: Add optional JAVA8_GC_LOG_FILE_OPTS for bin/solr.
<br /><span class="attrib">(Pranav Murugappan, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15155">SOLR-15155</a>: Let CloudHttp2SolrClient accept an external Http2SolrClient Builder
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15156">SOLR-15156</a>: [child] doc transformer's childFilter param no longer applies query syntax escaping.
It was inconsistent with other Solr options.  It did this escaping since 8.0 but not prior.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15337">SOLR-15337</a>: Avoid XPath in solrconfig.xml parsing
<br /><span class="attrib">(noble)</span></li>
    </ol>
  </li>
  <li><a id="v8.9.0.optimizations" href="javascript:toggleList('v8.9.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v8.9.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15079">SOLR-15079</a>: Block Collapse - Faster collapse code when groups are co-located via Block Join style nested doc indexing.
Used by default when field=_root_, or explicitly requested for other fields via hint=block.
<br /><span class="attrib">(Joel Bernstein, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15120">SOLR-15120</a> Reduce duplicated core creation work
<br /><span class="attrib">(Mike Drob, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15067">SOLR-15067</a> ChildDocTransformerFactory uses perSegFilter cache
<br /><span class="attrib">(Bence Szabo via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15315">SOLR-15315</a>: Optimise contrib/ltr MultipleAdditiveTreesModel by changing recursion to loop in tree traversal.
<br /><span class="attrib">(Suryakant Pandey, Alessandro Benedetti, Christine Poerschke)</span></li>
    </ol>
  </li>
  <li><a id="v8.9.0.bug_fixes" href="javascript:toggleList('v8.9.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(14)
    <ol id="v8.9.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15078">SOLR-15078</a>: Fix ExpandComponent behavior when expanding on numeric fields to differentiate '0' group from null group
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15149">SOLR-15149</a>: Better exception handling for LTR model creation errors
<br /><span class="attrib">(Alessandro Benedetti, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13034">SOLR-13034</a>: Partial (AKA Atomic) updates could encounter "LazyField" instances in the document
cache and not know hot to deal with them when writing the updated doc to the update log.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15191">SOLR-15191</a>: Fix JSON Faceting on EnumFieldType if allBuckets, numBuckets or missing is set.
<br /><span class="attrib">(Thomas Wöckinger via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15457">SOLR-15457</a>: Fix JSON Faceting on EnumFieldType -- returned values should not be internal ordinals.
<br /><span class="attrib">(Thomas Wöckinger via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15216">SOLR-15216</a>: Fix for Invalid Reference to data.followers in Admin UI.
<br /><span class="attrib">(Dean Pearce)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15273">SOLR-15273</a>: Fix NullPointerException in StoredFieldsShardResponseProcessor that happened when a field name alias is
used for the unique key field in searches with distributed result grouping.
<br /><span class="attrib">(limingnihao via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15384">SOLR-15384</a>: Zookeeper Status handler /admin/zookeeper/status not queryable from SolrJ
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11921">SOLR-11921</a>: Move "cursorMark" logic from QueryComponent to SearchHandler so it can work with things like QueryElevationComponent
that modify the SortSpec in prepare(), as well as possible custom "search" components other then QueryComponent.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15383">SOLR-15383</a>: Solr Zookeeper status page shows green even when some Zookeepers are not serving requests
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11904">SOLR-11904</a>: Mark ReplicationHandler's polling thread as a Solr server thread so the PKI Interceptor is activated to
allow PULL replicas to replicate from security-enabled leaders
<br /><span class="attrib">(Timothy Potter, Torsten Bøgh Köster)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15418">SOLR-15418</a>: The V2 API threw errors for GET requests to collection handlers like /select.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15424">SOLR-15424</a>: Solr replication UI wraps ETA time on top of next line
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15399">SOLR-15399</a>: IndexFetcher should not issue a local commit for PULL replicas when leader's version is zero
<br /><span class="attrib">(Timothy Potter)</span></li>
    </ol>
  </li>
  <li><a id="v8.9.0.other_changes" href="javascript:toggleList('v8.9.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v8.9.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15118">SOLR-15118</a>: Deprecate CollectionAdminRequest.getV2Request().
<br /><span class="attrib">(Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15292">SOLR-15292</a>: An ERROR is logged if SignatureUpdateProcessorFactory is used in SolrCloud cluster in a way that is known to
be problematic with multiple replicas.  In 9.0 this situation will prevent collection initialization.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15377">SOLR-15377</a>: Improve IndexFetcher's exception logging upon replication errors.
<br /><span class="attrib">(Torsten Bøgh Köster, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15416">SOLR-15416</a>: Metrics history handler and metrics history collection (together with its
specialized reporters) have been deprecated and will be removed in 9.0.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14978">SOLR-14978</a>: Enable OOM Killer Script in Solr Foreground. Simplify getting heap dumps on OOM.
<br /><span class="attrib">(Mike Drob, Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15316">SOLR-15316</a>: Upgrade Jetty to 9.4.41.v20210516
<br /><span class="attrib">(janhoy, Mike Drob)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.8.2" href="javascript:toggleList('v8.8.2')">Release 8.8.2  [2021-04-12]</a></h3>
<ul id="v8.8.2.list">
  <li><a id="v8.8.2.bug_fixes" href="javascript:toggleList('v8.8.2.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v8.8.2.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15249">SOLR-15249</a>: Properly set ZK ACLs on /security.json
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15288">SOLR-15288</a>: Hardening NODEDOWN event in PRS collections
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15233">SOLR-15233</a>: Set doAs param in ConfigurableInternodeAuthHadoopPlugin
<br /><span class="attrib">(Geza Nagy, Jason Gerlowski, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15217">SOLR-15217</a>: Use shardsWhitelist in ReplicationHandler.
<br /><span class="attrib">(Bruno Roustant)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.8.1" href="javascript:toggleList('v8.8.1')">Release 8.8.1  [2021-02-22]</a></h3>
<ul id="v8.8.1.list">
  <li><a id="v8.8.1.bug_fixes" href="javascript:toggleList('v8.8.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v8.8.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15145">SOLR-15145</a>: System property to control whether base_url is stored in state.json to enable back-compat with older SolrJ versions.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15114">SOLR-15114</a>: Fix bug that caused WAND optimization to be disabled in cases where the max score is requested (such as
multi-shard requests in SolrCloud)
<br /><span class="attrib">(Naoto Minami via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15136">SOLR-15136</a>: Reduce excessive logging introduced with Per Replica States feature
<br /><span class="attrib">(Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15138">SOLR-15138</a>: Collection creation for PerReplicaStates does not scale to large collections as well as regular collections
<br /><span class="attrib">(Mike Drob, Ilan Ginzburg, noble, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15135">SOLR-15135</a>: Admin UI display collections with perReplicaState=true in graph view
<br /><span class="attrib">(Timothy Potter)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.8.0" href="javascript:toggleList('v8.8.0')">Release 8.8.0  [2021-02-01]</a></h3>
<ul id="v8.8.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.8.0.upgrade_notes" href="javascript:toggleList('v8.8.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v8.8.0.upgrade_notes.list">
      <li>Internal logic for identifying 'Solr Home' has been refactored to make testing less error prone.  Plugin
developers using SolrPaths.locateSolrHome() or 'new SolrResourceLoader' should check deprecation warnings as existing
some existing functionality will be removed in 9.0.  See <a href="http://issues.apache.org/jira/browse/SOLR-14934">SOLR-14934</a> for more details.
<p>
</li>
    </ol>
  </li>
  <li><a id="v8.8.0.new_features" href="javascript:toggleList('v8.8.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v8.8.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14907">SOLR-14907</a>: Add v2 API for configSet upload, including single-file insertion.
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14560">SOLR-14560</a>: Add interleaving support in Learning To Rank.
<br /><span class="attrib">(Alessandro Benedetti, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15052">SOLR-15052</a>: Reducing overseer bottlenecks using per-replica states
<br /><span class="attrib">(noble, Ishan Chattopadhyaya)</span></li>
    </ol>
  </li>
  <li><a id="v8.8.0.improvements" href="javascript:toggleList('v8.8.0.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(16)
    <ol id="v8.8.0.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14942">SOLR-14942</a>: Reduce leader election time on node shutdown by removing election nodes before closing cores.
<br /><span class="attrib">(Cao Manh Dat, Mike Drob, hossman, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14955">SOLR-14955</a>: Add env var options for the Prometheus Exporter bin scripts
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14683">SOLR-14683</a>: Metrics API should ensure consistent placeholders for missing values.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14977">SOLR-14977</a> : ContainerPlugins should be configurable with custom objects
<br /><span class="attrib">(noble, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15015">SOLR-15015</a> : Add interleaving algorithm parameter support in Learning To Rank
<br /><span class="attrib">(Alessandro Benedetti)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8673">SOLR-8673</a>: Make JSON Facets extendable
<br /><span class="attrib">(Tim Owen via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14965">SOLR-14965</a>: metrics: Adds two metrics to the SolrCloud Overseer: solr_metrics_overseer_stateUpdateQueueSize
and solr_metrics_overseer_collectionWorkQueueSize with corresponding entries in the the Prometheus exporter's
default/stock configuration.
<br /><span class="attrib">(Saatchi Bhalla, Megan Carey, Andrzej Białecki, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14827">SOLR-14827</a>: Refactor schema loading to not use XPath
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14987">SOLR-14987</a>: Reuse HttpSolrClient per node vs. one per Solr core when using CloudSolrStream
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14413">SOLR-14413</a>: Allow timeAllowed and cursorMark parameters together.
<br /><span class="attrib">(John Gallagher via Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15062">SOLR-15062</a>: /api/cluster/zk/ls should give the stat of the current node
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15069">SOLR-15069</a>: [child]: the parentFilter parameter is now fully optional and perhaps obsolete.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14923">SOLR-14923</a>: The use case of atomic/partial updates to child documents no longer requires that
_root_ be stored or have docValues, and no longer requires the _nest_path_ field.  However it
now requires that the client pass a _root_ field on these updates to point to the root ID.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15059">SOLR-15059</a>: Add panels to the default Grafana dashboard for query performance monitoring, includes updates
to the Prometheus exporter to export query performance metrics, such as QPS and p95.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15040">SOLR-15040</a>: Improvements to postlogs timestamp handling
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14155">SOLR-14155</a>: Load all other SolrCore plugins from packages
<br /><span class="attrib">(noble)</span></li>
    </ol>
  </li>
  <li><a id="v8.8.0.optimizations" href="javascript:toggleList('v8.8.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v8.8.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14975">SOLR-14975</a>: Optimize CoreContainer.getAllCoreNames, getLoadedCoreNames and getCoreDescriptors.
<br /><span class="attrib">(Bruno Roustant)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15049">SOLR-15049</a>: Optimize same-core, same-field joins in TopLevelJoinQuery
<br /><span class="attrib">(Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14923">SOLR-14923</a>: Indexing nested documents is faster, especially under concurrent indexing load.  In addition,
Partial updates to nested documents and Realtime Get of child documents is now more reliable.
<br /><span class="attrib">(David Smiley, Thomas Wöckinger)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15036">SOLR-15036</a>: Automatically wrap a facet expression with a select / rollup / sort / plist when using a
collection alias with multiple collections and count|sum|min|max|avg metrics.
<br /><span class="attrib">(Timothy Potter)</span></li>
    </ol>
  </li>
  <li><a id="v8.8.0.bug_fixes" href="javascript:toggleList('v8.8.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(28)
    <ol id="v8.8.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14946">SOLR-14946</a>: Fix responseHeader being returned in response when omitHeader=true and EmbeddedSolrServer is used
as the client
<br /><span class="attrib">(Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14940">SOLR-14940</a>: ReplicationHandler memory leak through SolrCore.closeHooks with unstable ZK connection.
<br /><span class="attrib">(Anver Sotnikov, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14969">SOLR-14969</a>: Prevent creating multiple cores with the same name which leads to instabilities (race condition)
<br /><span class="attrib">(Erick Erickson, Andreas Hubold)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14961">SOLR-14961</a>: Fix for deleting zookeeper nodes with same path length. Only the first zk-node was removed.
<br /><span class="attrib">(Michael Aleythe via Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14971">SOLR-14971</a>: AtomicUpdate 'remove', 'add-distinct' operations now works on numeric, date fields in uncommitted docs
<br /><span class="attrib">(Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14983">SOLR-14983</a>: Fix response returning original score instead of reranked score due to query and filter combining.
<br /><span class="attrib">(Krishan Goyal, Jason Baik, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14993">SOLR-14993</a>: Unable to download zookeeper files of 1byte in size
<br /><span class="attrib">(Erick Erickson, Allen Sooredoo)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14851">SOLR-14851</a>: Http2SolrClient doesn't handle keystore type correctly
<br /><span class="attrib">(Andras Salamon via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15009">SOLR-15009</a>: Correctly propogate exceptions from DirectoryFactory.exists
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15017">SOLR-15017</a>: Core lib directories were not being recognized unless the solrconfig included a &lt;lib&gt; directive.
<br /><span class="attrib">(Thomas Mortagne)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14934">SOLR-14934</a>: Refactored duplicate "Solr Home" logic into a single place to eliminate risk of tests using divergent values
for a single solr node.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12182">SOLR-12182</a>: Don't persist base_url in ZK as the URL scheme is variable, compute from node_name instead when reading
state back from ZK.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15046">SOLR-15046</a>: Check if SOLR_SSL_ENABLED strictly equal to true for setting solr.jetty.https.port
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14939">SOLR-14939</a>: JSON range faceting to support cache=false parameter.
<br /><span class="attrib">(Christine Poerschke, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15031">SOLR-15031</a>: Fix preventing null being wrapped in a QueryValueSource subQuery. Such null queries can be caused by query text
resulting in an empty token stream.
<br /><span class="attrib">(Pieter van Boxtel via Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15061">SOLR-15061</a>: Fix NPE in SearchHandler when shards.info and no QueryComponent configured.
<br /><span class="attrib">(Bruno Roustant)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14571">SOLR-14571</a>: Download speed was hard-coded in the "Replication" screen of the Solr Admin UI.
<br /><span class="attrib">(Florin Babes via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15048">SOLR-15048</a>: Fixed collapse parser behavior when dealing with docs boosted by QueryElevationComponent that are in the
null group to treat them consistently regardless of collapse field type or group head selector.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15058">SOLR-15058</a>: Enforce node_name contains colon and port and find first underscore after colon to parse context
when converting a node_name to a base URL.
<br /><span class="attrib">(Timothy Potter, Su Sasa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15047">SOLR-15047</a>: Fix collapse parser behavior when collapsing on numeric fields to differentiate '0' group from null group
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10860">SOLR-10860</a>: Return proper error code for bad input in case of inplace updates
<br /><span class="attrib">(Tomas Eduardo Fernandez Lobbe, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14950">SOLR-14950</a>: Fix error in copyField regeneration when explicit source/destination is not present in schema but
matches the dynamic rule. The copyFields are rebuilt with replace-field and replace-field-type, if required
<br /><span class="attrib">(Andrew Shumway, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12539">SOLR-12539</a>: Handle parsing of values for 'other', 'include', and 'excludeTags' in JSON facets when specified as
comma-separated values with extra spaces
<br /><span class="attrib">(hossman, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14514">SOLR-14514</a>: Avoid picking 'stream' method in JSON facet when any of 'allBuckets', 'numBuckets', and 'missing' parameters are enabled
<br /><span class="attrib">(hossman, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12559">SOLR-12559</a>: Fix placeholder valuesource 'FIELDNAME' not working with de-referenced values in JSON aggregator parsing.
<br /><span class="attrib">(hossman, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15070">SOLR-15070</a>: Suggester requests made with SolrJ can now use XMLResponseParser
<br /><span class="attrib">(Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15073">SOLR-15073</a>: Fix ClassCastException in SystemInfoHandler.getSecurityInfo.
<br /><span class="attrib">(Nikolay Ivanov, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15071">SOLR-15071</a>: Fix ArrayIndexOutOfBoundsException in contrib/ltr SolrFeatureScorer.
<br /><span class="attrib">(Florin Babes, Ovidiu Mihalcea, David Smiley, Christine Poerschke)</span></li>
    </ol>
  </li>
  <li><a id="v8.8.0.other_changes" href="javascript:toggleList('v8.8.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(8)
    <ol id="v8.8.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14954">SOLR-14954</a>: Heavily edit reindexing.adoc
<br /><span class="attrib">(Sameul García Martínez and Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14981">SOLR-14981</a>: Removed search results clustering contrib from 8x (due to Carrot2 incompatibility with Java 1.8).
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14995">SOLR-14995</a>: Update Jetty to 9.4.34
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14958">SOLR-14958</a>: Refactor zkHost config logic to make testing easier and reduce risk of incorrect value being used
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14951">SOLR-14951</a>: Upgrade Angular JS 1.7.9 to 1.8.0
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15057">SOLR-15057</a>: Avoid unnecessary object retention in FacetRangeProcessor.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14999">SOLR-14999</a>: New option for specifying the advertised Solr Port (hostPort). Still defaults to "jetty.port".
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15010">SOLR-15010</a>: Thread dump using jattach if available and jstack is missing.
<br /><span class="attrib">(Eric Pugh)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.7.0" href="javascript:toggleList('v8.7.0')">Release 8.7.0  [2020-11-03]</a></h3>
<ul id="v8.7.0.list">
      <li>Consult the lucene/CHANGES.txt file for additional, low level, changes in this release.
</li>
  <li><a id="v8.7.0.new_features" href="javascript:toggleList('v8.7.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(13)
    <ol id="v8.7.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14151">SOLR-14151</a> Make schema components load from packages
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14681">SOLR-14681</a>: Introduce ability to delete .jar stored in the Package Store.
<br /><span class="attrib">(MarcusSorealheis , Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14604">SOLR-14604</a>: Add the ability to uninstall a package from with the Package CLI.
<br /><span class="attrib">(MarcusSorealheis)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14582">SOLR-14582</a>: Expose IWC.setMaxCommitMergeWaitMillis in Solr's index config. This is an expert config option that can be
set when using a custom MergePolicy (doesn't have any effect on the default MP)
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13751">SOLR-13751</a>: Add BooleanSimilarityFactory class.
<br /><span class="attrib">(Andy Webb via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14875">SOLR-14875</a>: Make SolrEventListeners load from packages
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10391">SOLR-10391</a>: ConfigSet handler now supports overrides on existing configsets.
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11167">SOLR-11167</a>: Avoid $SOLR_STOP_WAIT use during 'bin/solr start' if $SOLR_START_WAIT is supplied.
<br /><span class="attrib">(Omar Abdelnabi, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14907">SOLR-14907</a>: Support single file upload/overwrite in configSet API.
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14914">SOLR-14914</a>: Add option to disable metrics collection.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14588">SOLR-14588</a>: Introduce Circuit Breaker Infrastructure and a JVM heap usage memory tracking circuit breaker implementation
<br /><span class="attrib">(Atri Sharma)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14615">SOLR-14615</a>: CPU Utilization Based Circuit Breaker
<br /><span class="attrib">(Atri Sharma)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-15052">SOLR-15052</a>: Reducing overseer bottlenecks using per-replica states
<br /><span class="attrib">(noble, Ishan Chattopadhyaya)</span></li>
    </ol>
  </li>
  <li><a id="v8.7.0.improvements" href="javascript:toggleList('v8.7.0.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(13)
    <ol id="v8.7.0.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14523">SOLR-14523</a>: Enhance gradle logging calls validation: eliminate getMessage()
<br /><span class="attrib">(Andras Salamon via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14537">SOLR-14537</a>: Improve performance of ExportWriter.
<br /><span class="attrib">(ab, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14566">SOLR-14566</a>: Request ID's ('rid') are now added by default to distributed search requests, and can be used to correlate
logs from the receiving coordinator node with those from downstream shard requests.  This can be disabled by providing a
disableRequestId=true request parameter.
<br /><span class="attrib">(Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14635">SOLR-14635</a>: ThreadDumpHandler has been enhanced to show lock ownership
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11262">SOLR-11262</a>: Add support to stream data out using push APIs when wt=xml
<br /><span class="attrib">(yonik, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13205">SOLR-13205</a>: Prevent StringIndexOutOfBoundsException when parsing field names in SolrQueryParserBase
<br /><span class="attrib">(pramodkumar9 via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14651">SOLR-14651</a>: The MetricsHistoryHandler can more completely disable itself when you tell it to.
Also, it now shuts down more thoroughly.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14722">SOLR-14722</a>: Track timeAllowed from earlier in the request lifecycle.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13438">SOLR-13438</a>: On deleting a collection, its config set will also be deleted iff it has been auto-created, and not used by any other collection
<br /><span class="attrib">(Anderson Dorow)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14802">SOLR-14802</a>: geodist: Support most (all?) spatial field types as an argument like LLPSF, SRPTFT, and others.
<br /><span class="attrib">(Tom Edge, Craig Wrigglesworth)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14905">SOLR-14905</a>: Update commons-io version to 2.8.0 due to security vulnerability.
<br /><span class="attrib">(Nazerke Seidan via Bruno Roustant)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14691">SOLR-14691</a>: Metrics reporting should avoid creating objects.
<br /><span class="attrib">(ab, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14933">SOLR-14933</a>: Ability to add T and P type replica from admin UI
<br /><span class="attrib">(Sayan Das via Eric Pugh)</span></li>
    </ol>
  </li>
  <li><a id="v8.7.0.optimizations" href="javascript:toggleList('v8.7.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(8)
    <ol id="v8.7.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14354">SOLR-14354</a>: HttpShardHandler send requests in async
<br /><span class="attrib">(Cao Manh Dat)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14610">SOLR-14610</a>: ReflectMapWriter to use MethodHandle instead of old reflection
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13132">SOLR-13132</a>: JSON Facet perf improvements to support "sweeping" collection of "relatedness()"
<br /><span class="attrib">(hossman, Michael Gibney)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14422">SOLR-14422</a>: Admin UI shows Angular placeholders on first load / refresh.
<br /><span class="attrib">(Colvin Cowie via Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14819">SOLR-14819</a>: Fix inefficient iterator pattern in JsonSchemaValidator.
<br /><span class="attrib">(Thomas DuBuisson via Bruno Roustant)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14658">SOLR-14658</a>: SolrJ's CollectionAdminRequest.collectionStatus(collection) would internally get
all collection statuses instead of just the specified collection.
<br /><span class="attrib">(Andy Vuong)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14576">SOLR-14576</a> : Do not use SolrCore as keys in a WeakHashMap
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14776">SOLR-14776</a>: Precompute fingerprint during PeerSync in parallel with fetching fingerprint from replicas.
<br /><span class="attrib">(Cao Manh Dat, Mike Drob via shalin)</span></li>
    </ol>
  </li>
  <li><a id="v8.7.0.bug_fixes" href="javascript:toggleList('v8.7.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(19)
    <ol id="v8.7.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14869">SOLR-14869</a>: ChildDocTransformer should have omitted deleted child documents.
<br /><span class="attrib">(Bar Rotstein, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11656">SOLR-11656</a>: TLOG replication doesn't work properly after rebalancing leaders.
<br /><span class="attrib">(Yuki Yano via
Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14516">SOLR-14516</a>: Fix NPE in JSON response writer(wt=json) with /get when writing non-stored, non-indexed docvalue field
from an uncommitted document
<br /><span class="attrib">(noble, Ishan Chattopadhyaya, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14657">SOLR-14657</a>: Improve error handling in IndexReader realted metrics that were causing scary ERROR logging
if metrics were requested while Solr was in the process of closing/re-opening a new IndexReader.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14748">SOLR-14748</a>: Fix incorrect auth/SSL startup logging
<br /><span class="attrib">(Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14751">SOLR-14751</a>: Zookeeper Admin screen not working for old ZK versions
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14677">SOLR-14677</a>: Improve DIH termination logic to close all DataSources, EntityProcessors
<br /><span class="attrib">(Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14703">SOLR-14703</a>: Fix edismax replacement of all whitespace characters with spaces
<br /><span class="attrib">(Yuriy Koval via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14700">SOLR-14700</a>: Avoid NullPointerException in TupleStream.getShards() when streamContext is null.
<br /><span class="attrib">(Mads Bondo Dydensborg, Christine Poerschke, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14752">SOLR-14752</a>: Fix error in Zookeeper status when Prometheus plugin is enabled in ZK
<br /><span class="attrib">(Philipp Trulson via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14774">SOLR-14774</a>: HealthCheckHandler is no longer an implicit SolrCore handler and can be configured from solr.xml
<br /><span class="attrib">(Tomás Fernándex Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14714">SOLR-14714</a>: Solr.cmd in windows loads the incorrect jetty module when using java&gt;=9
<br /><span class="attrib">(Endika Posadas via
Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14821">SOLR-14821</a>: {!terms} docValuesTermsFilterTopLevel method now works with single-valued strings
<br /><span class="attrib">(Anatolii Siuniaev
via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13181">SOLR-13181</a>: macro expansion of parameters could result in a StringIndexOutOfBoundsException.
Also, params with macros will be processed more strictly by LTR FeatureWeight.
<br /><span class="attrib">(David Smiley, Cesar Rodriguez, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14503">SOLR-14503</a>: Use specified waitForZk value as connection timeout for zookeeper in SolrDispatcherFilter.
Also, consume specified SOLR_WAIT_FOR_ZK in bin/solr.cmd
<br /><span class="attrib">(Colvin Cowie via Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14936">SOLR-14936</a>: Fixed Grafana dashboard filters for collection, shard, replica and core
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14924">SOLR-14924</a>: Some ReplicationHandler metrics are reported using incorrect types.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14483">SOLR-14483</a>: Fix empty drop down for adding replica in Admin UI
<br /><span class="attrib">(Sayan Das via Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14549">SOLR-14549</a>: Fix listing of Files in a Directory on Solr Admin UI
<br /><span class="attrib">(Kevin Risden)</span></li>
    </ol>
  </li>
  <li><a id="v8.7.0.other_changes" href="javascript:toggleList('v8.7.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="v8.7.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14592">SOLR-14592</a>: Upgrade Zookeeper to 3.6.1. NOTE: this required upgrading netty to 4.1.50
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10742">SOLR-10742</a>: SolrCores.getNamesForCore is quite inefficient and blocks other core operations.
NOTE: this experimental method has been removed
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13939">SOLR-13939</a>: Extract any non-gradle related patches (deprecations, URL fixes, etc.) from gradle effort. NOTE:
this will be in several separate commits/pushes.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14637">SOLR-14637</a>: Update CloudSolrClient examples to remove deprecated method.
<br /><span class="attrib">(Andras Salamon via Eric Pugh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14676">SOLR-14676</a>: Update commons-collections to 4.4 and use it in Solr
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11868">SOLR-11868</a>: Deprecate CloudSolrClient.setIdField, use information from Zookeeper
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14641">SOLR-14641</a>: PeerSync, remove canHandleVersionRanges check
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14731">SOLR-14731</a>: Rename @SolrSingleThreaded to @SolrThreadUnsafe, mark DistribPackageStore with the annotation
<br /><span class="attrib">(marcussorealheis)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14579">SOLR-14579</a>: Comment SolrJ 'Utils' generic map functions
<br /><span class="attrib">(Megan Carey and a lot of education from Uwe Schindler via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10471">SOLR-10471</a>: Update default Zookeeper session timeout to 30s in bin/solr and bin/solr.cmd
<br /><span class="attrib">(Michael Braun, Markus Jelsma via Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14876">SOLR-14876</a>: Upgrade to zookeeper 3.6.2
<br /><span class="attrib">(odidev via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14333">SOLR-14333</a>: Implement toString in Collapse filter so that proper parsed queries returned in debug response.
Also, Deprecate unused constants NULL_COLLAPSE, NULL_IGNORE, NULL_EXPAND, HINT_MULTI_DOCVALUES in collapse parser.
<br /><span class="attrib">(Guna Sekhar Dora Kovvuru, Munendra S N, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12987">SOLR-12987</a>: Deprecated plugins/features are now logged once and with log category org.apache.solr.DEPRECATED
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14910">SOLR-14910</a>: Use in-line tags for logger declarations in Gradle ValidateLogCalls that are non-standard,
            change //logok to //nowarn
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14659">SOLR-14659</a>: Remove restlet as dependency for the ManagedResource API
<br /><span class="attrib">(Timothy Potter, noble)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.6.3" href="javascript:toggleList('v8.6.3')">Release 8.6.3  [2020-10-07]</a></h3>
<ul id="v8.6.3.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.6.3.bug_fixes" href="javascript:toggleList('v8.6.3.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v8.6.3.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14859">SOLR-14859</a>: DateRangeField now throws errors when invalid field/fieldType options specified; no longer silently
accepts incompatible option values
<br /><span class="attrib">(Jason Gerlowski, Chris Hostetter, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14768">SOLR-14768</a>: Fix HTTP multipart POST to Solr -- a regression from 8.6.0. Many Jetty classes are not classpath-visible
from the Solr webapp.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14850">SOLR-14850</a>: Fix ExactStatsCache NullPointerException when shards.tolerant=true.
<br /><span class="attrib">(Yevhen Tienkaiev via ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14897">SOLR-14897</a>: Fix unlimited number of forwarding the request from one node to another node.
<br /><span class="attrib">(hossman, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14898">SOLR-14898</a>: Stop returning duplicate HTTP response headers when requests are forward to another node.
<br /><span class="attrib">(hossman)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.6.2" href="javascript:toggleList('v8.6.2')">Release 8.6.2  [2020-09-01]</a></h3>
<ul id="v8.6.2.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.6.2.bug_fixes" href="javascript:toggleList('v8.6.2.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v8.6.2.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14751">SOLR-14751</a>: Zookeeper Admin screen not working for old ZK versions
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14663">SOLR-14663</a>: Copy ConfigSet root data from base ConfigSet when using CREATE command
<br /><span class="attrib">(Andras Salamon, Tomás Fernández Löbbe)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.6.1" href="javascript:toggleList('v8.6.1')">Release 8.6.1  [2020-08-13]</a></h3>
<ul id="v8.6.1.list">
  <li><a id="v8.6.1.bug_fixes" href="javascript:toggleList('v8.6.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v8.6.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14665">SOLR-14665</a>, <a href="http://issues.apache.org/jira/browse/SOLR-14706">SOLR-14706</a>: Revert <a href="http://issues.apache.org/jira/browse/SOLR-12845">SOLR-12845</a> adding of default autoscaling cluster policy, due to performance
 issues.
<br /><span class="attrib">(Ishan Chattopadhyaya, Houston Putman, Gus Heck, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14671">SOLR-14671</a>: Parsing dynamic ZK config sometimes cause NuberFormatException
<br /><span class="attrib">(janhoy)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.6.0" href="javascript:toggleList('v8.6.0')">Release 8.6.0  [2020-07-15]</a></h3>
<ul id="v8.6.0.list">
      <li>Consult the lucene/CHANGES.txt file for additional, low level, changes in this release.
</li>
  <li><a id="v8.6.0.new_features" href="javascript:toggleList('v8.6.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(12)
    <ol id="v8.6.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14210">SOLR-14210</a>: HealthCheckHandler can now require that all cores are healthy before returning 'OK'
To enable, add &amp;requireHealthyCores=true to enable
<br /><span class="attrib">(janhoy, Houston Putman, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13942">SOLR-13942</a>: A read API at /api/cluster/zk/* to fetch raw ZK data and view contents of a ZK directory
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14237">SOLR-14237</a>: A new panel with security info in admin UI's dashboard
<br /><span class="attrib">(Ishan Chattopadhyaya, Moshe Bla)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12131">SOLR-12131</a>: ExternalRoleRuleBasedAuthorizationPlugin which gets user's roles from request
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14478">SOLR-14478</a>: Allow the diff Stream Evaluator to operate on the rows of a matrix
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14476">SOLR-14476</a>: Add percentiles and standard deviation aggregations to stats, facet and
timeseries Streaming Expressions
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14470">SOLR-14470</a>: Add streaming expressions to /export handler.
<br /><span class="attrib">(ab, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14404">SOLR-14404</a>: CoreContainer level custom requesthandlers
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13749">SOLR-13749</a>: Join queries can now work cross-collection, even when sharded or when spanning nodes.
<br /><span class="attrib">(Dan Fox, Kevin Watters, via Gus Heck, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14481">SOLR-14481</a>: Add drill Streaming Expression for efficient and accurate high cardinality aggregation.
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14599">SOLR-14599</a>: Package manager support for cluster level plugins (see <a href="http://issues.apache.org/jira/browse/SOLR-14404">SOLR-14404</a>)
<br /><span class="attrib">(Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14590">SOLR-14590</a>: Add support for RankFields. RankFields allow the use of per-document scoring factors in a
way that lets Solr skip over non-competitive documents when ranking. See <a href="http://issues.apache.org/jira/browse/SOLR-13289">SOLR-13289</a>.
<br /><span class="attrib">(Tomás Fernández Löbbe, Varun Thacker)</span></li>
    </ol>
  </li>
  <li><a id="v8.6.0.improvements" href="javascript:toggleList('v8.6.0.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(19)
    <ol id="v8.6.0.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14316">SOLR-14316</a>: Remove unchecked type conversion warning in JavaBinCodec's readMapEntry's equals() method
<br /><span class="attrib">(Aroop Ganguly, Tomás Fernández Löbbe, Noble Paul, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14260">SOLR-14260</a>: Make SolrJ ConnectionSocketFactory pluggable via SocketFactoryRegistryProvider setting on HttpClientUtil
<br /><span class="attrib">(Andy Throgmorton via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14342">SOLR-14342</a>: Load cores in an order that makes collections available sooner and reduces leaderVoteWait timeouts in
large SolrCloud clusters.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14329">SOLR-14329</a>: Add support to choose collapse group to expand in ExpandComponent based on cost
<br /><span class="attrib">(Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14307">SOLR-14307</a>: User defined "&lt;cache/&gt;" entries in solrconfig.xml now support enabled="true|false" just like
core searcher caches.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14364">SOLR-14364</a>: LTR's SolrFeature "fq" now supports PostFilters (e.g. collapse).
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14396">SOLR-14396</a>: TaggerRequestHandler should not error on an empty index
<br /><span class="attrib">(Trey Grainger)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12845">SOLR-12845</a>: Add a default autoscaling cluster policy.
<br /><span class="attrib">(shalin, varunthacker, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14433">SOLR-14433</a>: Metrics: SolrShardReporter's default metrics list now includes TLOG and UPDATE./update
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14423">SOLR-14423</a>: Move static SolrClientCache from StreamHandler to CoreContainer for wider reuse and better life-cycle management.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14407">SOLR-14407</a>: Handle shards.purpose in the postlogs tool
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13325">SOLR-13325</a>: ComputePlanAction now supports a collection selector of the form `collections: {policy: my_policy}`
which can be used to select multiple collections that match collection property/value pairs. This is useful to
maintain a whitelist of collections for which actions are taken without needing to hard code the collection names
themselves. The collection hints are pushed down to the policy engine so operations for non-matching collections
are not computed at all.
<br /><span class="attrib">(ab, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14419">SOLR-14419</a>: json.queries as well as other parameters might be referred via {"param":"ref"} in Query DSL
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11334">SOLR-11334</a>: hl.fl and tv.fl now parse field lists when they have both commas and spaces
<br /><span class="attrib">(David Smiley, Yasufumi Mizoguchi)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14442">SOLR-14442</a>: bin/solr and bin\solr.cmd invoke jstack &lt;SOLR_PID&gt; before forceful termination, if jstack is available.
Also, bin\solr.cmd executes forceful termination even port is unbinded  already
<br /><span class="attrib">(Christine Poerschke via Mikhail Khludnev)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14384">SOLR-14384</a>: SolrRequestInfo now stacks internally when a new request is set/clear'ed.
Also fixes SolrIndexSearcher.warm which should have re-instated previous SRI.
<br /><span class="attrib">(Nazerke Seidan, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14561">SOLR-14561</a>: CoreAdminAPI's parameters instanceDir and dataDir are now validated, and must be relative to either
SOLR_HOME, SOLR_DATA_HOME or coreRootDir. Added new solr.xml config 'allowPaths', controlled by system property
'solr.allowPaths' that allows you to add other allowed paths when needed.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13286">SOLR-13286</a>: Metrics will no longer write a (sometimes large) log message every minute. This can be re-enabled
via log4j2.xml if desired, or other HttpSolrCall log messages may be quieted on a per handler basis.
<br /><span class="attrib">(Gus Heck)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14539">SOLR-14539</a>: Introducing {!bool excludeTags=...} for Query DSL.
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
    </ol>
  </li>
  <li><a id="v8.6.0.optimizations" href="javascript:toggleList('v8.6.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(10)
    <ol id="v8.6.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8306">SOLR-8306</a>: Do not collect expand documents when expand.rows=0
<br /><span class="attrib">(Marshall Sanders, Amelia Henderson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14340">SOLR-14340</a>: Remove unnecessary configset verification checks when SolrCloud merely wants to know which configset a
collection is using.  Improves CLUSTERSTATUS times for massive clusters.
<br /><span class="attrib">(Mathieu Marie, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14365">SOLR-14365</a>: CollapsingQParser - Avoiding always allocate int[] and float[] with size equals to number of unique values.
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14376">SOLR-14376</a>: Optimize filter queries that match all docs.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-7788">LUCENE-7788</a>: fail precommit on unparameterised log messages and examine for wasted work/objects
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13289">SOLR-13289</a>: When the "minExactCount" parameters is provided in queries and it's value is lower than the number of hits,
Solr can speedup the query resolution by using the Block-Max WAND algorithm (see <a href="http://issues.apache.org/jira/browse/LUCENE-8135">LUCENE-8135</a>). When doing this, the
value of matching documents in the response (numFound) will be an approximation.
<br /><span class="attrib">(Ishan Chattopadhyaya, Munendra S N, Tomás Fernández Löbbe, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14472">SOLR-14472</a>: Autoscaling "cores" preference now retrieves the core count more efficiently, and counts all cores.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14552">SOLR-14552</a>: Add BlockMax-WAND support to ReRank queries
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14554">SOLR-14554</a>: Add BlockMax-WAND support for queries where the score is requested
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14634">SOLR-14634</a>: Limit the HTTP security headers to "/solr" end point
<br /><span class="attrib">(noble)</span></li>
    </ol>
  </li>
  <li><a id="v8.6.0.bug_fixes" href="javascript:toggleList('v8.6.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(33)
    <ol id="v8.6.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13264">SOLR-13264</a>: IndexSizeTrigger aboveOp / belowOp properties not in valid properties.
<br /><span class="attrib">(Christine Poerschke, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13199">SOLR-13199</a>: Return proper error when invalid parentFilter is passed in ChildDocTransformer
<br /><span class="attrib">(Johannes Kloos, Munendra S N, David Smiley, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14347">SOLR-14347</a>: Autoscaling placement wrong when concurrent replica placements are calculated.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14128">SOLR-14128</a>: Improve distributed locking around managed schema upgrade process.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14302">SOLR-14302</a>: Ensure Solr always includes the stacktrace for exceptions by using '-OmitStackTraceInFastThrow'
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14317">SOLR-14317</a>: HttpClusterStateProvider throws exception when only one node down.
<br /><span class="attrib">(Lyle Wang via Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14356">SOLR-14356</a>: PeerSync should not fail with SocketTimeoutException from hanging nodes
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14402">SOLR-14402</a>: Avoid creating new exceptions for every request made to MDCAwareThreadPoolExecutor by distributed search.
This is a fix for incomplete optimization made by <a href="http://issues.apache.org/jira/browse/SOLR-11880">SOLR-11880</a> in Solr 7.4 which fixed distributed updates but not
distributed search.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14291">SOLR-14291</a>: Handle dotted fields in legacy Analytics Component
<br /><span class="attrib">(Anatolii Siuniaev via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14371">SOLR-14371</a>: Zk StatusHandler now parse dynamic zk server config if supported, fixing Admin UI Zookeeper Status
screen in case dynamic reconfig host list differs from static zkHost string
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14421">SOLR-14421</a>: New examples in solr.in.cmd in Solr 8.5 don't work as provided
<br /><span class="attrib">(Colvin Cowie via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14431">SOLR-14431</a>: SegmentsInfoRequestHandler does not release IndexWriter
<br /><span class="attrib">(Tiziano Degaetano, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14463">SOLR-14463</a>: Solr Admin ZkStatus page now works with ZK 3.6, without 'For input string: "null"' error
<br /><span class="attrib">(janhoy, Bernd Wahlen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14456">SOLR-14456</a>: Fix Content-Type header usage when a request is forwarded from Solr node to Solr
node with compression enabled
<br /><span class="attrib">(samuelgmartinez via Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8394">SOLR-8394</a>: /admin/luke was always showing 0 for indexHeapUsageBytes. It should work now.
<br /><span class="attrib">(Steve Molloy, Isabelle Giguere, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14492">SOLR-14492</a>: Fix ArrayIndexOutOfBoundsException in json.facet 'terms' when FacetFieldProcessorByHashDV is
used with aggregations over multivalued numeric fields
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14477">SOLR-14477</a>: Fix incorrect 'relatedness()' calculations in json.facet 'terms' when 'prefix' option is used
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14504">SOLR-14504</a>: ZkController LiveNodesListener has NullPointerException in startup race.
<br /><span class="attrib">(Colvin Cowie via ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14498">SOLR-14498</a>: Upgrade to Caffeine 2.8.4, which fixes the cache poisoning issue.
<br /><span class="attrib">(Jakub Zytka, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14517">SOLR-14517</a>: Dont ignore 'mm' localparam on edismax queries using operators
<br /><span class="attrib">(Yuriy Koval via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14491">SOLR-14491</a>: Intercepting internode requests in KerberosPlugin when HTTP/2 client is used
<br /><span class="attrib">(Ishan Chattopadhyaya, Moshe Bla)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14525">SOLR-14525</a>: SolrCoreAware, ResourceLoaderAware should be honored for plugin loaded from packages
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9679">SOLR-9679</a>: When removing zk node /security.json, security is now disabled gracefully
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14520">SOLR-14520</a>: Fixed server errors from the json.facet allBuckets:true option when combined with refine:true
<br /><span class="attrib">(Michael Gibney, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14467">SOLR-14467</a>: Fix relatedness() stat in json.facets to no longer cause server errors (or nonsense results)
when combined with allBuckets:true.
<br /><span class="attrib">(Michael Gibney, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13203">SOLR-13203</a>: Return 400 status code on invalid dynamic field for Edismax's user Fields
<br /><span class="attrib">(Johannes Kloos, mrsoong via Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14550">SOLR-14550</a>: Fix duplicates issue in Atomic updates with add-distinct
<br /><span class="attrib">(Thomas Corthals, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14345">SOLR-14345</a>: Return proper error message when non-BinaryResponseParser is used in solrJ
<br /><span class="attrib">(Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14516">SOLR-14516</a>: NPE in JsonTextWriter
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14577">SOLR-14577</a>: Return 400 BAD REQUEST when field is missing on a Terms query parser request
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14409">SOLR-14409</a>: Existing violations allow bypassing policy rules when adding new replicas
<br /><span class="attrib">(noble, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14584">SOLR-14584</a>: Correct SOLR_SSL_KEY_STORE and SOLR_SSL_TRUST_STORE example comments in solr.in.sh and solr.in.cmd files
<br /><span class="attrib">(Aren Cambre via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14628">SOLR-14628</a>: hl.fragsizeIsMinimum now defaults to true, thus fragments size like previous to Solr 8.5 and addresses a
significant performance regression.
<br /><span class="attrib">(David Smiley, Michal Hlavac)</span></li>
    </ol>
  </li>
  <li><a id="v8.6.0.other_changes" href="javascript:toggleList('v8.6.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(56)
    <ol id="v8.6.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14197">SOLR-14197</a>: SolrResourceLoader: marked many methods as deprecated, and in some cases rerouted exiting logic to avoid
them.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14312">SOLR-14312</a>: Upgrade Zookeeper to 3.5.7
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14296">SOLR-14296</a>: Update netty to 4.1.46
<br /><span class="attrib">(Andras Solaman via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10157">SOLR-10157</a>: Improve error messages when unknown aggregations are specified in the request
<br /><span class="attrib">(hossman, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13944">SOLR-13944</a>: Remove redundant checks in SpellCheckCollator and add tests for spellcheck with collapse
<br /><span class="attrib">(Stefan, Munendra S N, Tomas Eduardo Fernandez Lobbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12353">SOLR-12353</a>: SolrDispatchFilter expensive non-conditional debug line degrades performance
<br /><span class="attrib">(Pascal Proulx via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13842">SOLR-13842</a>: Remove redundant defaults from ImplicitPlugins.json
<br /><span class="attrib">(Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13893">SOLR-13893</a>: BlobRepository reads max jar size from `runtime.lib.size` system property. Old `runtme.lib.size` is Deprecated
<br /><span class="attrib">(Erick Erickson, Kesharee Nandan Vishwakarma, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14367">SOLR-14367</a>: Upgrade Tika to 1.24
<br /><span class="attrib">(Mibo via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14351">SOLR-14351</a>: Hardened MDC logging; sometimes info was absent
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14386">SOLR-14386</a>: Update Jetty to 9.4.27 and dropwizard-metrics version to 4.1.5
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9909">SOLR-9909</a>: SolrjNamedThreadFactory is deprecated in favor of SolrNamedThreadFactory. DefaultSolrThreadFactory is
removed from solr-core in favor of SolrNamedThreadFactory in solrj package and all solr-core classes now use
SolrNamedThreadFactory.
<br /><span class="attrib">(Andras Salamon, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14391">SOLR-14391</a>: Removed internal-ish ScoreFilter marker interface; only used by {!collapse}.  Removed needless code in
SolrIndexSearcher.getDocSet(List&lt;Query&gt;) (processes some filter queries).
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13886">SOLR-13886</a>: HDFSSyncSliceTest and SyncSliceTest started failing frequently
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14173">SOLR-14173</a>: Major redesign of the Solr Reference Guide
<br /><span class="attrib">(Cassandra Targett)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14461">SOLR-14461</a>: Replaced commons-fileupload dependency with using Jetty's facilities.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14466">SOLR-14466</a>: Upgrade log4j2 to latest release (2.13.2)
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11934">SOLR-11934</a>: Visit Solr logging, it's too noisy. Note particularly that the messages for
opening a new searcher have changed and include the autowarm time.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7880">SOLR-7880</a>: Update commons-cli to 1.4
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14226">SOLR-14226</a>: Fix or suppress 14 resource leak warnings in apache/solr/core
<br /><span class="attrib">(Andras Salaman via
Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14482">SOLR-14482</a>: Fix or suppress warnings in solr/search/facet
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14485">SOLR-14485</a>: Fix or suppress 11 resource leak warnings in apache/solr/cloud
<br /><span class="attrib">(Andras Salaman via
Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14495">SOLR-14495</a>: Fix or suppress warnings in solr/search/function
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14280">SOLR-14280</a>: Improve error reporting in SolrConfig
<br /><span class="attrib">(Andras Salamon via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14474">SOLR-14474</a>: Fix remaining auxilliary class warnings in Solr
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14519">SOLR-14519</a>: Fix or suppress warnings in solr/cloud/autoscaling/
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14526">SOLR-14526</a>: fix or suppress warnings in apache/solr/core
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14533">SOLR-14533</a>: Fix or suppress warnings in solr/handler/admin
<br /><span class="attrib">(Andras Salamon, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14535">SOLR-14535</a>: Fix or suppress warnings in apache/solr/handler/component
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14538">SOLR-14538</a>: Fix or suppress remaining warnings in apache/solr/handler
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14536">SOLR-14536</a>: Fix or suppress warnings in apache/solr/common
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14480">SOLR-14480</a>: Fix or suppress warnings in solr/cloud/api
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13492">SOLR-13492</a>: Ensure explicit GCs are concurrent by adding '+ExplicitGCInvokesConcurrent'.
<br /><span class="attrib">(Guna Sekhar Dora, Shawn Heisey, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14542">SOLR-14542</a>: Fix or suppress warnings in solr/handler/dataimport
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14544">SOLR-14544</a>: Fix or suppress warnings in solr/client/solrj/io/eval
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14543">SOLR-14543</a>: Fix or suppress warnings in apache/solr/search
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14545">SOLR-14545</a>: Fix or suppress warnings in apache/solr/update
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14548">SOLR-14548</a>: Address warning: static member should be qualified by type name
<br /><span class="attrib">(Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14547">SOLR-14547</a>: Fix or suppress warnings in solr/client/solrj/io/stream
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14455">SOLR-14455</a>: Fix or suppress warnings in solr/test-framework
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14559">SOLR-14559</a>: Fix or suppress warnings in solr/core/src/java/org/apache/solr/util,
response, cloud, security, schema, api
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14563">SOLR-14563</a>: Fix or suppress warnings in solr/contrib
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14565">SOLR-14565</a>: Fix or suppress warnings in solrj/impl and solrj/io/graph
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14564">SOLR-14564</a>: Fix or suppress remaining warnings in solr/core
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14567">SOLR-14567</a>: Fix or suppress remaining warnings in solrj
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14556">SOLR-14556</a>: Fix or suppress warnings in solrj/cloud/autoscaling
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14573">SOLR-14573</a>: Fix or suppress warnings in solrj/src/test
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14574">SOLR-14574</a>: Fix or suppress warnings in solr/core/src/test (parts 1 and 2)
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13268">SOLR-13268</a>: Clean up any test failures resulting from defaulting to async logging
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-9411">LUCENE-9411</a>: Fail complation on warnings, 9x gradle-only (Erick Erickson, Dawid Weiss)
Only mentioned in 8.6 because I backported some more warning suppressions but not
the fail-on-warnings.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14589">SOLR-14589</a>: Remove IntelliJ //noinspection comments
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14541">SOLR-14541</a>: Ensure classes that implement equals implement hashCode or suppress warnings
<br /><span class="attrib">(gezapeti, Ilan Ginsburg, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14022">SOLR-14022</a>: Deprecate CDCR
<br /><span class="attrib">(Joel Bernstein, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14066">SOLR-14066</a>: Data Import Handler is deprecated. It is scheduled to be removed as of 9.0 and a community supported
package for the same may now be used instead.
<br /><span class="attrib">(Ishan Chattopadhyaya, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14021">SOLR-14021</a>: HDFS support is deprecated. It is scheduled to be removed as of 9.0. Please see JIRA for more details.
<br /><span class="attrib">(Joel Bernstein, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14603">SOLR-14603</a>: Upgrade Restlet to 2.4.3
<br /><span class="attrib">(marcussorealheis)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.5.2" href="javascript:toggleList('v8.5.2')">Release 8.5.2  [2020-05-26]</a></h3>
<ul id="v8.5.2.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.5.2.bug_fixes" href="javascript:toggleList('v8.5.2.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v8.5.2.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14411">SOLR-14411</a>: Fix Admin UI collection/core drop-downs placeholder text. Completes work started in <a href="http://issues.apache.org/jira/browse/SOLR-14359">SOLR-14359</a>
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14471">SOLR-14471</a>: Fix bug in shards.preference behavior, base replica selection strategy not applied to the last group of
equivalent replicas.
<br /><span class="attrib">(Michael Gibney via Tomás Fernández Löbbe)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.5.1" href="javascript:toggleList('v8.5.1')">Release 8.5.1  [2020-04-16]</a></h3>
<ul id="v8.5.1.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.5.1.bug_fixes" href="javascript:toggleList('v8.5.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v8.5.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14359">SOLR-14359</a>: Admin UI collection/core drop-downs had wrong placeholder text. Fixed by upgrading angular-chosen
This fix was incomplete, see <a href="http://issues.apache.org/jira/browse/SOLR-14411">SOLR-14411</a> for the followup
<br /><span class="attrib">(janhoy)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.5.0" href="javascript:toggleList('v8.5.0')">Release 8.5.0  [2020-03-24]</a></h3>
<ul id="v8.5.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.5.0.new_features" href="javascript:toggleList('v8.5.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v8.5.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12490">SOLR-12490</a>: Introducing json.queries in JSON Request API. Every property of this object holds one or many named
 Query DSL queries. It's optional and doesn't impact response without explicit referencing these queries by names
<br /><span class="attrib">(Anatolii Siuniaev via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14130">SOLR-14130</a>: Add postlogs command line tool for indexing Solr logs
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13749">SOLR-13749</a>: New cross collection join filter (XCJF)
<br /><span class="attrib">(Dan Fox, Kevin Watters, via Gus Heck)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12325">SOLR-12325</a>: Introducing uniqueBlock({!v=type:parent}) aggregation
<br /><span class="attrib">(Anatolii Siuniaev via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14241">SOLR-14241</a>: New delete() Stream Decorator
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14139">SOLR-14139</a>: Support backtick phrase queries in Streaming Expressions
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12238">SOLR-12238</a>: Synonyms can be individually boosted by marking them with '|&lt;boost&gt;' in
the synonyms file, and adding a DelimitedBoostTokenFilter to the analysis chain
<br /><span class="attrib">(Alessandro Benedetti, Alan Woodward)</span></li>
    </ol>
  </li>
  <li><a id="v8.5.0.improvements" href="javascript:toggleList('v8.5.0.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(22)
    <ol id="v8.5.0.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14120">SOLR-14120</a>: Define JavaScript methods 'includes' and 'startsWith' to ensure AdminUI can be displayed when using
Internet Explorer 11
<br /><span class="attrib">(jafurrer)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14042">SOLR-14042</a>: Fix varargs precommit warnings
<br /><span class="attrib">(Andraas Salamon via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14095">SOLR-14095</a>: Replace Java serialization with Javabin in the Overseer queues
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14125">SOLR-14125</a>: Make &lt;expressible&gt; plugins work with packages
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14138">SOLR-14138</a>: Jetty's NCSA-formatted RequestLog can be enabled via environment variable,
SOLR_REQUESTLOG_ENABLED=true. This will respect SOLR_LOGS_DIR if it is set.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14136">SOLR-14136</a>: Jetty's InetAccessHandler can be enabled via environment variables,
SOLR_IP_WHITELIST and SOLR_IP_BLACKLIST. These variables can restrict access to
Solr based on IP addresses/networks.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14131">SOLR-14131</a>: Add maxQueryLength option to DirectSolrSpellchecker.
<br /><span class="attrib">(Andy Webb via Bruno Roustant)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13984">SOLR-13984</a>: Java's SecurityManager sandbox can be enabled via environment variable,
SOLR_SECURITY_MANAGER_ENABLED=true.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14129">SOLR-14129</a>: Reuse Jackson ObjectMapper in AuditLoggerPlugin
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-9093">LUCENE-9093</a>: The Unified highlighter has two new passage sizing parameters, hl.fragAlignRatio and
hl.fragsizeIsMinimum, with defaults that aim to better center matches in fragments than previously. See the ref guide.
Regardless of the settings, the passages may be sized differently than before.
<br /><span class="attrib">(Nándor Mátravölgyi, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14154">SOLR-14154</a>: Return correct isolation level when retrieving it from the SQL Connection
<br /><span class="attrib">(Nick Vercammen, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14132">SOLR-14132</a>: Upgrade Angular JS 1.3.8 to 1.7.9
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14221">SOLR-14221</a>: Upgrade restlet to version 2.4.0
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10567">SOLR-10567</a>: Add Support for DateRangeField in JSON Facet range
<br /><span class="attrib">(Stephen Weiss, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14245">SOLR-14245</a>: Validate Replica / ReplicaInfo on creation.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14194">SOLR-14194</a>: Highlighting now works when the uniqueKey field is not stored but has docValues.  And the original
highlighter can now highlight text fields from docValues.
<br /><span class="attrib">(Andrzej Wislowski, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14270">SOLR-14270</a>: export command to have an option to write to a zip file
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14286">SOLR-14286</a>: Upgrade Jaegar to 1.1.0
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14281">SOLR-14281</a>: Make sharedLib configurable through system property. Also allow multiple paths, separated by comma.
See Reference Guide 'format-of-solr-xml.adoc' and comment in 'solr.in.sh' for details
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13892">SOLR-13892</a>: New "top-level" docValues join implementation
<br /><span class="attrib">(Jason Gerlowski, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14242">SOLR-14242</a>: HdfsDirectory now supports indexing geo-points, ranges or shapes.
<br /><span class="attrib">(Adrien Grand)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13965">SOLR-13965</a>: In GraphHandler, support &lt;expressible&gt; configuration and deprecate &lt;streamFunctions&gt; configuration.
<br /><span class="attrib">(Eric Pugh via Christine Poerschke)</span></li>
    </ol>
  </li>
  <li><a id="v8.5.0.optimizations" href="javascript:toggleList('v8.5.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v8.5.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13890">SOLR-13890</a>: Add "top-level" DV implementation for {!terms} queries.  This approach tends to be more efficient for
queries with very large numbers of terms.  The new implementation is used by default for method=docValuesTermsFilter
terms queries that are searching 500 or more terms.  Users wishing to ignore this heuristic can choose the
docValuesTermsFilterTopLevel or docValuesTermsFilterPerSegment methods directly.
<br /><span class="attrib">(Jason Gerlowski, Joel Bernstein, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13808">SOLR-13808</a>: filter in BoolQParser and {"bool":{"filter":..}} in Query DSL are cached by default
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14040">SOLR-14040</a>: The shareSchema solr.xml option now supports SolrCloud.  shareSchema is useful when you have many
cores per node and large schemas.
<br /><span class="attrib">(David Smiley)</span></li>
    </ol>
  </li>
  <li><a id="v8.5.0.bug_fixes" href="javascript:toggleList('v8.5.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(29)
    <ol id="v8.5.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14099">SOLR-14099</a>: Fixed @LogLevel annotation in test-framework to correctly 'unset' Loggers after test
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14017">SOLR-14017</a>: Ensure bin/solr's -q and -v options work with examples
<br /><span class="attrib">(Andy Vuong via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14122">SOLR-14122</a>: SimUtils converts v2 to v1 request params incorrectly.
<br /><span class="attrib">(Li Cao, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13089">SOLR-13089</a>: Fix lsof edge cases in the solr CLI script
<br /><span class="attrib">(Martijn Koster via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14198">SOLR-14198</a>: Nullpointer exception in AuditEvent when initialized from AuthorizationContext
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6613">SOLR-6613</a>: TextField.analyzeMultiTerm does not throw an exception when Analyzer returns no terms.
<br /><span class="attrib">(Bruno Roustant)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14192">SOLR-14192</a>: Race condition between SchemaManager and ZkIndexSchemaReader.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12859">SOLR-12859</a>: Fixed DocExpirationUpdateProcessorFactory to work with BasicAuth and other auth plugins
that delegate to PKI for server initiated node-to-node communication.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11746">SOLR-11746</a>: Adding existence queries for PointFields. DocValuesFieldExistsQuery and NormsFieldExistsQuery are used for existence queries when possible.
<br /><span class="attrib">(Houston Putman, hossman, Kai Chan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14207">SOLR-14207</a>: Fix logging statements with less or more arguments than placeholders.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14172">SOLR-14172</a>: Collection metadata remains in zookeeper if too many shards are requested. This also fixes a bug where
an inability to assign a node based on existing autoscaling policy resulted in a server error instead of a bad request.
<br /><span class="attrib">(Andras Salamon, Kevin Risden, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14196">SOLR-14196</a>: AdminUI login not working for JWTAuth when blockUnknown=false
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14205">SOLR-14205</a>: Do not fail when given timeout to connectionImpl.isValid() = 0
<br /><span class="attrib">(Nick Vercammen via Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11554">SOLR-11554</a>: Support handling OPTIONS request for Hadoop authentication filter
<br /><span class="attrib">(Peter Cseh via Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14189">SOLR-14189</a>: Switch from String.trim() to StringUtils.isBlank() in query parsers
<br /><span class="attrib">(Andy Webb via Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13897">SOLR-13897</a>: Fix unsafe publication of Terms object in ZkShardTerms that can cause visibility issues
and race conditions under contention.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14090">SOLR-14090</a>: Handle the case in `delete-copy-field` when source is a dynamic field
<br /><span class="attrib">(Frank Iversen, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14219">SOLR-14219</a>: <a href="http://issues.apache.org/jira/browse/SOLR-14095">SOLR-14095</a> Introduced an issue for rolling restarts (Incompatible Java serialization). This change
Fixes the compatibility issue while keeping the functionality in <a href="http://issues.apache.org/jira/browse/SOLR-14095">SOLR-14095</a>.
<br /><span class="attrib">(Andy Webb, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13887">SOLR-13887</a>: Use default idleTimeout instead of 0 for HTTP2 requests.
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14038">SOLR-14038</a>: Admin UI display for "state.json" should be in a scollable region
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14058">SOLR-14058</a>: Fix IndexOutOfBoundsException in PeerSync that can prevent nodes from recovering
under certain circumstances.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13041">SOLR-13041</a>: Add hashCode for autoscaling.Condition to accompany the already present equals.
<br /><span class="attrib">(Zsolt Gyulavari via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12550">SOLR-12550</a>: ConcurrentUpdateSolrClient doesn't respect timeouts for commits and optimize.
<br /><span class="attrib">(Marc A. Morissette, Bérénice MAUREL via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14250">SOLR-14250</a>: Do not log error when trying to consume non-existing input stream due to Expect: 100-continue
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13411">SOLR-13411</a>: Deny atomic update for route.field, uniqueKey, version and throw exception.
<br /><span class="attrib">(Dr Oleg Savrasov via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14252">SOLR-14252</a>: Avoid NullPointerException in AggregateMetric.
<br /><span class="attrib">(Andy Webb via ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14287">SOLR-14287</a>: Admin UI Properties screen does not show colons
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14299">SOLR-14299</a>: IndexFetcher doesn't reset error count to 0 after the last packet is received
<br /><span class="attrib">(Pushkar Raste via Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14073">SOLR-14073</a>: Fix segment look ahead NPE in CollapsingQParserPlugin
<br /><span class="attrib">(Joel Bernstein)</span></li>
    </ol>
  </li>
  <li><a id="v8.5.0.other_changes" href="javascript:toggleList('v8.5.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(16)
    <ol id="v8.5.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14047">SOLR-14047</a>: Make sure tests don't pickup other Hadoop installs
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14054">SOLR-14054</a>: Upgrade to Tika 1.23 when available
<br /><span class="attrib">(Tim Allison)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14091">SOLR-14091</a>: Remove deprecated soLingerTime when configuring Jetty connector
<br /><span class="attrib">(Matthias Krueger via Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13778">SOLR-13778</a>: Solrj client will retry requests on SSLException with a suppressed SocketException
(very likely a hard-closed socket connection).
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14169">SOLR-14169</a>: Fix 20 Resource Leak warnings in SolrJ's apache/solr/common
<br /><span class="attrib">(Andras Salamon via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14184">SOLR-14184</a>: Internal 'test' variable DirectUpdateHandler2.commitOnClose has been removed and replaced with
TestInjection.skipIndexWriterCommitOnClose.  Users that modified DUH2.commitOnClose in test cases for custom
plugins/modicitations should now use TestInjection instead.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14248">SOLR-14248</a>: Improve ClusterStateMockUtil and make its methods public.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14209">SOLR-14209</a>: Upgrade JQuery to 3.4.1
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13996">SOLR-13996</a>: Refactor HttpShardHandler.prepDistributed method.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13794">SOLR-13794</a>: Replace redundent test only copy of '_default' configset with SolrTestCase logic to correctly
set 'solr.default.confdir' system property
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14263">SOLR-14263</a>: Update jvm-settings.adoc
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11035">SOLR-11035</a>: (at least) 2 distinct failures possible when clients attempt searches
during SolrCore reload. Removed Bandaid kludge.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10306">SOLR-10306</a>: Document in Reference Guide how to disable or reduce swapping
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13983">SOLR-13983</a>: Process execution is removed from SystemInfoHandler. A best-effort attempt to
</li>
      <li>execute `uname -a` and "`uptime`" on non-Windows platforms is no longer made.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14114">SOLR-14114</a>: Add WARN to Solr log that embedded ZK is not supported in production
<br /><span class="attrib">(janhoy)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.4.1" href="javascript:toggleList('v8.4.1')">Release 8.4.1  [2020-01-13]</a></h3>
<ul id="v8.4.1.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.4.1.versions_of_major_components" href="javascript:toggleList('v8.4.1.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v8.4.1.versions_of_major_components.list">
      <li>Apache Tika 1.19.1
</li>
      <li>Carrot2 3.16.0
</li>
      <li>Velocity 2.0 and Velocity Tools 3.0
</li>
      <li>Apache ZooKeeper 3.5.5
</li>
      <li>Jetty 9.4.19.v20190610
</li>
    </ol>
  </li>
  <li><a id="v8.4.1.upgrade_notes" href="javascript:toggleList('v8.4.1.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v8.4.1.upgrade_notes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14158">SOLR-14158</a>: Package manager now stores keys in package store instead of ZK. If you're using package manager and have already
added any repositories, then you would need to re-add all the keys from /keys/exe location, one-by-one, using:
"bin/solr add-key &lt;keyfile.der&gt;"
<p>
</li>
    </ol>
  </li>
  <li><a id="v8.4.1.bug_fixes" href="javascript:toggleList('v8.4.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v8.4.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14106">SOLR-14106</a>: Cleanup Jetty SslContextFactory usage
<br /><span class="attrib">(Ryan Rockenbaugh, Jan Hoydahl, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14109">SOLR-14109</a>: Always log to stdout from server/scripts/cloud-scripts/zkcli.{bat|sh}
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14165">SOLR-14165</a>: SolrResponse serialVersionUID has changed in a backward incompatible way
<br /><span class="attrib">(Andy Webb via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14163">SOLR-14163</a>: SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION needs to work with Jetty server/client SSL contexts
<br /><span class="attrib">(Kevin Risden)</span></li>
    </ol>
  </li>
  <li><a id="v8.4.1.improvements" href="javascript:toggleList('v8.4.1.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v8.4.1.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14158">SOLR-14158</a>: Package manager to store public keys in a special "trusted" location instead of in ZooKeeper
<br /><span class="attrib">(noble, Ishan Chattopadhyaya)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.4.0" href="javascript:toggleList('v8.4.0')">Release 8.4.0  [2019-12-29]</a></h3>
<ul id="v8.4.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.4.0.versions_of_major_components" href="javascript:toggleList('v8.4.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v8.4.0.versions_of_major_components.list">
      <li>Apache Tika 1.19.1
</li>
      <li>Carrot2 3.16.0
</li>
      <li>Velocity 2.0 and Velocity Tools 3.0
</li>
      <li>Apache ZooKeeper 3.5.5
</li>
      <li>Jetty 9.4.19.v20190610
</li>
    </ol>
  </li>
  <li><a id="v8.4.0.upgrade_notes" href="javascript:toggleList('v8.4.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="v8.4.0.upgrade_notes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13823">SOLR-13823</a>: org.apache.solr.search.grouping.distributed.command.QueryCommand.Builder has new method 'setMainQuery' which is used
to set top-level query. build() would fail if called without setting mainQuery.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13817">SOLR-13817</a>: Deprecate legacy SolrCache implementations. Users are encouraged to transition their
configurations to use org.apache.solr.search.CaffeineCache instead.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13982">SOLR-13982</a>: Some security-related http headers such as Content-Security-Policy are now set. If you have custom html served
up by Solr's http server that contains inline javascript, it will no longer execute in modern browsers. You can fix your JS
code to not run inline anymore, or edit etc/jetty.xml and weaken the CSP, or remove/alter the headers with a reverse proxy.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13806">SOLR-13806</a>: QueryResponse.getExplainMap() type has changed from Map&lt;String, String&gt; to Map&lt;String, Object&gt;
in order to accommodate structured explanations. This is a partially back-compatible change - compiled
third-party components will work the same as before due to type erasure but source code changes may be
required.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14025">SOLR-14025</a>: VelocityResponseWriter has been hardened - only trusted configsets can render configset provided
templates and rendering templates from request parameters has been removed.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13904">SOLR-13904</a>: timeAllowed parameter is allowed to have 0 value
<br /><span class="attrib">(Houston Putman, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13970">SOLR-13970</a>: Using Collapse filter or expand component with grouping is explicitly disallowed as the combination
would cause inconsistent behavior and NPEs.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13978">SOLR-13978</a>: The default configset no longer has the following:
<ul class="bulleted-list">
<li class="bulleted-list">
Library inclusions (&lt;lib ../&gt;) for extraction, solr-cell libs, clustering, velocity, LTR and language identifier
</li>
<li class="bulleted-list">
/browse, /tvrh and /update/extract handlers
</li>
<li class="bulleted-list">
TermVector component
<br /><span class="attrib">(if someone wants it, can be added using config APIs)</span></li>
<li class="bulleted-list">
XSLT response writer
</li>
<li class="bulleted-list">
Velocity response writer
</li>
</ul>
If you want to use them in your collections, please add them to your configset manually or through the Config APIs.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14071">SOLR-14071</a>: Untrusted configsets (ones that are uploaded via unsecured configset API) cannot use &lt;lib&gt; directive.
Consider enabling authentication/authorization so that the uploaded configsets are trusted.
Note: If you already have a collection using untrusted configset that uses &lt;lib&gt; directive, it will not load after
upgrading to 8.4. You can re-upload your configset using "bin/solr zk -upconfig .." or place your libraries in the
classpath and restart Solr.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14065">SOLR-14065</a>: VelocityResponseWriter has been deprecated and may be removed in a future version.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14072">SOLR-14072</a>: The "Blob Store" API and "runtimeLib" plugin mechanism that uses it is now considered deprecated. The
replacement to it is the "Package Management" system, which includes a "File Store". These are experimental currently
but will grow/stabalize/mature.
<p>
</li>
    </ol>
  </li>
  <li><a id="v8.4.0.new_features" href="javascript:toggleList('v8.4.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(9)
    <ol id="v8.4.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13821">SOLR-13821</a>: A Package store to store and load package artifacts
<br /><span class="attrib">(noble, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13822">SOLR-13822</a>: A Package management system with the following features:
(a) A packages.json in ZK to store the configuration,
(b) APIs to read/edit them, and
(c) Isolated classloaders to load the classes from those packages when the 'class'
    attribute is prefixed with '&lt;package-name&gt;:'
<br /><span class="attrib">(noble, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13662">SOLR-13662</a>: A CLI based Package Manager ("bin/solr package help" for more details).
<br /><span class="attrib">(Ishan Chattopadhyaya, noble, David Smiley, Jan Hoydahl)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10786">SOLR-10786</a>: Add DBSCAN clustering Streaming Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13911">SOLR-13911</a>: Add 'missing' aggregation in JSON FacetModule
<br /><span class="attrib">(hossman, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13912">SOLR-13912</a>: Add 'countvals' aggregation in JSON FacetModule
<br /><span class="attrib">(hossman, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12217">SOLR-12217</a>: Support shards.preference in SolrJ for single shard collections. The parameter
is now used by the CloudSolrClient and Streaming Expressions.
<br /><span class="attrib">(Houston Putman, Tomas Fernandez-Lobbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14043">SOLR-14043</a>: Allow the precision Stream Evaluator to operate on matrices
<br /><span class="attrib">(Joel bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14060">SOLR-14060</a>: Allow the random Streaming Expression to create the x-axis
<br /><span class="attrib">(Joel Bernstein)</span></li>
    </ol>
  </li>
  <li><a id="v8.4.0.improvements" href="javascript:toggleList('v8.4.0.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(16)
    <ol id="v8.4.0.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13731">SOLR-13731</a>: 'javabin' must support a 1:1 mapping of the JSON update format
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13831">SOLR-13831</a>: Support defining arbitrary autoscaling simulation scenarios.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13865">SOLR-13865</a>: Move replica routing code to SolrJ.
<br /><span class="attrib">(Houston Putman via Tomas Fernandez-Lobbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13844">SOLR-13844</a>: Remove replica recovery terms with the replica term
<br /><span class="attrib">(Houston Putman via Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13898">SOLR-13898</a>: Use the new SolrCache.computeIfAbsent instead of non-atomic get / put in order to
improve cache hit ratios.
<br /><span class="attrib">(ab, Ben Manes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13907">SOLR-13907</a>: In the Cloud/tree section of the Admin UI, fix metadata panel and force an horizontal scrollbar for the tree
<br /><span class="attrib">(Richard Goodman via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13905">SOLR-13905</a>: Make findRequestType in AuditEvent more robust
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13961">SOLR-13961</a>: When using partial/atomic updates to remove child documents, we now support setting to null or
an empty list as equivalent to the "remove" command.
<br /><span class="attrib">(Thomas Wöckinger)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13969">SOLR-13969</a>: Clean up and document AuditEvent API
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13968">SOLR-13968</a>: Support postingsFormat and docValuesFormat in schema fields.
<br /><span class="attrib">(Bruno Roustant)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11706">SOLR-11706</a>: Add support for aggregation on multivalued fields in JSON facets. min, max, avg, sum, sumsq, stddev,
variance, percentile aggregations now have support for multivalued fields.
<br /><span class="attrib">(hossman, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13987">SOLR-13987</a>: Admin UI should not rely on javascript eval()
<br /><span class="attrib">(rmuir, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13979">SOLR-13979</a>: Expose separate metrics for distributed and non-distributed requests.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13957">SOLR-13957</a>: Add sensible defaults for the facet, random, facet2D, timeseries, stats
and update Streaming Expressions
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13904">SOLR-13904</a>: Analytic component abandon requests exceedig limit passed via timeAllowed parameter
<br /><span class="attrib">(Houston Putman, Mikhail Khludnev)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13970">SOLR-13970</a>: Fail the request when collapsing or expand is used with Grouping.
<br /><span class="attrib">(Erick Erickson, Joel Bernstein, Munendra S N)</span></li>
    </ol>
  </li>
  <li><a id="v8.4.0.bug_fixes" href="javascript:toggleList('v8.4.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(27)
    <ol id="v8.4.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13827">SOLR-13827</a>: Fail on unknown operation in Request Parameters API
<br /><span class="attrib">(Munendra S N, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13403">SOLR-13403</a>: Fix NPE in TermsComponent for DatePointField
<br /><span class="attrib">(yonik, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9802">SOLR-9802</a>: Fix grouping failure for date field in solrcloud
<br /><span class="attrib">(Erick Erickson, Munendra S N, Vitaly Lavrov)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12393">SOLR-12393</a>: Compute score if requested even when expanded docs not sorted by score in ExpandComponent.
<br /><span class="attrib">(David Smiley, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13877">SOLR-13877</a>, <a href="http://issues.apache.org/jira/browse/SOLR-7798">SOLR-7798</a>: Robust support for ExpandComponent when used independently of CollapsingPostFilter.
<br /><span class="attrib">(Jörg Rathlev, Michael Gibney, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13823">SOLR-13823</a>: Fix ClassCastEx when score is requested with group.query. This also fixes score not being generated
for distributed group.query case.
<br /><span class="attrib">(Uwe Jäger, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13207">SOLR-13207</a>: In dismax and edismax "minimum should match" queries, the &lt; operator not followed by a number will now return
an HTTP 400 error rather than 500, and the error message will explain that &lt; must be followed by a number.
<br /><span class="attrib">(Chris Hennick)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13762">SOLR-13762</a>: Fix BinaryField support for non-binary wt's
<br /><span class="attrib">(Thomas Woeckinger via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13882">SOLR-13882</a>: Collections API COLSTATUS does not check live_nodes when reporting replica's status.
<br /><span class="attrib">(Erick Erickson, Andrzej Białecki)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13872">SOLR-13872</a>: Fixed Backup failures - typically manifesting as NoSuchFileException - due to race conditions
in saving/reserving commit points
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13921">SOLR-13921</a>: Processing UpdateRequest with delegation token throws NullPointerException
<br /><span class="attrib">(Istvan Farkas via Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13941">SOLR-13941</a>: Tests configure Jetty differently than when running via start.jar
<br /><span class="attrib">(janhoy, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13950">SOLR-13950</a>: Fix InterruptedException being swallowed in ZkStateReader’s getLeaderRetry method
<br /><span class="attrib">(Andy Vuong via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13465">SOLR-13465</a>: CoreContainer.auditloggerPlugin should be volatile
<br /><span class="attrib">(janhoy, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13805">SOLR-13805</a>: NPE when calling /solr/admin/info/health on standalone solr
<br /><span class="attrib">(Nicholas DiPiazza, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13954">SOLR-13954</a>: Embedded ZooKeeper in Solr now does not try to load JettyAdminServer
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13087">SOLR-13087</a>: Use EUID instead of whoami to check for root in the bin/solr script
<br /><span class="attrib">(Martijn Koster via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13977">SOLR-13977</a>: solr create -c not working under Windows 10
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13966">SOLR-13966</a>: LatLonPointSpatialField wasn't working correctly with atomic/partial updates or RTG.
<br /><span class="attrib">(Thomas Wöckinger via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13563">SOLR-13563</a>: SPLITSHARD using LINK method fails on disk usage checks.
<br /><span class="attrib">(Andrew Kettmann, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13806">SOLR-13806</a>: SolrJ QueryResponse._explainMap is incorrectly typed.
<br /><span class="attrib">(Guna Sekhar Dorai, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13975">SOLR-13975</a>, <a href="http://issues.apache.org/jira/browse/SOLR-13896">SOLR-13896</a>: ConcurrentUpdateSolrClient connection stall prevention.
<br /><span class="attrib">(ab, caomanhdat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13953">SOLR-13953</a>: Prometheus exporter in SolrCloud mode limited to 100 nodes
<br /><span class="attrib">(Alex Jablonski via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13945">SOLR-13945</a>: Fix: SPLITSHARD can cause data loss on a failure to commit after the sub-shards are active and a rollback
is done to make parent shard active again
<br /><span class="attrib">(Ishan Chattopadhyaya, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14071">SOLR-14071</a>: Untrusted configsets cannot use &lt;lib&gt; directive due to security reasons
<br /><span class="attrib">(Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14013">SOLR-14013</a>: FIX: javabin performance regressions
<br /><span class="attrib">(noble, yonik, Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14079">SOLR-14079</a>: SPLITSHARD splitByPrefix doesn't work in async mode.  This also
affects splits triggered by the autoscale framework, which use async mode.
<br /><span class="attrib">(Megan Carey, Andy Vuong, Bilal Waheed, Ilan Ginzburg, yonik)</span></li>
    </ol>
  </li>
  <li><a id="v8.4.0.other_changes" href="javascript:toggleList('v8.4.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="v8.4.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12769">SOLR-12769</a>: Fix incorrect documentation for 'delete' op in Request parameters API
<br /><span class="attrib">(Alexandre Rafalovitch, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13841">SOLR-13841</a>: Provide mappings for jackson annotation @JsonProperty to use Jackson deserializer
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13824">SOLR-13824</a>: Strictly reject anything after JSON in most APIs
<br /><span class="attrib">(Mikhail Khludnev, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13869">SOLR-13869</a>: SolrTestCaseJ4.getNextAvailablePort() has been deprecated (and will be removed in 9.0) since
it is fundementally flawed.  Users with tests that depend on this method should restructure them.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13782">SOLR-13782</a>: Solr Ref Guide no longer published in PDF format.
<br /><span class="attrib">(Cassandra Targett)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12193">SOLR-12193</a>: Move some log messages to TRACE level
<br /><span class="attrib">(gezapeti, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13885">SOLR-13885</a>: Typos in the documentation.
<br /><span class="attrib">(KoenDG via Cassandra Targett)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13992">SOLR-13992</a>: Code refactored to have collection name, slice name in Replica, Slice
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13998">SOLR-13998</a>: Add thread safety annotations to Solr. This only introduces the annotations and doesn't add these to
existing classes.
<br /><span class="attrib">(Anshum Gupta, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13818">SOLR-13818</a>: Upgrade jackson to 2.10.0
<br /><span class="attrib">(marungo, Andras Salamon via Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13999">SOLR-13999</a>: Document zkHost param on topic() stream
<br /><span class="attrib">(Vergil Cheynov via Jason Gerlowski)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.3.1" href="javascript:toggleList('v8.3.1')">Release 8.3.1  [2019-12-03]</a></h3>
<ul id="v8.3.1.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.3.1.versions_of_major_components" href="javascript:toggleList('v8.3.1.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v8.3.1.versions_of_major_components.list">
      <li>Apache Tika 1.19.1
</li>
      <li>Carrot2 3.16.0
</li>
      <li>Velocity 2.0 and Velocity Tools 3.0
</li>
      <li>Apache ZooKeeper 3.5.5
</li>
      <li>Jetty 9.4.24.v20191120
</li>
    </ol>
  </li>
  <li><a id="v8.3.1.upgrade_notes" href="javascript:toggleList('v8.3.1.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v8.3.1.upgrade_notes.list">
      <li>Velocity: The initialization parameters
"params.resource.loader.enabled" and "solr.resource.loader.enabled" have been removed and replaced by
Java system properties "velocity.resourceloader.params.enabled" and "velocity.resourceloader.solr.enabled"
respectively (both turned off by default). Please see <a href="http://issues.apache.org/jira/browse/SOLR-13971">SOLR-13971</a> for more details.
<p>
</li>
    </ol>
  </li>
  <li><a id="v8.3.1.bug_fixes" href="javascript:toggleList('v8.3.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v8.3.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13963">SOLR-13963</a>: JavaBinCodec has concurrent modification of CharArr resulting in corrupt internode updates
<br /><span class="attrib">(Colvin Cowie, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13971">SOLR-13971</a>: Velocity response writer's resource loading now possible only through startup parameters.
<br /><span class="attrib">(Ishan Chattopadhyaya, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13465">SOLR-13465</a>: CoreContainer.auditloggerPlugin should be volatile
<br /><span class="attrib">(janhoy, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13905">SOLR-13905</a>: Make findRequestType in AuditEvent more robust
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13941">SOLR-13941</a>: Tests configure Jetty differently than when running via start.jar
<br /><span class="attrib">(janhoy, Uwe Schindler)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.3.0" href="javascript:toggleList('v8.3.0')">Release 8.3.0  [2019-11-02]</a></h3>
<ul id="v8.3.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.3.0.versions_of_major_components" href="javascript:toggleList('v8.3.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v8.3.0.versions_of_major_components.list">
      <li>Apache Tika 1.19.1
</li>
      <li>Carrot2 3.16.0
</li>
      <li>Velocity 2.0 and Velocity Tools 3.0
</li>
      <li>Apache ZooKeeper 3.5.5
</li>
      <li>Jetty 9.4.19.v20190610
</li>
    </ol>
  </li>
  <li><a id="v8.3.0.upgrade_notes" href="javascript:toggleList('v8.3.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v8.3.0.upgrade_notes.list">
      <li>Users who have written test cases that extend SolrTestCaseJ4 may see NullPointerExceptions if
their tests directly reference both SolrTestCaseJ4.initCoreDataDir and SolrTestCaseJ4.deleteCore().
This change in behavior is due to a bug fix in deleteCore() to ensure the dataDir is properly reset
in tests that call initCore()/deleteCore() multiple times in a given test (class).  initCoreDataDir
is now deprecated, and users are encouraged to use SolrTestCaseJ4.initAndGetDataDir() in it's place.
See <a href="http://issues.apache.org/jira/browse/SOLR-13664">SOLR-13664</a> for more details.
<p>
</li>
      <li>For JWTAuthPlugin, the 'jwkUrl' configuration key is deprecated and may be removed later, please use 'jwksUrl'
instead. See <a href="http://issues.apache.org/jira/browse/SOLR-13734">SOLR-13734</a>.
<p>
</li>
    </ol>
  </li>
  <li><a id="v8.3.0.new_features" href="javascript:toggleList('v8.3.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="v8.3.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13375">SOLR-13375</a>: Two dimensional routed aliases are now available for organizing collections based on the data values
of two fields.
<br /><span class="attrib">(Gus Heck)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13399">SOLR-13399</a>: SPLITSHARD implements a new splitByPrefix option that takes into account the actual document distribution
when using compositeIds.  Document distribution is calculated using the "id_prefix" field (if it exists) containing
just the compositeId prefixes, or directly from the indexed "id" field otherwise.
<br /><span class="attrib">(yonik, Megan Carey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13622">SOLR-13622</a>: Add cat() stream source to create tuples from lines in local files
<br /><span class="attrib">(Jason Gerlowski and Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11866">SOLR-11866</a>: QueryElevationComponent can have query rules configured with match="subset" wherein the words need only
match a subset of the query's words and in any order.
<br /><span class="attrib">(Bruno Roustant via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13682">SOLR-13682</a>: command line option to export documents to a file
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13257">SOLR-13257</a>: Support deterministic replica routing preferences for better cache usage
<br /><span class="attrib">(Michael Gibney
via Christine Poerschke, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13122">SOLR-13122</a>: Ability to query aliases in Solr Admin UI
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13713">SOLR-13713</a>: JWTAuthPlugin to support multiple JWKS endpoints
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13734">SOLR-13734</a>: JWTAuthPlugin now supports multiple IdP issuers through configuring a new 'issuers' configuration key.
Access tokens issued and signed by any of the configured issuers will be validated
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13272">SOLR-13272</a>: Add support for arbitrary ranges in JSON facet's Range facets.
<br /><span class="attrib">(Apoorv Bhawsar, Munendra S N, Mikhail Khludnev, Ishan Chattopadhyaya, Jan Høydahl)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13632">SOLR-13632</a>: Support integral plots, cosine distance and string truncation with math expressions
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13667">SOLR-13667</a>: Add upper, lower, trim and split Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13625">SOLR-13625</a>: Add CsvStream, TsvStream Streaming Expressions and supporting Stream Evaluators
<br /><span class="attrib">(Joel bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8241">SOLR-8241</a>: Add CaffeineCache, an efficient implementation of SolrCache.(Ben Manes, Shawn Heisey, David Smiley, Andrzej Bialecki)
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13298">SOLR-13298</a>: Allow zplot to plot matrices
<br /><span class="attrib">(Joel Bernstein)</span></li>
    </ol>
  </li>
  <li><a id="v8.3.0.improvements" href="javascript:toggleList('v8.3.0.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(19)
    <ol id="v8.3.0.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12368">SOLR-12368</a>: Support InPlace DV updates for a field that does not yet exist in any documents
<br /><span class="attrib">(hossman, Simon Willnauer, Adrien Grand, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13558">SOLR-13558</a>, <a href="http://issues.apache.org/jira/browse/SOLR-13693">SOLR-13693</a>: Allow dynamic resizing of SolrCache-s.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6305">SOLR-6305</a>: Ability to set the replication factor for index files created by HDFSDirectoryFactory
<br /><span class="attrib">(Boris Pasko via Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13702">SOLR-13702</a>: Some components register twice their metric names
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11601">SOLR-11601</a>: Improved error message when geodist(llpsf) is used with arguments referring to a LatLonPointSpatialField.
<br /><span class="attrib">(Amrit Sarkar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13542">SOLR-13542</a>: Code cleanup - Avoid using stream filter count where possible
<br /><span class="attrib">(Koen De Groote via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13720">SOLR-13720</a>: BlockJoinParentQParser.getCachedFilter()made public for accessing from QParser plugins
<br /><span class="attrib">(Stanislav Livotov via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13728">SOLR-13728</a>: If a partial update (aka atomic update) is attempted on a document that has child docs, then ensure
the schema supports it (_root_ stored/docValues) by throwing an exception.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13742">SOLR-13742</a>: Allow optional redaction of data saved by 'bin/solr autoscaling -save'.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13739">SOLR-13739</a>: Optimized large managed schema modifications; Internal O(n^2) problem.
<br /><span class="attrib">(Thomas Wöckinger via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9658">SOLR-9658</a>: Max idle time support for SolrCache implementations.
<br /><span class="attrib">(hoss, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13763">SOLR-13763</a>: Improve the tracking of "freedisk" in autoscaling simulations.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13773">SOLR-13773</a>: Add Prometheus Exporter GC and Heap options.
<br /><span class="attrib">(Houston Putman via Anshum Gupta, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13638">SOLR-13638</a>: Add debug, trace logging to RuleBasedAuthorizationPlugin
<br /><span class="attrib">(Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13784">SOLR-13784</a>: EmbeddedSolrServer's defaultCore constructor argument is now optional
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13798">SOLR-13798</a>: SSL: Adding Enabling/Disabling client's hostname verification config
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13771">SOLR-13771</a>: Add -v and -m to ulimit section of reference guide  and bin/solr checks
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13795">SOLR-13795</a>: Managed schema operations should do a core reload in Solr standalone mode.
<br /><span class="attrib">(Thomas Wöckinger via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13719">SOLR-13719</a>: Introducing SolrClient.ping(collection) in SolrJ
<br /><span class="attrib">(Geza Nagy via Mikhail Khludnev)</span></li>
    </ol>
  </li>
  <li><a id="v8.3.0.bug_fixes" href="javascript:toggleList('v8.3.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(42)
    <ol id="v8.3.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13206">SOLR-13206</a>: Fix AIOOBE when group.facet is specified with group.query and return proper error code.
<br /><span class="attrib">(Marek, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11556">SOLR-11556</a>: Backup and restore command really supports picking one of a few repositories by
repository parameter
<br /><span class="attrib">(Timothy Potter via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13647">SOLR-13647</a>: Default solr.in.sh contains incorrect default value
<br /><span class="attrib">(John Ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13660">SOLR-13660</a>: Fixed AbstractFullDistribZkTestBase.waitForActiveReplicaCount() to ensure
replicas are active.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13664">SOLR-13664</a>: Fixed SolrTestCaseJ4.deleteCore() to properly reset the dataDir used by initCore()
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13679">SOLR-13679</a>: Default style of ExplainDocTransformer registered via solrconfig.xml should be same as default style
of ExplainDocTransformer registered in defaultFactories
<br /><span class="attrib">(Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13672">SOLR-13672</a>: Cloud -&gt; Zk Status page now parses response from Zookeeper 3.5.5 correctly
<br /><span class="attrib">(Jörn Franke, janhoy, Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13674">SOLR-13674</a>: NodeAddedTrigger does not support configuration of replica type hint. A new replicaType property
has been added to NodeAddTrigger so that new replicas of the given type are added. The default value is `NRT`.
<br /><span class="attrib">(Irena Shaigorodsky via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13141">SOLR-13141</a>: CDCR bootstrap does not replicate index to the replicas of target cluster.
<br /><span class="attrib">(Krzysztof Watral, Amrit Sarkar, Tim, Tdspringsteen, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13694">SOLR-13694</a>: IndexSizeEstimator NullPointerException.
<br /><span class="attrib">(ab, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13700">SOLR-13700</a>: Fixed a race condition when initializing metrics for new security plugins on security.json change
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13701">SOLR-13701</a>: Fixed JWTAuthPlugin to update metrics prior to continuing w/other filters or returning error
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6328">SOLR-6328</a>: facet.missing=true should return missing count even when facet.limit=0
<br /><span class="attrib">(hossman, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13704">SOLR-13704</a>: Improve error message and change error code to 400 for client errors in ExpandComponent
<br /><span class="attrib">(Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13699">SOLR-13699</a> - maxChars no longer working on CopyField with javabin
<br /><span class="attrib">(Chris Troullis via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13718">SOLR-13718</a>: SPLITSHARD (async) with failures in underlying sub-operations can result in data loss
<br /><span class="attrib">(Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13717">SOLR-13717</a>: Fixed distributed grouping when multiple 'fl' params are specified
<br /><span class="attrib">(hossman, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13240">SOLR-13240</a>: Fixed UTILIZENODE action resulting in IllegalArgumentException.
<br /><span class="attrib">(Hendrik Haddorp, Richard Goodman, Tim Owen, shalin, noble, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13238">SOLR-13238</a>: BlobHandler generates non-padded md5
<br /><span class="attrib">(Jeff Walraven via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13780">SOLR-13780</a>: Fix ClassCastException in NestableJsonFacet
<br /><span class="attrib">(Tiago Martinho de Barros, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13725">SOLR-13725</a>: Allow negative values for limit in TermsFacetMap
<br /><span class="attrib">(Richard Walker, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13022">SOLR-13022</a>: Fix NPE when sorting by non-existent aggregate function in JSON Facet
<br /><span class="attrib">(hossman, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13727">SOLR-13727</a>: Fixed V2Requests - HttpSolrClient replaced first instance of "/solr" with "/api" which
caused a change in host names starting with "solr".
<br /><span class="attrib">(Megan Carey via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13180">SOLR-13180</a>: Fix ClassCastException in Json Request API
<br /><span class="attrib">(Johannes Kloos, Jan Høydahl, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13417">SOLR-13417</a>: Handle stats aggregation on date and string fields in SolrJ's JSON facet response processing
<br /><span class="attrib">(Jason Gerlowski, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13712">SOLR-13712</a>: JMX MBeans are not exposed because of race condition between creating platform mbean server and
registering mbeans.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13802">SOLR-13802</a>: Managed schema manipulations were not persisting the optional luceneMatchVersion that can be set
on an Analyzer.
<br /><span class="attrib">(Thomas Wöckinger)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13539">SOLR-13539</a>: Fix for class-cast issues during atomic-update 'removeregex' operations. This also incorporated some
tests Tim wrote as a part of <a href="http://issues.apache.org/jira/browse/SOLR-9505">SOLR-9505</a>.
<br /><span class="attrib">(Tim Owen via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13790">SOLR-13790</a>: LRUStatsCache size explosion and ineffective caching.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13376">SOLR-13376</a>: Multi-node race condition to create/remove nodeLost markers.
<br /><span class="attrib">(hoss, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13293">SOLR-13293</a>: ConcurrentUpdateHttp2SolrClient always log AsynchronousCloseException exception error on indexing.
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13828">SOLR-13828</a>: Improve ExecutePlanAction error handling.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13760">SOLR-13760</a>: Fix regression in support for Date math in TRA start date that was introduced by <a href="http://issues.apache.org/jira/browse/SOLR-13375">SOLR-13375</a>
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13829">SOLR-13829</a>: RecursiveEvaluator casts Continuous numbers to Discrete Numbers, causing mismatch
<br /><span class="attrib">(Trey Grainger, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13815">SOLR-13815</a>: Live shard split (where updates actively continue during the split) can lose updates due to cluster
state happening to change between checking if the current shard is active and later checking if there are any
sub-shard leaders to forward the update to.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13665">SOLR-13665</a>: Added missing netty dependencies to solrJ and upgraded netty to v 4.1.29.Final
<br /><span class="attrib">(Jörn Franke, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13793">SOLR-13793</a>: HttpSolrCall now maintains internal request count (_forwardedCount) for remote queries and limits them to
the number of replicas. This avoids making too many cascading calls to remote servers, which, if not restricted, can
bring down nodes containing the said collection
<br /><span class="attrib">(Kesharee Nandan Vishwakarma, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13834">SOLR-13834</a>: ZkController#getSolrCloudManager() created a new instance of ZkStateReader, thereby causing mismatch in the
visibility of the cluster state and, as a result, undesired race conditions
<br /><span class="attrib">(Clay Goddard via Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13835">SOLR-13835</a>: HttpSolrCall produces incorrect extra AuditEvent on AuthorizationResponse.PROMPT
<br /><span class="attrib">(janhoy, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13843">SOLR-13843</a>: The MOVEREPLICA API ignores replica type and always adds 'nrt' replicas
<br /><span class="attrib">(Amrit Sarkar via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13677">SOLR-13677</a>: All Metrics Gauges should be unregistered by components that registered them.
<br /><span class="attrib">(noble, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13855">SOLR-13855</a>: DistributedZkUpdateProcessor should have been propagating URP.finish() lifecycle like it used to before
8.1 (a regression).  Impacts integrity since Run URP's finish() propagates this to the updateLog to fsync.
<br /><span class="attrib">(David Smiley)</span></li>
    </ol>
  </li>
  <li><a id="v8.3.0.other_changes" href="javascript:toggleList('v8.3.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(16)
    <ol id="v8.3.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13779">SOLR-13779</a>: Use the safe fork of simple-xml for clustering contrib.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13585">SOLR-13585</a>: Factor out SearchGroupsResultTransformer.[de]serializeOneSearchGroup methods.
<br /><span class="attrib">(Christine Poerschke, Diego Ceccarelli)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12870">SOLR-12870</a>: Use StandardCharsets instead of String values
<br /><span class="attrib">(Peter Somogyi via Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10377">SOLR-10377</a>: Add `debug.explain.structured` to Admin UI.
<br /><span class="attrib">(David Smiley, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13629">SOLR-13629</a>: Clean trailing whitespace from 'analytics' contrib
<br /><span class="attrib">(Neal Sidhwaney via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13643">SOLR-13643</a>: Add Getters/Setters in ResponseBuilder for analytics response handling
<br /><span class="attrib">(Neal Sidhwaney via Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13680">SOLR-13680</a>: Use try-with-resource to close the closeable resource
<br /><span class="attrib">(Furkan KAMACI, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13573">SOLR-13573</a>: Add SolrRangeQuery getters for upper, lower bound
<br /><span class="attrib">(Brian Rhees via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13658">SOLR-13658</a>: Precommit fail Java "var" until 9x. Fail "var...&lt;&gt;" constructs entirely
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13767">SOLR-13767</a>: Upgrade jackson to 2.9.9
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11492">SOLR-11492</a>: Clean up /solr/cloud-dev scripts and provide a single well documented script
<br /><span class="attrib">(Gus Heck, Robert Bunch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13747">SOLR-13747</a>: New TestSSLTestConfig.testFailIfUserRunsTestsWithJVMThatHasKnownSSLBugs() to give people running
tests more visibility if/when they use a known-buggy JVM causing most SSL tests to silently SKIP.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13791">SOLR-13791</a>: Remove remaining Commons BeanUtils references.
<br /><span class="attrib">(Andras Salamon, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13812">SOLR-13812</a>: Add javadocs, uneven rejection and basic test coverage for the SolrTestCaseJ4.params method.
<br /><span class="attrib">(Diego Ceccarelli, Christine Poerschke, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13787">SOLR-13787</a>: An annotation based system to write v2 APIs
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12786">SOLR-12786</a>: Update Ref Guide build tool versions
<br /><span class="attrib">(Cassandra)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.2.0" href="javascript:toggleList('v8.2.0')">Release 8.2.0  [2019-07-26]</a></h3>
<ul id="v8.2.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.2.0.versions_of_major_components" href="javascript:toggleList('v8.2.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v8.2.0.versions_of_major_components.list">
      <li>Apache Tika 1.19.1
</li>
      <li>Carrot2 3.16.0
</li>
      <li>Velocity 2.0 and Velocity Tools 3.0
</li>
      <li>Apache ZooKeeper 3.5.5
</li>
      <li>Jetty 9.4.19.v20190610
</li>
    </ol>
  </li>
  <li><a id="v8.2.0.upgrade_notes" href="javascript:toggleList('v8.2.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v8.2.0.upgrade_notes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8346">SOLR-8346</a>: Upgrade ZooKeeper to 3.5.5. ZooKeeper 3.5.5 introduces more security features. Include in your zoo.cfg
file at minimum the following:
4lw.commands.whitelist=mntr,conf,ruok
You can use
4lw.commands.whitelist=* to enable all ZooKeeper "4 letter commands".
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13515">SOLR-13515</a>: org.apache.solr.util.SolrPluginUtils.IdentityRegenerator has been removed, please use
the identical org.apache.solr.search.NoOpRegenerator instead.
<br /><span class="attrib">(David Smiley, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13541">SOLR-13541</a>: Upgrade Jetty to 9.4.19.v20190610.
<br /><span class="attrib">(Erick Erickson, Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13420">SOLR-13420</a>: Routed Aliases now use collection properties rather than core properties to identify collections that
belong to the alias by default. This should be invisible and fully backwards compatible from within solr, and
existing routed alias collections with core based properties will continue to work, but new collections created will
not add a property to core.properties anymoore so any external code that inspected core.properties will not find the
'routedAliasName' key in new cores belonging to routed aliases.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13419">SOLR-13419</a>: Time Routed Aliases now have a '__TRA__' infix preceding the timestamp portion of the collection names.
collections with the old format will not be altered and will continue to work, but any new TRA's or new collections
for existing TRA's will use the new format. Solr will handle this invisibly, but any external code that attempted to
predict collection names in TRA's will probably need adjustment.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13507">SOLR-13507</a>: Support for "addr" parameter from the "/solr/admin/zookeeper" endpoint has now been removed and will no
longer be supported.
<p>
</li>
    </ol>
  </li>
  <li><a id="v8.2.0.new_features" href="javascript:toggleList('v8.2.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="v8.2.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13320">SOLR-13320</a>: add an update param failOnVersionConflicts=false to updates not fail when there is a version conflict
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13445">SOLR-13445</a>: Preferred replicas on nodes with same system properties as the query master
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13047">SOLR-13047</a>: Add facet2D Streaming Expression
<br /><span class="attrib">(Nazerke Seidan, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13494">SOLR-13494</a>: Add DeepRandomStream implementation
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13434">SOLR-13434</a>: OpenTracing support for Solr
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13512">SOLR-13512</a>: Raw index data analysis tool (extension of COLSTATUS collection command).
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13550">SOLR-13550</a>: Allow zplot to automatically create the x axis
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13552">SOLR-13552</a>: Add recNum Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13560">SOLR-13560</a>: Add isNull and notNull Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10291">SOLR-10291</a>: Add matches Stream Evaluator to support regex matching
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13589">SOLR-13589</a>: Allow zplot to visualize 2D clusters and convex hulls
<br /><span class="attrib">(Joel Bernstein)</span></li>
    </ol>
  </li>
  <li><a id="v8.2.0.improvements" href="javascript:toggleList('v8.2.0.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(16)
    <ol id="v8.2.0.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13049">SOLR-13049</a>: Make contrib/ltr Feature.defaultValue configurable.
<br /><span class="attrib">(Stanislav Livotov, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13306">SOLR-13306</a>: Add a request parameter to execute a streaming expression locally
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13440">SOLR-13440</a>: Support saving/restoring autoscaling state for repeatable simulations.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11558">SOLR-11558</a>: It would be nice if the Graph section of the Cloud tab in the Admin UI could give some more
information about the replicas of a collection
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13468">SOLR-13468</a>: autoscaling/suggestions should be able to give suggestions from config sent as a payload
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12304">SOLR-12304</a>: The MoreLikeThisComponent now supports the mlt.interestingTerms parameter.  Previously this option was
unique to the MLT handler.
<br /><span class="attrib">(Alessandro Benedetti via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13484">SOLR-13484</a>: autoscaling/diagnostics API should be able to give diagnostics output from config sent as a payload
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13493">SOLR-13493</a>: /autoscaling/suggestions to be able to filter by type
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13504">SOLR-13504</a>: In autoscaling policies, use an explicit 'nodeset' attribute for filtering
nodes instead of using them directly at the toplevel
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13329">SOLR-13329</a>: In autoscaling policies, use an explicit 'put : on-each-node'
to specify the the rules is applied on each node
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13347">SOLR-13347</a>: Transaction log to natively support UUID types
<br /><span class="attrib">(Thomas Wöckinger via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13367">SOLR-13367</a>: Highlighting: Range queries will now highlight in hl.method=unified mode.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13569">SOLR-13569</a>: Admin UI visual indication of prod/test/dev environment
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12554">SOLR-12554</a>: Expose IndexWriterConfig's ramPerThreadHardLimitMB through solrconfig.xml
<br /><span class="attrib">(Ishan Chattopadhyaya, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13602">SOLR-13602</a> <a href="http://issues.apache.org/jira/browse/SOLR-13588">SOLR-13588</a>: Add a field type for Estonian language to default managed_schema,
document about Estonian language analysis in Solr Ref Guide
<br /><span class="attrib">(Tomoko Uchida)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13003">SOLR-13003</a>: Query Result Cache does not honor maxRamBytes parameter.
<br /><span class="attrib">(ab, Brian Ecker)</span></li>
    </ol>
  </li>
  <li><a id="v8.2.0.bug_fixes" href="javascript:toggleList('v8.2.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(24)
    <ol id="v8.2.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13474">SOLR-13474</a>: Fix "Search is temporarily disabled" logic to be consistent for entire request
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13469">SOLR-13469</a>: Fix rejected requests during full disk full + IndexFetch to use 503 not 403
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12941">SOLR-12941</a>: Fix IndexSizeTrigger to correctly work with "aboveBytes" and "splitMethod=link" parameters.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13491">SOLR-13491</a>: SolrZkClient's watch wrapper no longer allows zookeeper to hold the same watch object multiple times.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13489">SOLR-13489</a>: Stop the leader from trying to rejoin the election on session expiration and harden our zk reconnect code path.
<br /><span class="attrib">(Mark Miller, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12249">SOLR-12249</a>: Better error message when grouping on a tokenized (non SortableText) field in SolrCloud
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13521">SOLR-13521</a>: Fix input parameter handling in SchemaRequest.DynamicField and SchemaRequest.FieldTypes (Schema API)
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13496">SOLR-13496</a>: Fix distributed grouping related NullPointerException in JSONWriter.writeSolrDocument
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12013">SOLR-12013</a>: collections API CUSTERSTATUS command fails when configset missing
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13509">SOLR-13509</a>: NPE on omitHeader=true is fixed by sending omitHeader=false to shard searches
<br /><span class="attrib">(Munendra S N, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13333">SOLR-13333</a>: unleashing terms.ttf from terms.list when distrib=false
<br /><span class="attrib">(Munendra S N via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13490">SOLR-13490</a>: Fix CollectionStateWatcher/CollectionStatePredicate based APIs in ZkStateReader and
CloudSolrClient to be triggered on liveNode changes.  Also add Predicate&lt;DocCollection&gt; equivalents
for callers that don't care about liveNodes.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13545">SOLR-13545</a>: ContentStreamUpdateRequest refused to close file
<br /><span class="attrib">(Colvin Cowie, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12127">SOLR-12127</a>: Updates containing 'set' operation with value null or empty list should be considered as Atomic Update
<br /><span class="attrib">(Oliver Kuldmäe, Munendra S N, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13187">SOLR-13187</a>: Fix NPE when invalid query parser is specified and return 400 error code.
<br /><span class="attrib">(Cesar Rodriguez, Marek, Charles Sanders, Munendra S N, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12979">SOLR-12979</a>: Improve error message and change error code to 400 when collapse field is non-docValued and
non-uninvertible
<br /><span class="attrib">(hossman, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13574">SOLR-13574</a>: Fix many test and test-framework classes to not fail on After/AfterClass cleanup if
assumptions fail in Before/BeforeClass setup
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13280">SOLR-13280</a>: Strengthen ScheduledTrigger's preferredOperation parameter validation.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9409">SOLR-9409</a>: Improve error message for unsupported field types and return 400 error code on
unsupported values in collapsing
<br /><span class="attrib">(hossman, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13404">SOLR-13404</a>: Support group.query in multi-shard environment when group.main=true or group.format=simple
<br /><span class="attrib">(Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13538">SOLR-13538</a>: toNativeType () TrieDate &amp; EnumField do not handle CharSequence properly
<br /><span class="attrib">(Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13532">SOLR-13532</a>: Fix http timeout and error logging bugs in RecoveryStrategy.
<br /><span class="attrib">(Suril Shah, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13472">SOLR-13472</a>: Forwarded requests should skip authorization on receiving nodes
<br /><span class="attrib">(adfel, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13619">SOLR-13619</a>: Kerberos plugin to pass original user principal to avoid 403 on nodes not hosting a collection
<br /><span class="attrib">(adfel, Ishan Chattopadhyaya, noble)</span></li>
    </ol>
  </li>
  <li><a id="v8.2.0.other_changes" href="javascript:toggleList('v8.2.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="v8.2.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13453">SOLR-13453</a>: Adjust auth metrics asserts in tests caused by <a href="http://issues.apache.org/jira/browse/SOLR-13449">SOLR-13449</a>
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13437">SOLR-13437</a>: noggit json parser is forked into solrj
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13467">SOLR-13467</a>: Include the S2 Geometry lib to make it simpler to use prefixTree="s2" on a Geo3D spatial field.
Improved documentation on Geo3D too.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13371">SOLR-13371</a>: Re-structure and clarify Security chapters in Ref Guide
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13235">SOLR-13235</a>: Split Collections API Ref Guide page into several smaller child pages
<br /><span class="attrib">(Cassandra Targett)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8754">SOLR-8754</a>: Adding test cases for org.apache.solr.util.hll.NumberUtilTest
<br /><span class="attrib">(Benoit Vanalderweireldt via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13511">SOLR-13511</a>: Add SearchHandler.newResponseBuilder method to facilitate custom plugins' maintenance
of per-request state in a custom ResponseBuilder.
<br /><span class="attrib">(Ramsey Haddad, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12988">SOLR-12988</a>: SSLTestConfig has been changed to throw AssumptionViolatedException when tests/seeds
request SSL but the JVM appears to be an OpenJDK version known to have SSL bugs
<br /><span class="attrib">(hossman, Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13279">SOLR-13279</a>: Clarify ScheduledTrigger's "every parameter missing" error response.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13576">SOLR-13576</a>: Factor out a TopGroupsShardResponseProcessor.fillResultIds method.
<br /><span class="attrib">(Christine Poerschke, Diego Ceccarelli)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12364">SOLR-12364</a>: Add test cases for edismax boost
<br /><span class="attrib">(David Smiley, Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13603">SOLR-13603</a>: Remove usage of GroupingSpecification's deprecated methods
<br /><span class="attrib">(Munendra S N)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13507">SOLR-13507</a>: Remove support for "addr" parameter from the "/solr/admin/zookeeper" endpoint.
<br /><span class="attrib">(janhoy, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13588">SOLR-13588</a>: Document Estonian analyzer in Solr Ref Guide
<br /><span class="attrib">(Tomoko Uchida)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13602">SOLR-13602</a>: Add a field type for Estonian language to default managed_schema
<br /><span class="attrib">(Tomoko Uchida)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.1.2" href="javascript:toggleList('v8.1.2')">Release 8.1.2 </a></h3>
<ul id="v8.1.2.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.1.2.versions_of_major_components" href="javascript:toggleList('v8.1.2.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v8.1.2.versions_of_major_components.list">
      <li>Apache Tika 1.19.1
</li>
      <li>Carrot2 3.16.0
</li>
      <li>Velocity 2.0 and Velocity Tools 3.0
</li>
      <li>Apache ZooKeeper 3.4.14
</li>
      <li>Jetty 9.4.14.v20181114
</li>
    </ol>
  </li>
  <li><a id="v8.1.2.bug_fixes" href="javascript:toggleList('v8.1.2.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v8.1.2.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13510">SOLR-13510</a>: Intermittent 401's for internode requests with basicauth enabled
<br /><span class="attrib">(Cao Manh Dat, Colvin Cowie)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13523">SOLR-13523</a>: In 8.1, Atomic Updates were broken (NPE) when the schema declared the new _nest_path_ field even if you
weren't using nested docs.  In-place updates were not affected (worked).
Reminder: if you don't need nested docs then remove both _root_ and _nest_path_ !
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13566">SOLR-13566</a>: REINDEXCOLLECTION does not work with (basic) authentication.
<br /><span class="attrib">(Colvin Cowie, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13159">SOLR-13159</a>: Fix atomic update encoding issue for UUID, enum, bool, and binary fields
<br /><span class="attrib">(Thomas Wockinger via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13583">SOLR-13583</a>: Impossible to delete a collection with the same name as an existing alias. This fixes also a bug in
REINDEXCOLLECTION when used with removeSource=true which could lead to a data loss.
<br /><span class="attrib">(ab)</span></li>
    </ol>
  </li>
  <li><a id="v8.1.2.improvements" href="javascript:toggleList('v8.1.2.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v8.1.2.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13158">SOLR-13158</a>: DataImportHandler: Added enable.dih.dataConfigParam system property to toggle whether the dataConfig param
is permitted.
<br /><span class="attrib">(David Smiley, janhoy, Tomás Fernández Löbbe)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.1.1" href="javascript:toggleList('v8.1.1')">Release 8.1.1  [2019-05-28]</a></h3>
<ul id="v8.1.1.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.1.1.versions_of_major_components" href="javascript:toggleList('v8.1.1.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v8.1.1.versions_of_major_components.list">
      <li>Apache Tika 1.19.1
</li>
      <li>Carrot2 3.16.0
</li>
      <li>Velocity 2.0 and Velocity Tools 3.0
</li>
      <li>Apache ZooKeeper 3.4.14
</li>
      <li>Jetty 9.4.14.v20181114
</li>
    </ol>
  </li>
  <li><a id="v8.1.1.bug_fixes" href="javascript:toggleList('v8.1.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v8.1.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13475">SOLR-13475</a>: Null Pointer Exception when querying collection through collection alias.
<br /><span class="attrib">(Jörn Franke, ab)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.1.0" href="javascript:toggleList('v8.1.0')">Release 8.1.0  [2019-05-16]</a></h3>
<ul id="v8.1.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.1.0.versions_of_major_components" href="javascript:toggleList('v8.1.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v8.1.0.versions_of_major_components.list">
      <li>Apache Tika 1.19.1
</li>
      <li>Carrot2 3.16.0
</li>
      <li>Velocity 2.0 and Velocity Tools 3.0
</li>
      <li>Apache ZooKeeper 3.4.14
</li>
      <li>Jetty 9.4.14.v20181114
</li>
    </ol>
  </li>
  <li><a id="v8.1.0.upgrade_notes" href="javascript:toggleList('v8.1.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(8)
    <ol id="v8.1.0.upgrade_notes.list">
      <li>Solr's default behavior when dealing with 'maxBooleanClauses' has changed to reduce the risk of exponential
query expansion when dealing with pathological query strings.  A default upper limit of 1024 clauses
(The same default prior to Solr 7.0) is now enforced at the node level, and can be overridden in solr.xml.
The identically named solrconfig.xml setting is still available for limiting the size of 'explicit' boolean
query strings, but this per-collection limit is still ristricted by the upper-bound of the global limit
in solr.xml.  See <a href="http://issues.apache.org/jira/browse/SOLR-13336">SOLR-13336</a> for more details.
<p>
</li>
      <li>When requesting the status of an async request via REQUESTSTATUS collections API, the response will
include the list of internal async requests (if any) in the "success" or "failed" keys (in addition
to them being included outside those keys for backwards compatibility). See <a href="http://issues.apache.org/jira/browse/SOLR-12708">SOLR-12708</a> for more
details
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13335">SOLR-13335</a>: Velocity and Velocity Tools were both upgraded as part of this release. Velocity upgraded from 1.7 to 2.0.
Please see <a href="https://velocity.apache.org/engine/2.0/upgrading.html">https://velocity.apache.org/engine/2.0/upgrading.html</a> about upgrading. Velocity Tools upgraded from 2.0 to
3.0. For more details, please see <a href="https://velocity.apache.org/tools/3.0/upgrading.html">https://velocity.apache.org/tools/3.0/upgrading.html</a> for details about the upgrade.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13407">SOLR-13407</a>: Update requests sent to non-routed aliases that point to multiple collections are no longer accepted. Until
now Solr followed an obscure convention of updating only the first collection from the list, which usually was not what
the user intended. This change explicitly rejects such update requests.
<p>
</li>
      <li>SolrGangliaReporter has been removed from Solr because support for Ganglia has been removed from Dropwizard Metrics 4
due to a transitive dependency on LGPL.
<p>
</li>
      <li>Custom TransientSolrCoreCache implementations no longer use the Observer/Observable pattern. To notify Solr that
a core has been aged out of the cache, call CoreContainer.queueCoreToClose(SolrCore). See <a href="http://issues.apache.org/jira/browse/SOLR-13400">SOLR-13400</a> for details.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13394">SOLR-13394</a>: The default GC has been changed from CMS to G1. To override this (in order to switch to CMS or any
other GC), use GC_TUNE section of bin/solr.in.sh or bin/solr.in.cmd.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5970">SOLR-5970</a>: Until now, the CREATE command of Collections API returned status 0 even in case of failure. Now, the status
code will be non-zero in case of failures (e.g. 4xx, 5xx).
<p>
</li>
    </ol>
  </li>
  <li><a id="v8.1.0.new_features" href="javascript:toggleList('v8.1.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(16)
    <ol id="v8.1.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13131">SOLR-13131</a>: Category Routed Aliases are now available for data driven assignment of documents to collections based on
values of a field. The Ref Guide now has a page dedicated to explaining the different types of aliases.
<br /><span class="attrib">(Gus Heck,
Moshe Bla)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13171">SOLR-13171</a> : A true streaming parser for javabin payload/stream without creating any objects
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13261">SOLR-13261</a>: Make SortableTextField work with export/streaming. NOTE: requires that the field have
useDocValuesAsStored=true (either explicit or as the default).
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12121">SOLR-12121</a>: JWT Token authentication plugin with OpenID Connect implicit flow login through Admin UI
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12120">SOLR-12120</a>: New AuditLoggerPlugin type allowing custom Audit logger plugins
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10436">SOLR-10436</a>: Add hashRollup Streaming Expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13276">SOLR-13276</a>: Adding Http2 equivalent classes of CloudSolrClient and HttpClusterStateProvider
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13287">SOLR-13287</a>: Allow zplot to visualize probability distributions in Apache Zeppelin
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13271">SOLR-13271</a>: Read-only mode for SolrCloud collections
<br /><span class="attrib">(ab, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13292">SOLR-13292</a>: Provide extended per-segment status of a collection.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11127">SOLR-11127</a>: REINDEXCOLLECTION command for re-indexing of existing collections. This issue also adds
a back-compat check of the .system collection to notify users of potential compatibility issues after
upgrades or schema changes.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13374">SOLR-13374</a>: Add fetchSize parameter to the jdbc Streaming Expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12638">SOLR-12638</a>: Partial/Atomic Updates for nested documents.  This enables atomic updates for nested documents, without
the need to supply the whole nested hierarchy (which would be overwritten if absent).  This is done by fetching the
whole document hierarchy, updating the specific doc in the path that is to be updated, removing the old document
hierarchy and indexing the new one with the atomic update merged into it.  Also, [child] Doc Transformer now works
with RealTimeGet.
<br /><span class="attrib">(Moshe Bla, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13262">SOLR-13262</a>: Add collection RENAME command and support using aliases in most collection admin commands.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13391">SOLR-13391</a>: Add variance and standard deviation stream evaluators
<br /><span class="attrib">(Nazerke Seidan, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13427">SOLR-13427</a>: Support simulating the execution of autoscaling suggestions.
<br /><span class="attrib">(ab)</span></li>
    </ol>
  </li>
  <li><a id="v8.1.0.bug_fixes" href="javascript:toggleList('v8.1.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(39)
    <ol id="v8.1.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12330">SOLR-12330</a>: 500 error code on json.facet syntax errors
<br /><span class="attrib">(Munendra S N, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13229">SOLR-13229</a>: Cleanup replicasMetTragicEvent after all types of exception
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11876">SOLR-11876</a>: In-place update fails when resolving from Tlog if schema has a required field
<br /><span class="attrib">(Justin Deoliveira, janhoy,
Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12708">SOLR-12708</a>: Async collection actions should not hide internal failures
<br /><span class="attrib">(Mano Kovacs, Varun Thacker, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11883">SOLR-11883</a>: 500 code on functional query syntax errors and parameter dereferencing errors
</li>
      <li>(Munendra S N via Mikhail Khludnev)
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13234">SOLR-13234</a>: Prometheus Metric Exporter not threadsafe. This changes the prometheus exporter to collect metrics
from Solr on a fixed interval controlled by this tool and prevents concurrent collections. This change also improves
performance slightly by using the cluster state instead of sending multiple HTTP requests to each node to lookup
all the cores.
<br /><span class="attrib">(Danyal Prout via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9882">SOLR-9882</a>: 500 error code on breaching timeAllowed by core and distributed (fsv) search,
old and json facets
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13285">SOLR-13285</a>: Updates with enum fields and javabin cause ClassCastException
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13295">SOLR-13295</a>: Reproducible failure in TestDistributedGrouping
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13254">SOLR-13254</a>: Correct message that is logged in solrj's ConnectionManager when an exception
occurred while reconnecting to ZooKeeper.
<br /><span class="attrib">(hu xiaodong via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13284">SOLR-13284</a>: NullPointerException with 500 http status on omitted or wrong wt param.
It's fixed by fallback to json
<br /><span class="attrib">(Munendra S N via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13244">SOLR-13244</a>: Admin UI Nodes view fails and is empty when a node is temporarily down
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13253">SOLR-13253</a>: IndexSchema.getResourceLoader was being used to load non-schema things, which can be a memory leak if
"shareSchema" and other circumstances occur.  Furthermore it's reference to SolrConfig was removed.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7414">SOLR-7414</a>: CSVResponseWriter &amp; XLSXResponseWriter return empty field when fl alias is combined with '*' selector
<br /><span class="attrib">(Michael Lawrence, Munendra S N, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13351">SOLR-13351</a>: Workaround for VELOCITY-908
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13349">SOLR-13349</a>: High CPU usage in Solr due to Java 8 bug
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13344">SOLR-13344</a>: Admin UI inaccessible with RuleBasedAuthorizationPlugin
<br /><span class="attrib">(janhoy, Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13352">SOLR-13352</a>: Remove risk of deadlock/threadleak when shutting down an Overseer(TriggerThread).
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13362">SOLR-13362</a>: Add 'includeIndexFieldFlags' support to SolrJ LukeRequest
<br /><span class="attrib">(Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13355">SOLR-13355</a>: 'all' permission ignored by RuleBasedAuthorizationPlugin in most cases
<br /><span class="attrib">(Jason Gerlowski, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13331">SOLR-13331</a>: Atomic Update 'remove' operations broken for certain field types in SolrJ
<br /><span class="attrib">(Thomas Wockinger via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13388">SOLR-13388</a>: Fix FileExchangeRateProvider to be a public class, as it appears in schema.xml
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12860">SOLR-12860</a>: MetricsHistoryHandler now uses PKI Auth for metrics collection in background thread
<br /><span class="attrib">(janhoy, Lorenzo)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13339">SOLR-13339</a>: Prevent recovery, fetching index being kicked off after SolrCores already closed
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13393">SOLR-13393</a>: Fixed ZkClientClusterStateProvider to prevent risk of leaking ZkStateReader/threads when
processing concurrent requests during shutdown.  This primarily affected tests, but may have also caused
odd errors/delays when restart/shutting down solr nodes.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13336">SOLR-13336</a>: add maxBooleanClauses (default to 1024) setting to solr.xml, reverting previous effective
value of Integer.MAX_VALUE-1, to restrict risk of pathalogical query expansion.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13386">SOLR-13386</a>: OverseerTaskQueue#remove should not throw an exception when no node exists after an exists
check and the Overseer work loop should not allow free spinning the loop when it hits a KeeperException.
<br /><span class="attrib">(Mark Miller, Fernandez-Lobbe, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12371">SOLR-12371</a>: Editing authorization config via REST API now works in standalone mode
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13408">SOLR-13408</a>: Cannot start/stop DaemonStream repeatedly, other API improvements
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13281">SOLR-13281</a>: Fixed NPE in DocExpirationUpdateProcessorFactory
<br /><span class="attrib">(Munendra S N, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13081">SOLR-13081</a>: In-Place Update doesn't work with route.field
<br /><span class="attrib">(Dr Oleg Savrasov via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13343">SOLR-13343</a>: Fix spacing issue in browser log
<br /><span class="attrib">(Marcus Eagan via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12248">SOLR-12248</a>, <a href="http://issues.apache.org/jira/browse/SOLR-4647">SOLR-4647</a>: Grouping is broken on docValues-only fields (non-stored, non-indexed)
<br /><span class="attrib">(Erick Ericsson, Adrien Grand, Munendra S N, Scott Stults, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5970">SOLR-5970</a>: Return correct status upon collection creation failure
<br /><span class="attrib">(Abraham Elmahrek, Ishan Chattopadhyaya,
Jason Gerlowski, Kesharee Nandan Vishwakarma)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12291">SOLR-12291</a>: prematurely reporting not yet finished async Collections API call as completed
when collection's replicas are colocated at least at one node
<br /><span class="attrib">(Varun Thacker, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13410">SOLR-13410</a>: Designated overseer wasn't able to rejoin election queue upon restart
<br /><span class="attrib">(Ishan Chattopadhyaya,
Kesharee Nandan Vishwakarma)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13318">SOLR-13318</a>: Fix ClassCastException in SolrJ JsonFaceting classes
<br /><span class="attrib">(Munendra S N via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13449">SOLR-13449</a>: SolrClientNodeStateProvider always retries on requesting metrics from other nodes
<br /><span class="attrib">(Cao Manh Dat)</span></li>
    </ol>
  </li>
  <li><a id="v8.1.0.improvements" href="javascript:toggleList('v8.1.0.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(14)
    <ol id="v8.1.0.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12999">SOLR-12999</a>: Index replication could delete segments before downloading segments from master if there is not enough
disk space
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13227">SOLR-13227</a>: Optimizing facet.range.other by avoiding expensive exceptions
<br /><span class="attrib">(Nikolay Khitrin via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9079">SOLR-9079</a>: Remove commons-lang as a dependency
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11473">SOLR-11473</a>: Make HDFSDirectoryFactory support other prefixes (besides hdfs:/)
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13359">SOLR-13359</a>: Make UpdateHandler support other prefixes (besides hdfs:/)
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13398">SOLR-13398</a>: Move log line "Processing SSL Credential Provider chain..." from INFO to DEBUG
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13407">SOLR-13407</a>: Reject update requests sent to non-routed multi collection aliases.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11035">SOLR-11035</a>: (at least) 2 distinct failures possible when clients attempt searches during SolrCore reload,
added test band-aid for DocValuesNotIndexedTest.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13337">SOLR-13337</a>: Only request the minimum required number of terms from each shard when using terms.sort=index and none
are discarded due to terms.min/maxcount
<br /><span class="attrib">(Morten Bøgeskov,Munendra S N via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12167">SOLR-12167</a>: Throw an exception, instead of just a warning, when unknown atomic update operation is
encountered
<br /><span class="attrib">(Munendra S N via Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13394">SOLR-13394</a>: Switch default GC from CMS to G1
<br /><span class="attrib">(Ishan Chattopadhyaya, Kesharee Nandan Vishwakarma, Shawn Heisey,
Uwe Schindler, Erick Ericsson, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13432">SOLR-13432</a>: Add .toString methods to BitDocSet and SortedIntDocSet so that enabling "showItems" on the filter caches
shows some useful information about the values in the cache.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12833">SOLR-12833</a>: Avoid unnecessary memory cost when DistributedUpdateProcessor timed-out lock is not used.
<br /><span class="attrib">(jefferyyuan, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13348">SOLR-13348</a>: Speed up collapsing by avoiding scoring of ineligible documents
<br /><span class="attrib">(Andrzej Wislowski via
Ishan Chattopadhyaya)</span></li>
    </ol>
  </li>
  <li><a id="v8.1.0.other_changes" href="javascript:toggleList('v8.1.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(27)
    <ol id="v8.1.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11763">SOLR-11763</a>: Upgrade Guava to 25.1-jre
<br /><span class="attrib">(Markus Jelsma, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13222">SOLR-13222</a>: Improve logging in StreamingSolrClients
<br /><span class="attrib">(Peter Cseh via Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12055">SOLR-12055</a>: Enable async logging by default. This change improves throughput for logging. This opens
up a small window where log messages could possibly be lost. If this is unacceptable, switching back to synchronous
logging can be done by changing the log4j2.xml file, no internal Solr code changed to make async logging the default.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12753">SOLR-12753</a>: Async logging ring buffer and OOM error. When very long messages are written (1M messages or so),
it can produce an OOM error. Log messages are truncated at 10K via configuration in the log4j2.xml files.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9763">SOLR-9763</a>: Remove the workaround implemented for HADOOP-12767
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13060">SOLR-13060</a>: Improve HdfsAutoAddReplicasIntegrationTest and HdfsCollectionsAPIDistributedZkTest
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13074">SOLR-13074</a>: MoveReplicaHDFSTest leaks threads, falls into an endless loop, logging like crazy
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9762">SOLR-9762</a>: Remove the workaround implemented for HADOOP-13346
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7321">SOLR-7321</a>: Remove reflection in FSHDFSUtils.java
<br /><span class="attrib">(Mike Drob, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13268">SOLR-13268</a>: Clean up any test failures resulting from defaulting to async logging
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13307">SOLR-13307</a>: Ensure HDFS tests clear System properties they set
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13330">SOLR-13330</a>: Improve HDFS tests
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8033">SOLR-8033</a>: Remove debug if branch in HdfsTransactionLog
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12955">SOLR-12955</a>: Refactored DistributedUpdateProcessor to put SolrCloud functionality into a subclass.
<br /><span class="attrib">(Bar Rotstein, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13342">SOLR-13342</a>: Remove dom4j from Solr
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13335">SOLR-13335</a>: Upgrade to velocity 2.0 and velocity-tools 3.0
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13112">SOLR-13112</a>: Upgrade jackson to 2.9.8
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13353">SOLR-13353</a>: Add SolrCli AuthTool test
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13363">SOLR-13363</a>: Upgrade to ZooKeeper 3.4.14
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12809">SOLR-12809</a>: Document recommended Java/Solr combinations
<br /><span class="attrib">(Erick Erickson, Jan Høydahl et.al.)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13366">SOLR-13366</a>: Clarify 'Invalid stage name' warning logging in AutoScalingConfig
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13409">SOLR-13409</a>: Disable HTML directory listings in admin interface to prevent possible security issues
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12461">SOLR-12461</a>: Upgrade Dropwizard Metrics to 4.0.5 release.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13400">SOLR-13400</a>: Replace Observable pattern in TransientSolrCoreCache
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13425">SOLR-13425</a>: Ref-Guide: Wrong color of text in left column of horizontal definition list
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13423">SOLR-13423</a>: Upgrade RRD4j to version 3.5.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13414">SOLR-13414</a>: SolrSchema - Avoid NPE if Luke returns field with no type defined
<br /><span class="attrib">(Kevin Risden)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v8.0.0" href="javascript:toggleList('v8.0.0')">Release 8.0.0  [2019-03-14]</a></h3>
<ul id="v8.0.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v8.0.0.versions_of_major_components" href="javascript:toggleList('v8.0.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v8.0.0.versions_of_major_components.list">
      <li>Apache Tika 1.19.1
</li>
      <li>Carrot2 3.16.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache ZooKeeper 3.4.13
</li>
      <li>Jetty 9.4.14.v20181114
</li>
    </ol>
  </li>
  <li><a id="v8.0.0.upgrade_notes" href="javascript:toggleList('v8.0.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(20)
    <ol id="v8.0.0.upgrade_notes.list">
      <li>Due to the introduction of LIR redesign since Solr 7.3 (<a href="http://issues.apache.org/jira/browse/SOLR-11702">SOLR-11702</a>) and the removing of old LIR implementation in Solr 8.
Rolling updates are not possible unless all nodes must be on Solr 7.3 or higher. If not updates can be lost.
<p>
</li>
      <li>Solr nodes can now listen and serve HTTP/2 requests. Most of internal requests (sent by UpdateShardHandler, HttpShardHandler)
Http2SolrClient is used. Since by default, internal requests are sent by using HTTP/2,
Solr 8.0 nodes can't talk to old nodes (7.x). However we can follow these steps to do rolling updates:
<ul class="bulleted-list">
<li class="bulleted-list">
Do rolling updates as normally, but the Solr 8.0 nodes must start with -Dsolr.http1=true as startup parameter.
  By using this parameter internal requests are sent by using HTTP/1.1
</li>
<li class="bulleted-list">
When all nodes are upgraded to 8.0, restart them, this time -Dsolr.http1 parameter should be removed.
</li>
</ul>
<p>
</li>
      <li>ALPN is not supported in Java 8 or lower version therefore when a node started in Java 8 or a lower version with SSL enabled,
it will send and can only be able to handle HTTP/1.1 requests. In case of using SSL Java 9 or latter versions are recommended.
<p>
</li>
      <li>Custom AuthenticationPlugin must provide its own setup for Http2SolrClient through
implementing HttpClientBuilderPlugin.setup, if not internal requests can't be authenticated.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-7996">LUCENE-7996</a>: The 'func' query parser now returns scores that are equal to 0
when a negative value is produced. This change is due to the fact that
Lucene now requires scores to be positive.
<br /><span class="attrib">(Adrien Grand)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11882">SOLR-11882</a>: SolrMetric registries retained references to SolrCores when closed. A
change of SolrMetricMAnager.registerGauge and SolrMetricProducer.initializeMetrics
method signatures was required to fix it. Third party components that use this API
need to be updated.
<br /><span class="attrib">(Eros Taborelli, Erick Erickson, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-8267">LUCENE-8267</a>: Memory codecs have been removed from the codebase (MemoryPostings,
MemoryDocValues). If you used postingsFormat="Memory" or docValuesFormat="Memory"
then either remove it to use the default or experiment with one of the others.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12586">SOLR-12586</a>: The date format patterns used by ParseDateFieldUpdateProcessorFactory (present in "schemaless mode")
are now interpreted by Java 8's java.time.DateTimeFormatter instead of Joda Time.  The pattern language is very
similar but not the same.  Typically, simply update the pattern by changing an uppercase 'Z' to lowercase 'z' and
that's it.  For the current recommended set of patterns in schemaless mode, see "Schemaless Mode" in the ref guide,
or simply examine the default configSet.  Also note that the set of patterns (formats) here have
expanded from before to subsume those patterns previously handled by the "extract" contrib (Solr Cell / Tika).
<br /><span class="attrib">(David Smiley, Bar Rotstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12593">SOLR-12593</a>: The "extraction" contrib (Solr Cell) no longer does any date parsing, and thus no longer has the
"date.formats" configuration.  To ensure date strings are properly parsed, use ParseDateFieldUpdateProcessorFactory
(an URP) commonly registered with the name "parse-date" in "schemaless mode".
<br /><span class="attrib">(David Smiley, Bar Rotstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12643">SOLR-12643</a>: Since Http2SolrClient does not support exposing connections related metrics. These metrics are no longer
available 'QUERY.httpShardHandler.{availableConnections, leasedConnections, maxConnections, pendingConnections}',
'UPDATE.updateShardHandler.{availableConnections, leasedConnections, maxConnections, pendingConnections}'
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12605">SOLR-12605</a>: UpdateShardHandler's updateOnlyClient is now a Http2SolrClient (previous HttpSolrClient). This new
client does not support 'maxConnections','maxConnectionsPerHost' parameters.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12640">SOLR-12640</a>: HttpShardHandlerFactory's defaultClient is now a Http2SolrClient (previous HttpSolrClient). This new
client does not support 'maxConnections','maxConnectionsPerHost' parameters. LBHttpSolrClient.Req and LBHttpSolrClient.Rsp
are marked as deprecated, uses LBSolrClient.Req and LBSolrClient.Rsp instead.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12754">SOLR-12754</a>: The UnifiedHighlighter hl.weightMatches now defaults to true.  If there are unforseen highlight problems,
this may be the culprit.
<p>
</li>
      <li>If you explicitly use BM25SimilarityFactory in your schema, the absolute scoring will be lower due to <a href="http://issues.apache.org/jira/browse/SOLR-13025">SOLR-13025</a>.
But ordering of documents will not change in the normal case. Use LegacyBM25SimilarityFactory if you need to force
the old 6.x/7.x scoring. Note that if you have not specified any similarity in schema or use the default
SchemaSimilarityFactory, then LegacyBM25Similarity is automatically selected for 'luceneMatchVersion' &lt; 8.0.0.
See also explanation in Reference Guide chapter "Other Schema Elements".
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12535">SOLR-12535</a>: Solr no longer accepts index time boosts in JSON provided to Solr.  This used to be provided like so:
{'id':'1', 'val_s':{'value':'foo', 'boost':2.0}}  but will now produce an error.  A object/map structure will now only
be interpreted as a child document or an atomic update; nothing else.  A uniqueKey is currently required on all child
documents to be interpreted as such, though this may change in the future.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12633">SOLR-12633</a>: When JSON data is sent to Solr with nested child documents split using the "split" parameter, the child
docs will now be associated to their parents by the field/label string used in the JSON instead of anonymously.  Most
users probably won't notice the distinction since the label is lost any way unless special fields are in the schema.
This choice used to be toggleable with an internal/expert "anonChildDocs" parameter flag which is now gone.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11774">SOLR-11774</a>: In 'langid' contrib, the LanguageIdentifierUpdateProcessor base class changed some method signatures.
If you have a custom language identifier implementation you will need to adapt your code.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9515">SOLR-9515</a>: Hadoop dependencies have been upgraded to Hadoop 3.2.0 from 2.7.2.
<br /><span class="attrib">(Mark Miller, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5211">SOLR-5211</a>: Deleting (or updating) documents by their uniqueKey is now scoped to only consider root documents, not
child/nested documents.  Thus a delete-by-id won't work on a child doc (no-op), and an attempt to update a child doc
by providing a new doc with the same ID would add a new doc (probably erroneous).  Both these actions were and still
are problematic.  In-place-updates are safe though.  If you want to delete certain child documents and if you know
they don't themselves have nested children then you must do so with a delete-by-query technique.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13248">SOLR-13248</a>: The default replica placement strategy used in Solr has been reverted to the 'legacy' policy used by Solr
7.4 and previous versions. This is due to multiple bugs in the autoscaling based replica placement strategy that was
made default in Solr 7.5 which causes multiple replicas of the same shard to be placed on the same node in addition
to the maxShardsPerNode and createNodeSet parameters being ignored. Although the default has changed, autoscaling
will continue to be used if a cluster policy or preference is specified or a collection level policy is in use.
The default replica placement strategy can be changed to use autoscaling again by setting a cluster property:
curl -X POST -H 'Content-type:application/json' --data-binary '
{
  "set-obj-property": {
    "defaults" : {
      "cluster": {
        "useLegacyReplicaAssignment":false
      }
    }
  }
}' http://$SOLR_HOST:$SOLR_PORT/api/cluster
<p>
</li>
    </ol>
  </li>
  <li><a id="v8.0.0.new_features" href="javascript:toggleList('v8.0.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(14)
    <ol id="v8.0.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12591">SOLR-12591</a>: Expand the set of recognized date format patterns of schemaless mode to subsume those handled by the
"extract" contrib (Solr Cell / Tika).  This is primarily a change in configuration of the default configSet for more
patterns, but also included enabling "lenient" parsing in ParseDateFieldUpdateProcessorFactory.  The default
locale was changed from ROOT to en_US since well-known patterns assume this locale.
<br /><span class="attrib">(David Smiley, Bar Rotstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12879">SOLR-12879</a>: MinHash query parser that builds queries providing a measure of Jaccard similarity
<br /><span class="attrib">(Andy Hind via Tommaso Teofili)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12593">SOLR-12593</a>: The default configSet now includes an "ignored_*" dynamic field.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12799">SOLR-12799</a>: Allow Authentication Plugins to intercept internode requests on a per-request basis.
The BasicAuth plugin now supports a new parameter 'forwardCredentials', and when set to 'true',
user's BasicAuth credentials will be used instead of PKI for client initiated internode requests.
<br /><span class="attrib">(janhoy, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12791">SOLR-12791</a>: Add Metrics reporting for AuthenticationPlugin
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12730">SOLR-12730</a>: Implement staggered SPLITSHARD requests in IndexSizeTrigger.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12639">SOLR-12639</a>: Umbrella JIRA for adding support HTTP/2
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12768">SOLR-12768</a>, <a href="http://issues.apache.org/jira/browse/SOLR-13129">SOLR-13129</a>: Improved nested document support, and enabled in the default schema with the presence of _nest_path_.
When this field is present, certain things happen automatically.  An internal URP is automatically used to populate
it.  The [child] (doc transformer) will return a hierarchy with relationships; no params needed.  The relationship
path is indexed for use in queries (can be disabled if not needed).  Also, child documents needn't provide a uniqueKey
value as Solr will supply one automatically by concatenating a path to that of the parent document's key.
<br /><span class="attrib">(David Smiley, Moshe Bla)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13134">SOLR-13134</a>: Allow the knnRegress Stream Evaluator to more easily perform bivariate regression.
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13104">SOLR-13104</a>: Add natural and repeat Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13147">SOLR-13147</a>: Add movingMAD Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13155">SOLR-13155</a>: Add command-line option for testing autoscaling configurations.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13241">SOLR-13241</a>: Add 'autoscaling' tool support to solr.cmd
<br /><span class="attrib">(Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11126">SOLR-11126</a>: New Node-level health check handler at /admin/info/healthcheck and /node/health paths that
checks if the node is live, connected to zookeeper and not shutdown.
<br /><span class="attrib">(Anshum Gupta, Amrit Sarkar, shalin)</span></li>
    </ol>
  </li>
  <li><a id="v8.0.0.bug_fixes" href="javascript:toggleList('v8.0.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v8.0.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13058">SOLR-13058</a>: Fix block that was synchronizing on the wrong collection in OverseerTaskProcessor
<br /><span class="attrib">(Gus Heck)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11774">SOLR-11774</a>: langid.map.individual now works together with langid.map.keepOrig. Also the detectLanguage() API
is changed to accept a Reader allowing for more memory efficient implementations
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13126">SOLR-13126</a>: Query boosts were not being combined correctly for documents where not all boost queries
matched
<br /><span class="attrib">(Alan Woodward, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13248">SOLR-13248</a>: Autoscaling based replica placement is broken out of the box. Solr 7.5 enabled autoscaling based replica
placement by default but in the absence of default cluster policies, autoscaling can place more than 1 replica of the
same shard on the same node. Also, the maxShardsPerNode and createNodeSet was not respected. Due to these reasons,
this issue reverts the default replica placement policy to the 'legacy' assignment policy that was the default until
Solr 7.4.
<br /><span class="attrib">(Gus Heck, Andrzej Bialecki, Bram Van Dam, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13255">SOLR-13255</a> : ClasscastException when URPs try to read a String field which returns a ByteArrayUTF8CHarSequence . This is a regression
in release 7.7
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13299">SOLR-13299</a>: Fix Windows startup script to disable HTTP/2 if TLS is enabled on Java 8.
<br /><span class="attrib">(Uwe Schindler)</span></li>
    </ol>
  </li>
  <li><a id="v8.0.0.improvements" href="javascript:toggleList('v8.0.0.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v8.0.0.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5211">SOLR-5211</a>: If _root_ is defined in the schema, it is now always populated automatically.  This allows documents with
 children to be updated with a document that does not have children, whereas before it would break block-join queries.
 If you don't use nested documents then _root_ can be removed from the schema.
<br /><span class="attrib">(Dr Oleg Savrasov, Moshe Bla,
 David Smiley, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6117">SOLR-6117</a>: The response format has changed slightly for ReplicationHandler error-cases.  All errors now have a non-200
'status' field, a 'message' field giving more details on the error, and an optional 'exception' field.
<br /><span class="attrib">(Shalin Mangar,
Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12888">SOLR-12888</a>: The NestedUpdateProcessor (which populates internal fields for nested child docs) is now auto-registered
to run immediately prior to RunUpdateProcessor.  If the schema has no _nest_*_ fields then it's a no-op.
RunUpdateProcessorFactory looks up a special/internal URP chain "_preRun_" which is implicitly defined but could be
defined by an app for customization if desired.
<br /><span class="attrib">(David Smiley)</span></li>
    </ol>
  </li>
  <li><a id="v8.0.0.optimizations" href="javascript:toggleList('v8.0.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v8.0.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12725">SOLR-12725</a>: ParseDateFieldUpdateProcessorFactory should reuse ParsePosition.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13025">SOLR-13025</a>: Due to <a href="http://issues.apache.org/jira/browse/LUCENE-8563">LUCENE-8563</a>, the BM25Similarity formula no longer includes the (k1+1) factor in the numerator
This gives a lower absolute score but doesn't affect ordering, as this is a constant factor which is the same
for every document. Use LegacyBM25SimilarityFactory if you need the old 6.x/7.x scoring. See also upgrade notes
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13130">SOLR-13130</a>: during the ResponseBuilder.STAGE_GET_FIELDS directly copy string bytes and avoid creating String Objects
<br /><span class="attrib">(noble)</span></li>
    </ol>
  </li>
  <li><a id="v8.0.0.other_changes" href="javascript:toggleList('v8.0.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(14)
    <ol id="v8.0.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12614">SOLR-12614</a>: Make "Nodes" view the default in AdminUI "Cloud" tab
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12586">SOLR-12586</a>: Upgrade ParseDateFieldUpdateProcessorFactory (present in "schemaless mode") to use Java 8's
java.time.DateTimeFormatter instead of Joda time (see upgrade notes).  "Lenient" is enabled.  Removed Joda Time dependency.
<br /><span class="attrib">(David Smiley, Bar Rotstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5163">SOLR-5163</a>: edismax now throws an exception when qf refers to a nonexistent field
<br /><span class="attrib">(Charles Sanders, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12805">SOLR-12805</a>: Store previous term (generation) of replica when start recovery process
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12652">SOLR-12652</a>: Remove SolrMetricManager.overridableRegistryName method
<br /><span class="attrib">(Peter Somogyi via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-8513">LUCENE-8513</a>: SlowCompositeReaderWrapper now uses MultiTerms directly instead of MultiFields
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11812">SOLR-11812</a>: Remove backward compatibility of old LIR implementation in 8.0
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12620">SOLR-12620</a>: Remove the Admin UI Cloud -&gt; Graph (Radial) view
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12775">SOLR-12775</a>: LowerCaseTokenizer is deprecated, and should be replaced by LetterTokenizer and
LowerCaseFilter
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13036">SOLR-13036</a>: Fix retry logic in JettySolrRunner
<br /><span class="attrib">(Gus Heck)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12535">SOLR-12535</a>: Solr no longer accepts index time boosts in JSON provided to Solr.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13086">SOLR-13086</a>: Improve the error message reported by DocumentObjectBinder when a setter is not found
<br /><span class="attrib">(Gus Heck)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12365">SOLR-12365</a>: Renamed class Config to XmlConfigFile
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9515">SOLR-9515</a>: Hadoop dependencies have been upgraded to Hadoop 3.2.0 from 2.7.2.
<br /><span class="attrib">(Mark Miller, Kevin Risden)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v7.7.3" href="javascript:toggleList('v7.7.3')">Release 7.7.3  [2020-04-28]</a></h3>
<ul id="v7.7.3.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v7.7.3.versions_of_major_components" href="javascript:toggleList('v7.7.3.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v7.7.3.versions_of_major_components.list">
      <li>Apache Tika 1.19.1
</li>
      <li>Carrot2 3.16.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache ZooKeeper 3.4.14
</li>
      <li>Jetty 9.4.14.v20181114
</li>
    </ol>
  </li>
  <li><a id="v7.7.3.bug_fixes" href="javascript:toggleList('v7.7.3.bug_fixes')">Bug fixes</a>&nbsp;&nbsp;&nbsp;(10)
    <ol id="v7.7.3.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13779">SOLR-13779</a>: Use the safe fork of simple-xml for clustering contrib.
<br /><span class="attrib">(Dawid Weiss, Sachin Pattan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13718">SOLR-13718</a>: SPLITSHARD (async) with failures in underlying sub-operations can result in data loss
<br /><span class="attrib">(Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12291">SOLR-12291</a>: prematurely reporting not yet finished async Collections API call as completed
when collection's replicas are colocated at least at one node
<br /><span class="attrib">(Varun Thacker, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13828">SOLR-13828</a>: Improve ExecutePlanAction error handling.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13472">SOLR-13472</a>: Forwarded requests should skip authorization on receiving nodes
<br /><span class="attrib">(Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13793">SOLR-13793</a>: HttpSolrCall now maintains internal request count (_forwardedCount) for remote queries and limits them to
the number of replicas. This avoids making too many cascading calls to remote servers, which, if not restricted, can
bring down nodes containing the said collection
<br /><span class="attrib">(Kesharee Nandan Vishwakarma, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13971">SOLR-13971</a>: Velocity response writer's resource loading now possible only through startup parameters. Also, removed velocity
response writer from _default configset.
<br /><span class="attrib">(Ishan Chattopadhyaya, Sachin Pattan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14025">SOLR-14025</a>: VelocityResponseWriter has been hardened - only trusted configsets can render configset provided
templates and rendering templates from request parameters has been removed.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13158">SOLR-13158</a>: DataImportHandler: Added enable.dih.dataConfigParam system property to toggle whether the dataConfig param
is permitted.
<br /><span class="attrib">(David Smiley, janhoy, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14259">SOLR-14259</a>: Back port javabin performance regression fixes from <a href="http://issues.apache.org/jira/browse/SOLR-14013">SOLR-14013</a>
<br /><span class="attrib">(noble)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v7.7.2" href="javascript:toggleList('v7.7.2')">Release 7.7.2  [2019-06-04]</a></h3>
<ul id="v7.7.2.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v7.7.2.versions_of_major_components" href="javascript:toggleList('v7.7.2.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v7.7.2.versions_of_major_components.list">
      <li>Apache Tika 1.19.1
</li>
      <li>Carrot2 3.16.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache ZooKeeper 3.4.14
</li>
      <li>Jetty 9.4.14.v20181114
</li>
    </ol>
  </li>
  <li><a id="v7.7.2.upgrade_notes" href="javascript:toggleList('v7.7.2.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v7.7.2.upgrade_notes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13234">SOLR-13234</a>: The Prometheus Metric Exporter now collects metrics from Solr at a fixed schedule that is controlled
by the exporter itself. The default interval is 60s but it can be changed by specifying the --scrape-interval
command line parameter to the tool. The collected metrics are cached and returned for any requests coming in before
the next scheduled collection. This can impact the freshness of the metrics if prometheus is configured to query the
tool more frequently.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12708">SOLR-12708</a>: When requesting the status of an async request via REQUESTSTATUS collections API, the response will
include the list of internal async requests (if any) in the "success" or "failed" keys (in addition
to them being included outside those keys for backwards compatibility). See <a href="http://issues.apache.org/jira/browse/SOLR-12708">SOLR-12708</a> for more
details
<p>
</li>
    </ol>
  </li>
  <li><a id="v7.7.2.bug_fixes" href="javascript:toggleList('v7.7.2.bug_fixes')">Bug fixes</a>&nbsp;&nbsp;&nbsp;(25)
    <ol id="v7.7.2.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13234">SOLR-13234</a>: Prometheus Metric Exporter not threadsafe. This changes the prometheus exporter to collect metrics
from Solr on a fixed interval controlled by this tool and prevents concurrent collections. This change also improves
performance slightly by using the cluster state instead of sending multiple HTTP requests to each node to lookup
all the cores.
<br /><span class="attrib">(Danyal Prout via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12708">SOLR-12708</a>: Async collection actions should not hide internal failures
<br /><span class="attrib">(Mano Kovacs, Varun Thacker, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11876">SOLR-11876</a>: In-place update fails when resolving from Tlog if schema has a required field
<br /><span class="attrib">(Justin Deoliveira, janhoy,
Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13349">SOLR-13349</a>: High CPU usage in Solr due to Java 8 bug
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13355">SOLR-13355</a>: 'all' permission ignored by RuleBasedAuthorizationPlugin in most cases
<br /><span class="attrib">(Jason Gerlowski, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13344">SOLR-13344</a>: Admin UI inaccessible with RuleBasedAuthorizationPlugin
<br /><span class="attrib">(janhoy, Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12860">SOLR-12860</a>: MetricsHistoryHandler now uses PKI Auth for metrics collection in background thread
<br /><span class="attrib">(janhoy, Lorenzo)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13331">SOLR-13331</a>: Atomic Update 'remove' operations broken for certain field types in SolrJ
<br /><span class="attrib">(Thomas Wockinger via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13285">SOLR-13285</a>: Updates with enum fields and javabin cause ClassCastException
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12371">SOLR-12371</a>: Editing authorization config via REST API now works in standalone mode
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13281">SOLR-13281</a>: Fixed NPE in DocExpirationUpdateProcessorFactory
<br /><span class="attrib">(Munendra S N, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13409">SOLR-13409</a>: Disable HTML directory listings in admin interface to prevent possible security issues
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13126">SOLR-13126</a>: Query boosts were not being combined correctly for documents where not all boost queries
matched
<br /><span class="attrib">(Alan Woodward, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13414">SOLR-13414</a>: SolrSchema - Avoid NPE if Luke returns field with no type defined
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12833">SOLR-12833</a>: Avoid unnecessary memory cost when DistributedUpdateProcessor timed-out lock is not used.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13449">SOLR-13449</a>: SolrClientNodeStateProvider always retries on requesting metrics from other nodes
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13112">SOLR-13112</a>: Upgrade jackson to 2.9.8
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13410">SOLR-13410</a>: Designated overseer wasn't able to rejoin election queue at head upon restart
<br /><span class="attrib">(Ishan Chattopadhyaya,
Kesharee Nandan Vishwakarma)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13254">SOLR-13254</a>: Correct message that is logged in solrj's ConnectionManager when an exception
occurred while reconnecting to ZooKeeper.
<br /><span class="attrib">(hu xiaodong via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13252">SOLR-13252</a>: Fix an NPE when setting a "policy" property for an existing collection
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13398">SOLR-13398</a>: Move log line "Processing SSL Credential Provider chain..." from INFO to DEBUG
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13386">SOLR-13386</a>: OverseerTaskQueue#remove should not throw an exception when no node exists after an exists
check and the Overseer work loop should not allow free spinning the loop when it hits a KeeperException.
<br /><span class="attrib">(Mark Miller, Fernandez-Lobbe, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13366">SOLR-13366</a>: Clarify 'Invalid stage name' warning logging in AutoScalingConfig
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13352">SOLR-13352</a>: Remove risk of deadlock/threadleak when shutting down an Overseer(TriggerThread).
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13229">SOLR-13229</a>: Cleanup replicasMetTragicEvent after all types of exception
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
    </ol>
  </li>
  <li><a id="v7.7.2.other_changes" href="javascript:toggleList('v7.7.2.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v7.7.2.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13363">SOLR-13363</a>: Upgrade to ZooKeeper 3.4.14
<br /><span class="attrib">(Erick Erickson)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v7.7.1" href="javascript:toggleList('v7.7.1')">Release 7.7.1  [2019-03-01]</a></h3>
<ul id="v7.7.1.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v7.7.1.versions_of_major_components" href="javascript:toggleList('v7.7.1.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v7.7.1.versions_of_major_components.list">
      <li>Apache Tika 1.19.1
</li>
      <li>Carrot2 3.16.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache ZooKeeper 3.4.13
</li>
      <li>Jetty 9.4.14.v20181114
</li>
    </ol>
  </li>
  <li><a id="v7.7.1.upgrade_notes" href="javascript:toggleList('v7.7.1.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v7.7.1.upgrade_notes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13248">SOLR-13248</a>: The default replica placement strategy used in Solr has been reverted to the 'legacy' policy used by Solr
7.4 and previous versions. This is due to multiple bugs in the autoscaling based replica placement strategy that was
made default in Solr 7.5 which causes multiple replicas of the same shard to be placed on the same node in addition
to the maxShardsPerNode and createNodeSet parameters being ignored. Although the default has changed, autoscaling
will continue to be used if a cluster policy or preference is specified or a collection level policy is in use.
The default replica placement strategy can be changed to use autoscaling again by setting a cluster property:
curl -X POST -H 'Content-type:application/json' --data-binary '
{
  "set-obj-property": {
    "defaults" : {
      "cluster": {
        "useLegacyReplicaAssignment":false
      }
    }
  }
}' http://$SOLR_HOST:$SOLR_PORT/api/cluster
<p>
</li>
    </ol>
  </li>
  <li><a id="v7.7.1.bug_fixes" href="javascript:toggleList('v7.7.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v7.7.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13255">SOLR-13255</a> : ClasscastException when URPs try to read a String field which returns a ByteArrayUTF8CHarSequence . This is a regression
in release 7.7
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13248">SOLR-13248</a>: Autoscaling based replica placement is broken out of the box. Solr 7.5 enabled autoscaling based replica
placement by default but in the absence of default cluster policies, autoscaling can place more than 1 replica of the
same shard on the same node. Also, the maxShardsPerNode and createNodeSet was not respected. Due to these reasons,
this issue reverts the default replica placement policy to the 'legacy' assignment policy that was the default until
Solr 7.4.
<br /><span class="attrib">(Gus Heck, Andrzej Bialecki, Bram Van Dam, shalin)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v7.7.0" href="javascript:toggleList('v7.7.0')">Release 7.7.0  [2019-02-11]</a></h3>
<ul id="v7.7.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v7.7.0.versions_of_major_components" href="javascript:toggleList('v7.7.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v7.7.0.versions_of_major_components.list">
      <li>Apache Tika 1.19.1
</li>
      <li>Carrot2 3.16.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache ZooKeeper 3.4.13
</li>
      <li>Jetty 9.4.14.v20181114
</li>
    </ol>
  </li>
  <li><a id="v7.7.0.upgrade_notes" href="javascript:toggleList('v7.7.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v7.7.0.upgrade_notes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12770">SOLR-12770</a>: The 'shards' parameter handling logic changes to use a new config element to determine what hosts can be
requested. Please see Apache Solr Reference Guide chapter "Distributed Requests" for details, as well as <a href="http://issues.apache.org/jira/browse/SOLR-12770">SOLR-12770</a>.
<p>
</li>
    </ol>
  </li>
  <li><a id="v7.7.0.new_features" href="javascript:toggleList('v7.7.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v7.7.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12839">SOLR-12839</a>: JSON 'terms' Faceting now supports a 'prelim_sort' option to use when initially selecting
the top ranking buckets, prior to the final 'sort' option used after refinement.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7896">SOLR-7896</a>: Add a login page to Admin UI, with initial support for Basic Auth
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13116">SOLR-13116</a>: Add Admin UI login support for Kerberos
<br /><span class="attrib">(janhoy, Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12770">SOLR-12770</a>: Make it possible to configure a host whitelist for distributed search
<br /><span class="attrib">(Christine Poerschke, janhoy, Erick Erickson, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12373">SOLR-12373</a>: Add a "tombstoneConfig" option to DocBasedVersionConstraintsProcessor that allows
users to configure which fields/values to add to tombstone documents. This can be useful to
make sure tombstone documents include fields that are marked as required in the schema
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12984">SOLR-12984</a>: The search Streaming Expression should properly support and push down paging
when using the /select handler
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13088">SOLR-13088</a>: Add zplot Stream Evaluator to plot math expressions in Apache Zeppelin
<br /><span class="attrib">(Joel Bernstein)</span></li>
    </ol>
  </li>
  <li><a id="v7.7.0.bug_fixes" href="javascript:toggleList('v7.7.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(18)
    <ol id="v7.7.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12546">SOLR-12546</a>: CVSResponseWriter omits useDocValuesAsStored=true field when fl=*
<br /><span class="attrib">(Munendra S N via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12933">SOLR-12933</a>: Fix SolrCloud distributed commit.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13014">SOLR-13014</a>: URI Too Long with large streaming expressions in SolrJ
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13066">SOLR-13066</a>: A failure while reloading a SolrCore can result in the SolrCore not being closed.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11296">SOLR-11296</a>: Spellcheck parameters not working in new UI
<br /><span class="attrib">(Matt Pearce via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10975">SOLR-10975</a>: New Admin UI Query does not URL-encode the query produced in the URL box
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13072">SOLR-13072</a>: Management of markers for nodeLost / nodeAdded events is broken. This bug could have caused
some events to be lost if they coincided with an Overseer leader crash.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13080">SOLR-13080</a>: The "terms" QParser's "automaton" method semi-required that the input terms/IDs be sorted.  This
query parser now does this.  Unclear if this is a perf issue or actual bug.
<br /><span class="attrib">(Daniel Lowe, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13082">SOLR-13082</a>: A trigger that creates trigger events more frequently than the cool down period can starve other triggers.
This is mitigated to some extent by randomly choosing the trigger to resume after cool down. It is recommended that
scheduled triggers not be used for very frequent operations to avoid this problem.
<br /><span class="attrib">(ab, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12514">SOLR-12514</a>: Rule-base Authorization plugin skips authorization if querying node does not have collection replica
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11853">SOLR-11853</a>: Solr installer fails on SuSE linux
<br /><span class="attrib">(Markus Mandalka via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12237">SOLR-12237</a>: Fix incorrect SOLR_SSL_KEYSTORE_TYPE variable in solr start script
<br /><span class="attrib">(janhoy, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13053">SOLR-13053</a>: NodeAddedTrigger and NodeLostTrigger do not reserve added/removed time populated by restoreState
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13137">SOLR-13137</a>: NPE when /admin/zookeeper/status endpoint hit in standalone mode
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13091">SOLR-13091</a>: REBALANCELEADERS is broken
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11998">SOLR-11998</a>: RebalanceLeaders API broken response format with wt=JSON
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9735">SOLR-9735</a>: Fix v2 API for AutoscalingHistoryHandler.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13168">SOLR-13168</a>: Fixed a bug in TestInjection that caused test only code to be invoked when TLOG replicas
recieved commits if java assertions were enabled.
<br /><span class="attrib">(hossman)</span></li>
    </ol>
  </li>
  <li><a id="v7.7.0.improvements" href="javascript:toggleList('v7.7.0.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="v7.7.0.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12881">SOLR-12881</a>: Remove unneeded import statements
<br /><span class="attrib">(Peter Somogyi via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12992">SOLR-12992</a>: When using binary format, ExportWriter to directly copy BytesRef instead of
creating new String
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12898">SOLR-12898</a>: Replace cluster state polling with ZkStateReader#waitFor.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12897">SOLR-12897</a>: Introduce AlreadyClosedException to clean up silly close / shutdown logging.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12896">SOLR-12896</a>: Introduce more checks for shutdown and closed to improve clean close and shutdown.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12804">SOLR-12804</a>: Remove static modifier from Overseer queue access.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12833">SOLR-12833</a>: Add configurable timeout to VersionBucket lock.
<br /><span class="attrib">(Jeffery Yuan, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12885">SOLR-12885</a>: BinaryResponseWriter (javabin format) should directly copy from BytesRef to output
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12973">SOLR-12973</a>: Admin UI "Nodes" view support for replica* replica names.
<br /><span class="attrib">(Daniel Collins, Christine Poerschke, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13090">SOLR-13090</a>: All shipped configurations still have `maxBooleanClauses` default to 1024.  But if the
`solr.max.booleanClauses` sysprop is specified, that will override the 1024 default.  This enables users to
update this property across the board more easily.
<br /><span class="attrib">(Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12983">SOLR-12983</a>: JavabinLoader should avoid creating String Objects and create UTF8CharSequence fields from byte[]
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13016">SOLR-13016</a>: Computing suggestions when policy have "#EQUAL" or "#ALL" rules take too long
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13029">SOLR-13029</a>: solr.hdfs.buffer.size can be configured for HdfsBackupRepository for better performance
<br /><span class="attrib">(Tim Owen via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13156">SOLR-13156</a>: support facet.sort for facet.field={!terms=foo,bar}field.
<br /><span class="attrib">(Konstantin Perikov via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13146">SOLR-13146</a>: Allow derivatives to be computed for the oscillate Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
    </ol>
  </li>
  <li><a id="v7.7.0.other_changes" href="javascript:toggleList('v7.7.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v7.7.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12972">SOLR-12972</a>: deprecate unused SolrIndexConfig.luceneVersion
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12801">SOLR-12801</a>: Make massive improvements to the tests.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12923">SOLR-12923</a>: The new AutoScaling tests are way too flaky and need special attention.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12932">SOLR-12932</a>: ant test (without badapples=false) should pass easily for developers.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13036">SOLR-13036</a>: Fix retry logic in JettySolrRunner
<br /><span class="attrib">(Gus Heck)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12727">SOLR-12727</a>: Upgrade ZooKeeper dependency to 3.4.13
<br /><span class="attrib">(Kevin Risden, Erick Erickson, Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13086">SOLR-13086</a>: Improve the error message reported by DocumentObjectBinder when a setter is not found
<br /><span class="attrib">(Gus Heck)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v7.6.0" href="javascript:toggleList('v7.6.0')">Release 7.6.0  [2018-12-14]</a></h3>
<ul id="v7.6.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v7.6.0.versions_of_major_components" href="javascript:toggleList('v7.6.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v7.6.0.versions_of_major_components.list">
      <li>Apache Tika 1.19.1
</li>
      <li>Carrot2 3.16.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache ZooKeeper 3.4.11
</li>
      <li>Jetty 9.4.11.v20180605
</li>
    </ol>
  </li>
  <li><a id="v7.6.0.upgrade_notes" href="javascript:toggleList('v7.6.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v7.6.0.upgrade_notes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12767">SOLR-12767</a>: The min_rf parameter is no longer needed, Solr will always return the achieved replication factor (rf)
in the response header.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12827">SOLR-12827</a>: The cluster wide defaults structure has changed from {collectionDefaults: {nrtReplicas : 2}} to
{defaults : {collection : {nrtReplicas : 2}}}.  The old format continues to be supported and can be read from
ZK as well as written using the V2 set-obj-property syntax but it is deprecated and will be removed in Solr 9.
We recommend that users change their API calls to use the new format going forward.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12739">SOLR-12739</a>: Autoscaling policy framework is now used as the default strategy to select the nodes on which
new replicas or replicas of new collections are created. Previously, the maxShardsPerNode parameter was not allowed
on collections when autoscaling policy was configured. Also if an autoscaling policy was configured then the default
was to set an unlimited maxShardsPerNode automatically. Now the maxShardsPerNode parameter is always
allowed during collection creation and maxShardsPerNode should be set correctly (if required) regardless of whether
autoscaling policies are in effect or not. The default value of maxShardsPerNode continues to be 1 as before. It can
be set to -1 during collection creation to fall back to the old behavior of unlimited maxShardsPerNode when using
autoscaling policy.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12861">SOLR-12861</a>: Added a Solr factory for ByteBuffersDirectory, which will replace deprecated RAMDirectory in Solr 9.0.
<p>
</li>
    </ol>
  </li>
  <li><a id="v7.6.0.new_features" href="javascript:toggleList('v7.6.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(25)
    <ol id="v7.6.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6280">SOLR-6280</a>: {!collapse}: if you attempt to use CollapseQParser on a field that is multi-valued, you will now get an
error.  Previously, the collapsing behavior was unreliable and undefined despite no explicit error.
<br /><span class="attrib">(Munendra S N, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9317">SOLR-9317</a>: ADDREPLICA command should be able to add more than one replica to a collection,shard at a time.
The API now supports 'nrtReplicas', 'tlogReplicas', 'pullReplicas' parameters as well 'createNodeSet' parameter.
As part of this change, the CREATESHARD API now delegates placing replicas entirely to the ADDREPLICA command
and uses the new parameters to add all the replicas in one API call.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11522">SOLR-11522</a>: /autoscaling/suggestions now include rebalance options as well even if there are no violations
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12822">SOLR-12822</a>: /autoscaling/suggestions to include suggestion to add-replica for lost replicas
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12815">SOLR-12815</a>: Implement maxOps limit for IndexSizeTrigger.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12843">SOLR-12843</a>: Implement a MultiContentWriter in SolrJ to post multiple files/payload at once
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12780">SOLR-12780</a>: Add support for Leaky ReLU and TanH activations in contrib/ltr NeuralNetworkModel class.
<br /><span class="attrib">(Kamuela Lau, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12846">SOLR-12846</a>: Added support for "host" variable in autoscaling policy rules
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5004">SOLR-5004</a>: Splitshard collections API now supports splitting into more than 2 sub-shards directly i.e. by providing a
numSubShards parameter
<br /><span class="attrib">(Christine Poerschke, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12754">SOLR-12754</a>: The UnifiedHighlighter has a new hl.weightMatches param defaulting to false (will be true in 8.0).  It's
the highest query accuracy mode, and furthermore phrase queries are highlighted as one.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12828">SOLR-12828</a>: Add oscillate Stream Evaluator to support sine wave analysis.
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11907">SOLR-11907</a>: Add convexHull and associated geometric Stream Evaluators.
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12811">SOLR-12811</a>: Add enclosingDisk and associated geometric Stream Evaluators.
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12840">SOLR-12840</a>: Add pairSort Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12862">SOLR-12862</a>: Add log10 Stream Evaluator and allow the pow Stream Evaluator to accept a vector of exponents
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12942">SOLR-12942</a>: Add an option in IndexSizeTrigger to select the split shard method.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12938">SOLR-12938</a>: Cluster Status returns results for aliases, instead of throwing exceptions
<br /><span class="attrib">(Gus Heck)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11997">SOLR-11997</a>: Suggestions API/UI should show an entry where a violation could not be resolved
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12971">SOLR-12971</a>: Add pivot Stream Evaluator to pivot facet co-occurrence counts into a matrix
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12795">SOLR-12795</a>: Introduce 'rows' and 'offset' parameter in FacetStream
<br /><span class="attrib">(Joel Bernstein, Amrit Sarkar, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11572">SOLR-11572</a>: Add recip Stream Evaluator to support reciprocal transformations
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12936">SOLR-12936</a>: Allow percentiles Stream Evaluator to accept an array of percentiles to calculate
<br /><span class="attrib">(Joel bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12829">SOLR-12829</a>: Add plist (parallel list) Streaming Expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12975">SOLR-12975</a>: Add ltrim and rtrim Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12962">SOLR-12962</a>: Added a new 'uninvertible' option for fields and fieldtypes. This defaults to 'true' for
backcompat allowing a FieldCache to be built for indexed fields as needed, but users are encouraged
to set this to false (using docValues as needed) to reduce the risk of large fluxuations in heap
size due to unexpected attempts to sort/facet/function on non-docValue fields.
<br /><span class="attrib">(hossman)</span></li>
    </ol>
  </li>
  <li><a id="v7.6.0.other_changes" href="javascript:toggleList('v7.6.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(14)
    <ol id="v7.6.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12762">SOLR-12762</a>: Fix javadoc for SolrCloudTestCase.clusterShape() method and add a method that validates only against
Active slices
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12756">SOLR-12756</a>: Refactor Assign and extract replica placement strategies out of it. Now, assignment is done with the help
of a builder class instead of calling a method with large number of arguments. The number of special cases that had
to be handled have been cut down as well.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12827">SOLR-12827</a>: Migrate cluster wide defaults syntax in cluster properties to a nested structure. The structure has
changed from {collectionDefaults: {nrtReplicas : 2}} to {defaults : {collection : {nrtReplicas : 2}}}.
<br /><span class="attrib">(ab, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12835">SOLR-12835</a>: Document statistics exposed by the Query Result Cache when maxRamMB is configured.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12423">SOLR-12423</a>: Upgrade to Tika 1.19.1 when available
<br /><span class="attrib">(Tim Allison via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12793">SOLR-12793</a>: Move TestCloudJSONFacetJoinDomain and TestCloudJSONFacetSKG to the facet test package
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12861">SOLR-12861</a>: Add Solr factory for ByteBuffersDirectory.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12746">SOLR-12746</a>: Simplify the Ref Guide HTML structure and use semantic HTML tags where possible. Adds new template files
for Asciidoctor HTML conversion. Building the HTML version now requires the Slim gem.
<br /><span class="attrib">(Cassandra Targett)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12956">SOLR-12956</a>: Add Javadoc @since tag to Analyzer component classes
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12966">SOLR-12966</a>: Add Javadoc @since tag to URP classes
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12600">SOLR-12600</a>: Fix parameter names in Solr JSON documentation
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12497">SOLR-12497</a>: Add documentation to use Hadoop credential provider-based keystore/trustsore.
</li>
      <li>(Mano Kovacs, Cassandra Targett)
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-13006">SOLR-13006</a>: ZkNodeProps to be able to load from both javabin and JSON
<br /><span class="attrib">(noble)</span></li>
    </ol>
  </li>
  <li><a id="v7.6.0.bug_fixes" href="javascript:toggleList('v7.6.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(20)
    <ol id="v7.6.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12803">SOLR-12803</a>: Ensure ConcurrentUpdateSolrClient sends documents to correct collection
<br /><span class="attrib">(Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11836">SOLR-11836</a>: FacetStream works with bucketSizeLimit of -1 which will fetch all the buckets.
<br /><span class="attrib">(Alfonso Muñoz-Pomer Fuentes, Amrit Sarkar via Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12776">SOLR-12776</a>: Setting of TMP in solr.cmd causes invisibility of Solr to JDK tools
<br /><span class="attrib">(Petr Bodnar via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12648">SOLR-12648</a>: Autoscaling framework based replica placement is not used unless a policy is specified or
non-empty cluster policy exists.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12750">SOLR-12750</a>: Migrate API should lock the collection instead of shard.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12767">SOLR-12767</a>: When using min_rf, shard leader skipped bad replicas instead of marking them for recovery, this could
create inconsistencies between replicas of the same shard. min_rf parameter is now deprecated, and even if provided
replicas that don't ack an update from the leader will be marked for recovery.
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12814">SOLR-12814</a>: Metrics history causing "HttpParser URI is too large &gt;8192" when many collections
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12836">SOLR-12836</a>: ZkController creates a cloud solr client with no connection or read timeouts. Now the http client
created by the update shard handler is used instead.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12729">SOLR-12729</a>: SplitShardCmd should lock the parent shard to prevent parallel splitting requests.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12851">SOLR-12851</a>: Improvements and fixes to let and select Streaming Expressions
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12874">SOLR-12874</a>: Java 9+ GC Logging filesize parameter should use a unit.
<br /><span class="attrib">(Tim Underwood via Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12868">SOLR-12868</a>: Request forwarding for v2 API is broken
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7557">SOLR-7557</a>: Fix parsing of child documents using queryAndStreamResponse
<br /><span class="attrib">(Marvin Bredal Lillehaug/Stian Østerhaug via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12875">SOLR-12875</a>: fix ArrayIndexOutOfBoundsException when unique(field) or uniqueBlock(_root_) is
</li>
      <li>used with DVHASH method in json.facet.
<br /><span class="attrib">(Tim Underwood via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12954">SOLR-12954</a>: fix facet.pivot refinement bugs when using facet.sort=index and facet.mincount&gt;1
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12023">SOLR-12023</a>: Autoscaling policy engine shuffles replicas needlessly
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12243">SOLR-12243</a>: Edismax missing phrase queries when phrases contain multiterm synonyms
<br /><span class="attrib">(Elizabeth Haubert, Alessandro Benedetti, Uwe Schindler, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12977">SOLR-12977</a>: Autoscaling tries to fetch metrics from dead nodes
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12978">SOLR-12978</a>: In autoscaling NPE thrown for nodes where value is absent
<br /><span class="attrib">(noble)</span></li>
    </ol>
  </li>
  <li><a id="v7.6.0.improvements" href="javascript:toggleList('v7.6.0.improvements')">Improvements</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="v7.6.0.improvements.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12767">SOLR-12767</a>: Solr now always includes in the response of update requests the achieved replication factor
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12782">SOLR-12782</a>: UninvertingReader wrapping is now a bit more lightweight: Does not create FieldInfo for fields that
can't be uninverted (saves mem) and can avoid wrapping the reader altogether if there's nothing to uninvert.
IndexSchema.getUninversionMap refactored to getUninversionMapper and no longer merges FieldInfos.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12739">SOLR-12739</a>: Make autoscaling policy based replica placement the default strategy for placing replicas.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12806">SOLR-12806</a>: use autoscaling policies with strict=false to prioritize node allocation
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10981">SOLR-10981</a>: Support for stream.url or stream.file pointing to gzipped data.  It's detected by either a content
encoding header or file extension.
<br /><span class="attrib">(Andrew Lundgren via David Smiley, Jan Høydahl)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12892">SOLR-12892</a>: MapWriter to use CharSequence instead of String
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12882">SOLR-12882</a>: Eliminate excessive lambda allocation in json facets FacetFieldProcessorByHashDV
<br /><span class="attrib">(Tim Underwood)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12699">SOLR-12699</a>: Make contrib/ltr LTRScoringModel immutable and cache its hashCode.
<br /><span class="attrib">(Stanislav Livotov, Edward Ribeiro, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-8557">LUCENE-8557</a>: Some internal LeafReader.getFieldInfos implementations were being re-computed on-demand instead of
once up front leading to some slowdowns in places like JSON Facets and field collapsing.
<br /><span class="attrib">(Tim Underwood, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12964">SOLR-12964</a>: Json Facets: use DocValuesIterator advanceExact() instead of advance() in FacetFieldProcessorByHashDV and
UniqueSinglevaluedSlotAcc.
<br /><span class="attrib">(Tim Underwood)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12880">SOLR-12880</a>: Json Facets: Show the FacetProcessor class name instead of the FacetRequest in the JSON Facets debug-trace
output
<br /><span class="attrib">(Tim Underwood)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v7.5.0" href="javascript:toggleList('v7.5.0')">Release 7.5.0  [2018-09-24]</a></h3>
<ul id="v7.5.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v7.5.0.versions_of_major_components" href="javascript:toggleList('v7.5.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v7.5.0.versions_of_major_components.list">
      <li>Apache Tika 1.18
</li>
      <li>Carrot2 3.16.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache ZooKeeper 3.4.11
</li>
      <li>Jetty 9.4.11.v20180605
</li>
    </ol>
  </li>
  <li><a id="v7.5.0.upgrade_notes" href="javascript:toggleList('v7.5.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v7.5.0.upgrade_notes.list">
      <li>The data-driven schema no longer returns the *_str field-copy of text fields by default. The *_str field is still
created and can be used for e.g. sorting, but to retrieve it you now need to explicitly list it in "fl" (<a href="http://issues.apache.org/jira/browse/SOLR-12350">SOLR-12350</a>)
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-7976">LUCENE-7976</a>: TieredMergePolicy now respects maxSegmentSizeMB by default when executing
findForcedMerges (optimize) and findForcedDeletesMerges (expungeDeletes)
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12395">SOLR-12395</a>: SignificantTermsQParserPlugin's name is now 'significantTerms' and its old name 'sigificantTerms' is deprecated.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11694">SOLR-11694</a>: Extremely outdated UIMA contrib module has been removed
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12008">SOLR-12008</a>: The configuration file for log4j2.xml is now in ../server/resources/log4j2.xml. All other copies have been removed.
WINDOWS USERS: This JIRA corrects a bug in the start scripts that put example logs under ...\server, solr.log is
now under ...\example.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12398">SOLR-12398</a>: The heatmap facet response structure, when returned in JSON, changed from an even/odd name/value array to
an object style.  Although the object style makes more sense, this was an overlooked back-compat break; sorry.
<p>
</li>
    </ol>
  </li>
  <li><a id="v7.5.0.new_features" href="javascript:toggleList('v7.5.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(42)
    <ol id="v7.5.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11865">SOLR-11865</a>: The QueryElevationComponent now has a useConfiguredElevatedOrder setting. When multiple docs are elevated,
this specifies whether their relative order should be the order in the configuration file or if not then should they
be subject to whatever the sort criteria is.  Additionally, QEC was extensively refactored to be more extensible.
<br /><span class="attrib">(Bruno Roustant, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12474">SOLR-12474</a>: Add an UpdateRequest Object that implements RequestWriter.ContentWriter
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12361">SOLR-12361</a>: Allow nested child documents to be in field values of a SolrInputDocument as an alternative to
add/get ChildDocuments off to the side.  The latter is now referred to as "anonymous" child documents as opposed to
"labelled" (by the field name).  Anonymous child docs might be deprecated in the future.  This is an internal change
that should work for javabin/SolrJ; separate issues will address XML &amp; JSON formats populating nested docs in this way.
AddUpdateCommand and it's relationship with DirectUpdateHandler2 was reworked substantially.
<br /><span class="attrib">(Moshe Bla, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12362">SOLR-12362</a>: Uploading docs in JSON now supports child documents as field values, thus providing a label to the
relationship instead of the current "anonymous" relationship.  Use of this experimental feature sometimes requires a
anonChildDocs=false parameter until Solr 8 due to syntax ambiguities.
<br /><span class="attrib">(Moshe Bla, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12485">SOLR-12485</a>: Uploading docs in XML now supports child documents as field values, thus providing a label to the
relationship instead of the current "anonymous" relationship.
<br /><span class="attrib">(Moshe Bla, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12441">SOLR-12441</a>: (EXPERIMENTAL) New NestedUpdateProcessorFactory (URP) to populate special fields _nest_parent_ and
_nest_path_ of nested (child) documents. It will generate a uniqueKey of nested docs if they were blank too.
<br /><span class="attrib">(Moshe Bla, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12519">SOLR-12519</a>: The [child] transformer now returns a nested child doc structure (attached as fields if provided this way)
provided the schema has the _nest_path_ field.  This is part of a broader enhancement of nested docs.
<br /><span class="attrib">(Moshe Bla, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12722">SOLR-12722</a>: The [child] transformer now takes an 'fl' param to specify which fields to return.  It will evaluate
doc transformers if present.  In 7.5 a missing 'fl' defaults to the current behavior of all fields, but in 8.0
defaults to the top/request "fl".
<br /><span class="attrib">(Moshe Bla, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11578">SOLR-11578</a>: Solr 7 Admin UI (Cloud &gt; Graph) should reflect the Replica type to give a more accurate representation
of the cluster.
<br /><span class="attrib">(Rhoit Singh via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12507">SOLR-12507</a>: Modify collection API should support un-setting properties.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12506">SOLR-12506</a>: Add SolrJ support for the modify collection API.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12398">SOLR-12398</a>: The JSON Facet API now supports type=heatmap facets, just as classic faceting does.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11985">SOLR-11985</a>: Support percentage values in replica attribute in autoscaling policy
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12511">SOLR-12511</a>: Support non integer values for replica in autoscaling policy
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12517">SOLR-12517</a>: Support range values for replica in autoscaling policy
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12530">SOLR-12530</a>: Ability to disable configset upload via -Dconfigset.upload.enabled=false startup parameter
<br /><span class="attrib">(Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12495">SOLR-12495</a>: An #EQUAL function for replica in autoscaling policy to equally distribute replicas
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11986">SOLR-11986</a>: Allow percentage in freedisk attribute in autoscaling policy rules
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12522">SOLR-12522</a>: Support a runtime function `#ALL` for 'replica' in autoscaling policies
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12567">SOLR-12567</a>: JSON Facet "functions" now support an extended "type:func" syntax, similar to other types
of facets.  This also allows additional local params to be specified for if the aggregation function
can take advantage of them.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12581">SOLR-12581</a>: the JSON Facet 'relatedness()' aggregate function now supports a 'min_popularity' option
using the extended type:func syntax
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12536">SOLR-12536</a>: autoscaling policy support to equally distribute replicas on the basis of arbitrary properties
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8207">SOLR-8207</a>: Add "Nodes" view to the Admin UI "Cloud" tab, listing nodes and key metrics
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7767">SOLR-7767</a>: "ZK Status" sub menu under "Cloud" tab to see status of zookeeper ensemble
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11990">SOLR-11990</a>: Make it possible to co-locate replicas of multiple collections together in a node. A collection may be
co-located with another collection during collection creation time by specifying a 'withCollection' parameter. It can
also be co-located afterwards by using the modify collection API. The co-location guarantee is enforced regardless of
future cluster operations whether they are invoked manually via the Collection API or by the Autoscaling framework.
<br /><span class="attrib">(noble, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12402">SOLR-12402</a>: Factor out SolrDefaultStreamFactory class.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12592">SOLR-12592</a>: support #EQUAL function, range operator, decimal and percentage in cores in autoscaling policies
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12655">SOLR-12655</a>: Add Korean morphological analyzer ("nori") to default distribution. This also adds examples
for configuration in Solr's schema.
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11863">SOLR-11863</a>: Add knnRegress Stream Evaluator to support nearest neighbor regression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12702">SOLR-12702</a>: Add zscores Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12687">SOLR-12687</a>: Add functions to cache data structures and mathematical models
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12671">SOLR-12671</a>: Add robust flag to knnRegress Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12660">SOLR-12660</a>: Add outliers Stream Evaluator to support outlier detection with probability distributions
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12634">SOLR-12634</a>: Add gaussfit Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12629">SOLR-12629</a>: The predict evaluator should work with the polyfit function
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12715">SOLR-12715</a>: NodeAddedTrigger should support adding replicas to new nodes by setting preferredOperation=addreplica.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11861">SOLR-11861</a>: When creating a configSet via the API, the "baseConfigSet" parameter now defaults to "_default".
<br /><span class="attrib">(Amrit Sarkar, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12716">SOLR-12716</a>: NodeLostTrigger should support deleting replicas from lost nodes by setting preferredOperation=deletenode.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9418">SOLR-9418</a>: Added a new (experimental) PhrasesIdentificationComponent for identifying potential phrases
in query input based on overlapping shingles in the index.
<br /><span class="attrib">(Akash Mehta, Trey Grainger, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11943">SOLR-11943</a>: Add machine learning functions for location data
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12612">SOLR-12612</a>: Cluster properties restriction of known keys only is relaxed, and now unknown properties starting with "ext."
will be allowed. This allows custom to plugins set their own cluster properties.
<br /><span class="attrib">(Jeffery Yuan via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12357">SOLR-12357</a>: Time Routed Aliases now have a preemptiveCreateMath option to preemptively and asynchronously create the
next collection in advance as new data gets within this time window of the end.
<br /><span class="attrib">(Gus Heck, David Smiley)</span></li>
    </ol>
  </li>
  <li><a id="v7.5.0.bug_fixes" href="javascript:toggleList('v7.5.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(44)
    <ol id="v7.5.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12449">SOLR-12449</a>: Response /autoscaling/diagnostics shows improper json
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11676">SOLR-11676</a>: Keep nrtReplicas and replicationFactor in sync while creating a collection and modifying a collection
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12489">SOLR-12489</a>: User specified replicationFactor and maxShardsPerNode is used when specified during a restore operation.
A user can now specify nrtReplicas/tlogReplicas/pullReplicas while restoring the collection.
Specifying replicationFactor or nrtReplicas have the same effect and only one can be specified
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11216">SOLR-11216</a>: Race condition in PeerSync
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11807">SOLR-11807</a>: Restoring collection now treats maxShardsPerNode=-1 as unlimited
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12413">SOLR-12413</a>: If Zookeeper was pre-loaded with data before first-use, then the aliases information would be ignored.
<br /><span class="attrib">(David Smiley, Gaël Jourdan, Gus Heck)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12482">SOLR-12482</a>: Config API returns status 0 for failed operations.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12513">SOLR-12513</a>: Reproducing TestCodecSupport.testMixedCompressionMode failure
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11665">SOLR-11665</a>: Improve error handling of shard splitting. Fix splitting of mixed replica types.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12326">SOLR-12326</a>: JSON Facet API: terms facet shard requests now indicate if they have more buckets to prevent
unnecessary refinement requests.
<br /><span class="attrib">(yonk)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12427">SOLR-12427</a>: Improve error message for invalid 'start', 'rows' parameters.
<br /><span class="attrib">(Munendra S N via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12395">SOLR-12395</a>: Make 'significantTerms' the SignificantTermsQParserPlugin's name and deprecate its old 'sigificantTerms' name.
<br /><span class="attrib">(Tobias Kässmann, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12533">SOLR-12533</a> Collection collection fails if metrics are called during core creation
<br /><span class="attrib">(Peter Cseh, Mano Kovacs)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2834">SOLR-2834</a>: Fix SolrJ Field and Document analyzes for types that include CharacterFilter
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12516">SOLR-12516</a>: Fix some bugs in 'type:range' Facet refinement when sub-facets are combined with non
default values for the 'other' and 'include' options.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12343">SOLR-12343</a>: Fixed a bug in JSON Faceting that could cause incorrect counts/stats when using non default
sort options.  This also adds a new configurable "overrefine" option.
<br /><span class="attrib">(Yonik Seeley, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12553">SOLR-12553</a>: Allow SignificantTerms Query Parser to use local parameters
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12570">SOLR-12570</a>: OpenNLPExtractNamedEntitiesUpdateProcessor cannot support multi fields because pattern replacement
doesn't work correctly.
<br /><span class="attrib">(Koji Sekiguchi)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12576">SOLR-12576</a>: Update ref guide for additional information displayed in cloud view
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12597">SOLR-12597</a>: Migrate API should fail requests that do not specify split.key parameter
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12477">SOLR-12477</a>: An update would return a client error(400) if it hit a AlreadyClosedException.
We now return the error as a server error(500) instead
<br /><span class="attrib">(Jeffery via Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12606">SOLR-12606</a>: Fix InfixSuggestersTest.testShutdownDuringBuild() failures.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12607">SOLR-12607</a>: Fixed two separate bugs in shard splits which can cause data loss. The first case is when using TLOG
replicas only, the updates forwarded from parent shard leader to the sub-shard leader are written only in tlog and
not the index. If this happens after the buffered updates have been replayed then the updates can never be executed
even though they remain the transaction log. The second case is when synchronously forwarding updates to sub-shard
leader fails and the underlying errors are not propagated to the client.
<br /><span class="attrib">(Cao Manh Dat, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12344">SOLR-12344</a>: SolrSlf4jReporter doesn't set MDC context.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12594">SOLR-12594</a>: MetricsHistoryHandler.getOverseerLeader fails when hostname contains hyphen.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12615">SOLR-12615</a>: HashQParserPlugin will no longer throw an NPE if the hash key field is a string when there are documents
with empty values. All documents with empty values ( string , numeric ) will be processed by worker=0
This would fix the NPE when using the search stream with partitionKeys.
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11770">SOLR-11770</a>: NPE in tvrh if no field is specified and document doesn't contain any fields with term vectors
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12541">SOLR-12541</a>: Metrics handler throws an error if there are transient cores.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12470">SOLR-12470</a>: Search Rate Trigger multiple bug fixes, improvements and documentation updates.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12665">SOLR-12665</a>: Autoscaling policy not being refreshed due to caching
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12649">SOLR-12649</a>: CloudSolrClient retries requests unnecessarily exception from server
<br /><span class="attrib">(noble, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12670">SOLR-12670</a>: RecoveryStrategy logs wrong wait time when retrying recovery.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12668">SOLR-12668</a>: Autoscaling trigger listeners should be executed in the order of their creation.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12475">SOLR-12475</a>: Fix MaxSizeAutoCommitTest failures
<br /><span class="attrib">(Rupa Shankar, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12674">SOLR-12674</a>: RollupStream should not use the HashQueryParser for 1 worker.
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12679">SOLR-12679</a>: MiniSolrCloudCluster internal jetty list should never have duplicates
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12598">SOLR-12598</a>: Do not fetch non-stored fields
<br /><span class="attrib">(Nikolay Khitrin, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12683">SOLR-12683</a>: HashQuery will throw an exception if more than 4 partitionKeys is specified.
Earlier after the 4th partitionKey the keys would be silently ignored.
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10028">SOLR-10028</a>: Fix and improvements to SegmentsInfoRequestHandlerTest
<br /><span class="attrib">(Christine Poerschke, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11585">SOLR-11585</a>: Solr SQL does not work with point numeric fields
<br /><span class="attrib">(Joel Bernstein, Kiran Chitturi)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12704">SOLR-12704</a>: Guard AddSchemaFieldsUpdateProcessorFactory against null field names and field values.
<br /><span class="attrib">(Steve Rowe, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12733">SOLR-12733</a>: SolrMetricReporterTest failure
<br /><span class="attrib">(Erick Erickson, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12765">SOLR-12765</a>: Incorrect format of JMX cache stats.
<br /><span class="attrib">(Bojan Smid, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12749">SOLR-12749</a>: timeseries() expression missing sum() results for empty buckets
<br /><span class="attrib">(Joel Bernstein)</span></li>
    </ol>
  </li>
  <li><a id="v7.5.0.optimizations" href="javascript:toggleList('v7.5.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(12)
    <ol id="v7.5.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12350">SOLR-12350</a>: Do not use docValues as stored for _str (copy)fields in _default configset
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12455">SOLR-12455</a>: Refactor JSON serialization code into SolrJ package
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11654">SOLR-11654</a>: Time Routed Alias will now route documents to the ideal shard of a collection, thus avoiding a hop.
Usually documents were already routed well but not always.
<br /><span class="attrib">(Gus Heck, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11598">SOLR-11598</a>: The export handler does not limit users to 4 sort fields and is now unlimited. However the speed at
which we can export is directly proportional to the number of sort fields specified. This change also allows streaming
expressions to group by on more than 4 fields.
<br /><span class="attrib">(Aroop Ganguly, Amrit Sarkar, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12305">SOLR-12305</a>: When a replica is applying updates, some kind of updates can skip buffering for faster recovery.
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12509">SOLR-12509</a>: Improve SplitShardCmd performance and reliability. A new method of splitting has been
introduced (splitMethod=link) which uses hard-linking of index files when possible, resulting in
significant speedups and reduced CPU / IO load on shard leader.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11881">SOLR-11881</a>: Retry update requests sent by leaders to it's followers
<br /><span class="attrib">(Varun Thacker, Mark Miller, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12616">SOLR-12616</a>: Optimize Export writer upto 4 sort fields to get better performance.
This was removed in <a href="http://issues.apache.org/jira/browse/SOLR-11598">SOLR-11598</a> but brought back in the same version
<br /><span class="attrib">(Amrit Sarkar, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12572">SOLR-12572</a>: While exporting documents using the export writer, if a field is specified as a sort parameter and also
in the fl (field list) parameter, we save on one doc-value lookup. This can bring performance improvements of 15%
and upwards depending on how many fields are in common.
<br /><span class="attrib">(Amrit Sarkar, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10697">SOLR-10697</a>: HttpShardHandler now uses a default of 100k as maxConnections (10k previously) and default
maxConnectionsPerHost as 100k (20 previously). They are now consisent with the UpdateShardHandler defaults.
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12723">SOLR-12723</a>: Reduce object creation in HashBasedRouter.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12766">SOLR-12766</a>: When retrying internal requests, backoff only once for the full batch of retries
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
    </ol>
  </li>
  <li><a id="v7.5.0.other_changes" href="javascript:toggleList('v7.5.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(26)
    <ol id="v7.5.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12208">SOLR-12208</a>: Renamed the autoscaling variable 'INDEX.sizeInBytes' to 'INDEX.sizeInGB'
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12523">SOLR-12523</a>: Improve error reporting and docs regarding Collection backup feature shared-fs requirement
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12468">SOLR-12468</a>: Upgrade Jetty to 9.4.11.v20180605
<br /><span class="attrib">(Michael Braun, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12527">SOLR-12527</a>: factor out a test-framework/ConfigRequest class
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12412">SOLR-12412</a>: Leader should give up leadership when IndexWriter.tragedy occur
<br /><span class="attrib">(Cao Manh Dat, Tomas Fernandez-Lobbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12551">SOLR-12551</a>: Upgrade to Tika 1.18
<br /><span class="attrib">(Tim Allison via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12464">SOLR-12464</a>: Reduce Overseer.close() logging (for non-Overseer leaders)
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12454">SOLR-12454</a>: Tweak Overseer leadership transition related logging for easier troubleshooting.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12574">SOLR-12574</a>: Put under a common "significantTerms" bucket all output by SignificantTerms Query Parser
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12164">SOLR-12164</a>: Improve Ref Guide main landing page.
<br /><span class="attrib">(Cassandra Targett)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10984">SOLR-10984</a>: Clean up web.xml, removing old redirects and outdated comments
<br /><span class="attrib">(Varun Thacker, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12617">SOLR-12617</a>: Remove Commons BeanUtils as a dependency
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11008">SOLR-11008</a>: Use a lighter config for MetricsHandlerTest and ensure the core is up before the test starts
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11766">SOLR-11766</a>: Move Streaming Expressions section in Ref Guide to be a top-level section.
<br /><span class="attrib">(Cassandra Targett)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12656">SOLR-12656</a>: ShardSplitTest should extend AbstractFullDistribZkTestBase instead of BasicDistributedZkTest.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-8456">LUCENE-8456</a>: Upgrade Apache Commons Compress to v1.18
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12014">SOLR-12014</a>: Cryptic error message when creating a collection with sharding that violates autoscaling policies
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12680">SOLR-12680</a>: Fix ClassCastException and AIOOBE in TestSolrConfigHandlerConcurrent.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12675">SOLR-12675</a>: Make LeaderVoteWaitTimeoutTest more resilient against side effects of test methods.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12130">SOLR-12130</a>: CdcrReplicationDistributedZkTest is broken into two test classes, CdcrOpsAndBoundariesTest which does
not require node restarts and CdcrWithNodesRestartsTest which does. The tests themselves are made faster and more
resilient to spurious failures.
<br /><span class="attrib">(Varun Thacker, Amrit Sarkar via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12625">SOLR-12625</a>: Combine SolrDocumentFetcher and RetrieveFieldsOptimizer
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12690">SOLR-12690</a>: Regularize LoggerFactory declarations
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12590">SOLR-12590</a>: Improve Solr resource loader coverage in the ref guide.
<br /><span class="attrib">(Steve Rowe, Cassandra Targett, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12744">SOLR-12744</a>: Improve logging messages and verbosity around recoveries
<br /><span class="attrib">(Cao Manh Dat, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8742">SOLR-8742</a>: In HdfsDirectoryTest replace RAMDirectory usages with ByteBuffersDirectory.
<br /><span class="attrib">(hossman, Mark Miller, Andrzej Bialecki, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12771">SOLR-12771</a>: Improve Autoscaling Policy and Preferences documentation.
<br /><span class="attrib">(hossman, Steve Rowe)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v7.4.0" href="javascript:toggleList('v7.4.0')">Release 7.4.0  [2018-06-27]</a></h3>
<ul id="v7.4.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v7.4.0.versions_of_major_components" href="javascript:toggleList('v7.4.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v7.4.0.versions_of_major_components.list">
      <li>Apache Tika 1.17
</li>
      <li>Carrot2 3.16.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.11
</li>
      <li>Jetty 9.4.10.v20180503
</li>
    </ol>
  </li>
  <li><a id="v7.4.0.upgrade_notes" href="javascript:toggleList('v7.4.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v7.4.0.upgrade_notes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7887">SOLR-7887</a>: Solr now uses Log4J 2.11 . The log4j configuration is now in log4j2.xml rather than log4j.properties files.
This is a server side change only and clients using SolrJ won't need any changes. Clients can still use any logging
implementation which is compatible with SLF4J. We now let log4j2 handle rotation of solr logs at startup, and bin/solr
start scripts will no longer attempt this nor move existing console or GC logs into logs/archived either (<a href="http://issues.apache.org/jira/browse/SOLR-12144">SOLR-12144</a>).
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11673">SOLR-11673</a>: Slave doesn't commit empty index when completely new index is detected on master during replication.
To return the previous behavior pass false to skipCommitOnLeaderVersionZero in slave section of replication
handler configuration, or pass it to the fetchindex command.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11453">SOLR-11453</a>: Configuring slowQueryThresholdMillis now logs slow requests to a separate file - solr_slow_requests.log.
Previously they would get logged in the solr.log file.
<p>
</li>
    </ol>
  </li>
  <li><a id="v7.4.0.new_features" href="javascript:toggleList('v7.4.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(37)
    <ol id="v7.4.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12396">SOLR-12396</a>: Upgrade Carrot2 to 3.16.0, HPPC to 0.8.1, morfologik to 2.1.5.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11200">SOLR-11200</a>: A new CMS config option 'ioThrottle' to manually enable/disable
ConcurrentMergeSchedule.doAutoIOThrottle.
<br /><span class="attrib">(Amrit Sarkar, Nawab Zada Asad iqbal via Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11670">SOLR-11670</a>: Implement a periodic house-keeping task. This uses a scheduled autoscaling trigger and
currently performs cleanup of old inactive shards.
<br /><span class="attrib">(ab, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12015">SOLR-12015</a>: Add support "add-distinct" in AtomicURP so that we can use the 'add-distict' as a request parameter e.g:
atomic.&lt;multival-field-name&gt;=add-distict
<br /><span class="attrib">(Amrit Sarkar via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7887">SOLR-7887</a>: Upgrade Solr to use Log4J 2.11
<br /><span class="attrib">(Tim Potter, Keith Laban, Shawn Heisey, Ralph Goers, Erick Erickson, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12139">SOLR-12139</a>: The "eq" (equals) function query now works with string fields, string literals, and perhaps anything.
<br /><span class="attrib">(Andrey Kudryavtsev, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10783">SOLR-10783</a>: Add support for Hadoop Credential Provider as SSL/TLS store password source.
<br /><span class="attrib">(Mano Kovacs via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12036">SOLR-12036</a>: Factor out DefaultStreamFactory solrj class.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12151">SOLR-12151</a>: Add abstract MultiSolrCloudTestCase class.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12181">SOLR-12181</a>: Add index size autoscaling trigger, based on document count or size in bytes.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11982">SOLR-11982</a>: Add possibility to define replica order with the shards.preference parameter to e.g. prefer PULL replicas
for distributed queries.
<br /><span class="attrib">(Ere Maijala, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11336">SOLR-11336</a>: DocBasedVersionConstraintsProcessorFactory is more extensible and now supports a list of versioned fields.
(versionField config may now be a comma-delimited list).
<br /><span class="attrib">(Michael Braun via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11913">SOLR-11913</a>: SolrJ SolrParams now implements Iterable&lt;Map.Entry&lt;String, String[]&gt;&gt; and also has a stream() method
using it for convenience.
<br /><span class="attrib">(David Smiley, Tapan Vaishnav)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11924">SOLR-11924</a>: Added the ability to listen to changes in the set of active collections in a cloud
in the ZkStateReader, through the CloudCollectionsListener.
<br /><span class="attrib">(Houston Putman, Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8998">SOLR-8998</a>: introducing uniqueBlock(_root_) aggregation as faster alternative to unique(_root_) for counting
child value facets in parents via json.facet on block index
<br /><span class="attrib">(Dr Oleg Savrasov, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12278">SOLR-12278</a>: Add IgnoreLargeDocumentProcessFactory
<br /><span class="attrib">(Cao Manh Dat, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11277">SOLR-11277</a>: Add auto hard-commit settings based on tlog size
<br /><span class="attrib">(Rupa Shankar, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9480">SOLR-9480</a>: A new 'relatedness()' aggregate function for JSON Faceting to enable building Semantic
Knowledge Graphs.
<br /><span class="attrib">(Trey Grainger, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11453">SOLR-11453</a>: Configuring slowQueryThresholdMillis logs slow requests to a separate file - solr_slow_requests.log.
<br /><span class="attrib">(Shawn Heisey, Remko Popma, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12401">SOLR-12401</a>: Add getValue() and setValue() Stream Evaluators
<br /><span class="attrib">(Joel Bernstein, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12378">SOLR-12378</a>: Support missing versionField on indexed docs in DocBasedVersionConstraintsURP.
<br /><span class="attrib">(Oliver Bates, Michael Braun via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12388">SOLR-12388</a>: Enable a strict ZooKeeper-connected search request mode, in which search
requests will fail when the coordinating node can't communicate with ZooKeeper,
by setting the "shards.tolerant" param to "requireZkConnected".
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9685">SOLR-9685</a>: #Tagging queries in JSON Query DSL, equivalent to LocalParams based query/filter
tagging.  Multiple tags are comma separated.
LocalParams Example     : {!tag=colorfilt}color:blue
Equivalent JSON Example : { "#colorfilt" : "color:blue" }
<br /><span class="attrib">(Dmitry Tikhonov, Mikhail Khludnev, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12328">SOLR-12328</a>: JSON Facet API: Domain change with graph query.
<br /><span class="attrib">(Daniel Meehl, Kevin Watters, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11453">SOLR-11453</a>: Configuring slowQueryThresholdMillis logs slow requests to a separate file - solr_slow_requests.log.
<br /><span class="attrib">(Shawn Heisey, Remko Popma, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12401">SOLR-12401</a>: Add getValue() and setValue() Stream Evaluators
<br /><span class="attrib">(Joel Bernstein, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11779">SOLR-11779</a>, <a href="http://issues.apache.org/jira/browse/SOLR-12438">SOLR-12438</a>: Basic long-term collection of aggregated metrics. Historical data is
maintained as multi-resolution time series using round-robin databases in the '.system'
collection. New /admin/metrics/history API allows retrieval of this data in numeric
or graph formats.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12387">SOLR-12387</a>: cluster-wide defaults for numShards, nrtReplicas, tlogReplicas, pullReplicas
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12389">SOLR-12389</a>: support deeply nested json objects in clusterprops.json
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12376">SOLR-12376</a>: Added the TaggerRequestHandler (AKA SolrTextTagger) for tagging text.  It's used as a component of
NER/ERD systems including query-understanding.  See the ref guide for more info.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12266">SOLR-12266</a>: Add discrete Fourier transform Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12158">SOLR-12158</a>: Allow the monteCarlo Stream Evaluator to support variables
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11734">SOLR-11734</a>: Add ones and zeros Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12273">SOLR-12273</a>: Create Stream Evaluators for distance measures
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12159">SOLR-12159</a>: Add memset Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12221">SOLR-12221</a>: Add valueAt Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12175">SOLR-12175</a>: Add random field type and dynamic field to the default managed-schema
<br /><span class="attrib">(Joel Bernstein)</span></li>
    </ol>
  </li>
  <li><a id="v7.4.0.bug_fixes" href="javascript:toggleList('v7.4.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(57)
    <ol id="v7.4.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5351">SOLR-5351</a>: Fixed More Like This Handler to use all fields provided in mlt.fl when used with
content stream. The similarity is calculated between the content stream's value and all
fields listed in mlt.fl.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12103">SOLR-12103</a>: Raise CryptoKeys.DEFAULT_KEYPAIR_LENGTH from 1024 to 2048.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12107">SOLR-12107</a>: Fixed a error in [child] transformer that could ocur if documentCache was not used
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12108">SOLR-12108</a>: Fixed the fallback behavior of [raw] and [xml] transformers when an incompatble 'wt' was
specified, the field value was lost if documentCache was not used.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11551">SOLR-11551</a>: Standardize CoreAdmin API success/failure status codes
<br /><span class="attrib">(Jason Gerlowski, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12035">SOLR-12035</a>: ExtendedDismaxQParser fails to include charfilters in nostopanalyzer
<br /><span class="attrib">(Tim Allison via
Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10734">SOLR-10734</a>: AtomicUpdateRequestProcessor can cause wrong/old values to be set under concurrent updates for the same
document. Multithreaded test for AtomicUpdateRequestProcessor was also beefed up and fixed.
<br /><span class="attrib">(Ishan Chattopadhyaya, Noble Paul, Amrit Sarkar, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11673">SOLR-11673</a>: By default slave doesn't commit empty index when completely new index appears on master.
See Upgrade Notes to find a way to get back to the previous behavior.
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9399">SOLR-9399</a>: Delete requests do not send credentials &amp; fails for Basic Authentication
<br /><span class="attrib">(Susheel Kumar, Aibao Luo, Nikkolay Martinov via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12172">SOLR-12172</a>: Fixed race condition that could cause an invalid set of collection properties to be kept in
memory when multiple collection property changes are done in a short period of time.
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11929">SOLR-11929</a>: UpdateLog metrics are not initialized on core reload.
<br /><span class="attrib">(ab, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11882">SOLR-11882</a>: SolrMetric registries retained references to SolrCores when closed. A
change of SolrMetricMAnager.registerGauge and SolrMetricProducer.initializeMetrics
method signatures was required to fix it. Third party components may continue to use the old API
but should be updated to avoid this bug
<br /><span class="attrib">(Eros Taborelli, Erick Erickson, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12199">SOLR-12199</a>: TestReplicationHandler.doTestRepeater(): TEST_PORT interpolation failure:
Server refused connection at: http://127.0.0.1:TEST_PORT/solr
<br /><span class="attrib">(Mikhail Khludnev, Dawid Weiss, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12096">SOLR-12096</a>: Fixed inconsistent results format of subquery transformer for distributed search (multi-shard).
<br /><span class="attrib">(Munendra S N, Mikhail Khludnev via Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12207">SOLR-12207</a>: Just rethrowing AssertionError caused by jdk bug in reflection with invocation details.
<br /><span class="attrib">(ab, Dawid Weiss, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12155">SOLR-12155</a>: Exception from UnInvertedField constructor puts threads to infinite wait.
<br /><span class="attrib">(Andrey Kudryavtsev, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12201">SOLR-12201</a>: TestReplicationHandler.doTestIndexFetchOnLeaderRestart(): handle unexpected replication failures
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12190">SOLR-12190</a>: Need to properly escape output in GraphMLResponseWriter.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12214">SOLR-12214</a>: Leader may skip publish itself as ACTIVE when its last published state is DOWN
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12150">SOLR-12150</a>: Fix a test bug in CdcrBidirectionalTest.testBiDir
<br /><span class="attrib">(Steve Rowe, Amrit Sarkar via Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10513">SOLR-10513</a>: ConjunctionSolrSpellChecker did not work with LuceneLevenshteinDistance
<br /><span class="attrib">(Amrit Sarkar via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11840">SOLR-11840</a>: Fix bin/solr help-text inconsistencies
<br /><span class="attrib">(Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10169">SOLR-10169</a>: PeerSync will hit an NPE on no response errors when looking for fingerprint.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12187">SOLR-12187</a>: Replica should watch clusterstate and unload itself if its entry is removed
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6286">SOLR-6286</a>: TestReplicationHandler.doTestReplicateAfterCoreReload(): stop checking for identical
commits before/after master core reload; and make non-nightly mode test 10 docs instead of 0.
<br /><span class="attrib">(shalin, hossman, Mark Miller, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9304">SOLR-9304</a>: Fix Solr's HTTP handling to respect '-Dsolr.ssl.checkPeerName=false' aka SOLR_SSL_CHECK_PEER_NAME
<br /><span class="attrib">(Shawn Heisey, Carlton Findley, Robby Pond, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12250">SOLR-12250</a>: NegativeArraySizeException on TransactionLog if previous document more than 1.9GB
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12253">SOLR-12253</a>: Remove optimize button from the core admin page
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11833">SOLR-11833</a>: Allow searchRate trigger to delete replicas. Improve configurability of the trigger by specifying
upper / lower thresholds and respective actions
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12261">SOLR-12261</a>: If you attempt to delete a collection immediately after deleting an alias it used to be a part of, you may
get an error that's it's a member of that alias.  This check now ensures the alias state is sync()'ed with ZK first.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12275">SOLR-12275</a>: wrong caching for {!filters} as well as for `filters` local param in {!parent} and {!child}
<br /><span class="attrib">(David Smiley, Mikhail Khluldnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12284">SOLR-12284</a>: WordBreakSolrSpellchecker will no longer add parenthesis in collations when breaking words in
non-boolean queries.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12290">SOLR-12290</a>: Do not close any servlet streams and improve our servlet stream closing prevention code for users
and devs.
<br /><span class="attrib">(Mark Miller, janhoy, Andrzej Bialecki)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12293">SOLR-12293</a>: Updates need to use their own connection pool to maintain connection reuse and prevent spurious
recoveries.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12308">SOLR-12308</a>: LISTALIASES is now assured to return an up-to-date response.  Also, the test utility
MiniSolrCloudCluster.deleteAllCollections will now first delete aliases since a collection cannot be deleted if an
alias refers to it.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12192">SOLR-12192</a>: Fixed a solr cli error message when ulimits are unlimited.
<br /><span class="attrib">(Martijn Koster)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12258">SOLR-12258</a>: A V2 request referencing a collection or alias may fail to resolve it if it was just recently created.
Now we sync with ZooKeeper and try one more time.  V1 partially did this but only for aliases; now it does both.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12170">SOLR-12170</a>: JSON Facet API: Terms facet on a date field sometimes failed with an exception complaining
about "Invalid Date String".
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12307">SOLR-12307</a>: exiting OverseerTriggerThread without endless noise in log when Zookeeper session is expired
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12200">SOLR-12200</a>: abandon OverseerExitThread when ZkController is closed.
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12355">SOLR-12355</a>: Fixes hash conflict in HashJoinStream and OuterHashJoinStream
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12377">SOLR-12377</a>: Don't spin off overseer when Zk controller is closed
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3567">SOLR-3567</a>: Spellcheck custom parameters not being passed through due to wrong prefix creation.
<br /><span class="attrib">(Josh Lucas via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12358">SOLR-12358</a>: Autoscaling suggestions fail randomly with sorting
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12294">SOLR-12294</a>: update processors loaded from runtime jars fail to load if they are specified
in an update processor chain
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12314">SOLR-12314</a>: Use http timeout's defined in solr.xml for creating ConcurrentUpdateSolrClient during
indexing requests between leader and replica
<br /><span class="attrib">( Mark Miller, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12290">SOLR-12290</a>: Do not close any servlet streams and improve our servlet stream closing prevention code for users
and devs.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12374">SOLR-12374</a>: SnapShooter.getIndexCommit can forget to decref the searcher; though it's not clear in practice when.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12417">SOLR-12417</a>: velocity response writer should enforce valid function name for v.json parameter
<br /><span class="attrib">(Mano Kovacs, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12271">SOLR-12271</a>: Fixed bug in how Analytics component reads negative values from float and double fields.
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12433">SOLR-12433</a>: Recovering flag of a replica is set equals to leader even it failed to receive update
on recovering.
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12354">SOLR-12354</a>: Register the /admin/info/key end-point at the startup time to avoid 404
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12445">SOLR-12445</a>: Upgrade Dropwizard Metrics to version 3.2.6.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12434">SOLR-12434</a>: bin/solr {config,healthcheck} ignore ZK_HOST in solr.in.{sh,cmd}
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12481">SOLR-12481</a>: update.autoCreateFields must be set via Config API command 'set-user-property',
but 'bin/solr create' tells users to use the default action 'set-property', which fails
because the property is not editable.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12416">SOLR-12416</a>: When creating a time routed alias, the router.autoDeleteAge option wasn't considered.
<br /><span class="attrib">(Joachim Sauer via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12450">SOLR-12450</a>: Don't allow referal to external resources in various config files (CVE-2018-8026).
<br /><span class="attrib">(Yuyang Xiao, Uwe Schindler)</span></li>
    </ol>
  </li>
  <li><a id="v7.4.0.optimizations" href="javascript:toggleList('v7.4.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(13)
    <ol id="v7.4.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11920">SOLR-11920</a>: IndexFetcher now fetches only those files (from master/leader) that are different. This
differential fetching now speeds up recovery times when full index replication is needed, but only
a few segments diverge.
<br /><span class="attrib">(Ishan Chattopadhyaya, Shaun Sabo, John Gallagher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11731">SOLR-11731</a>: LatLonPointSpatialField can now decode points from docValues when stored=false docValues=true,
albeit with maximum precision of 1.37cm
<br /><span class="attrib">(Karthik Ramachandran, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11891">SOLR-11891</a>: DocStreamer now respects the ReturnFields when populating a SolrDocument, reducing the
number of unneccessary fields a ResponseWriter will see if documentCache is used
<br /><span class="attrib">(wei wang, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12312">SOLR-12312</a>: Replication IndexFetcher should cap its internal buffer size when the file being transferred is small.
<br /><span class="attrib">(Jeff Miller, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12333">SOLR-12333</a>: Removed redundant lines for handling lists in JSON reponse writers.
<br /><span class="attrib">(David Smiley via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11880">SOLR-11880</a>: Avoid creating new exceptions for every request made to MDCAwareThreadPoolExecutor by distributed
search and update operations.
<br /><span class="attrib">(Varun Thacker, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12375">SOLR-12375</a>: Optimize Lucene ScoreMode use:
A non-cached filter query could be told incorrectly that scores were needed.
The /export (ExportQParserPlugin) would declare incorrectly that scores are needed.
Expanded docs (expand component) could be told incorrectly that scores are needed.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12338">SOLR-12338</a>: Replay buffering tlog in parallel.
<br /><span class="attrib">(Cao Manh Dat, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12366">SOLR-12366</a>: A slow "live docs" implementation was being used instead of a bitset.  Affects classic faceting
enum method, JSON Facets enum method, UnInvertedField faceting, GraphTermsQParser, JoinQParser.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12337">SOLR-12337</a>: Remove the obsolete QueryWrapperFilter intermediate wrapper, which also removed some needless uses of
SolrConstantScoreQuery as well.  QWF since v5.4.0 sometimes needlessly internally executed and cached the query.
Affects ExpandComponent, ChildDocTransformer, CurrencyFieldType, TermsQParser.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9922">SOLR-9922</a>: Write buffering updates to another tlog.
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12233">SOLR-12233</a>: QParserPlugin's built-in static registry now holds actual QParserPlugin instances instead of class
references.  This is consistent with other plugin registries and allows a SolrCore to load faster.
<br /><span class="attrib">(Jeff Miller, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12198">SOLR-12198</a>: Stream Evaluators should not copy matrices needlessly
<br /><span class="attrib">(Joel Bernstein)</span></li>
    </ol>
  </li>
  <li><a id="v7.4.0.other_changes" href="javascript:toggleList('v7.4.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(29)
    <ol id="v7.4.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12018">SOLR-12018</a>: Remove comments.apache.org integration for the Ref Guide; the comments system has been down since December 2017 and there is no concrete plan to bring it back.
<br /><span class="attrib">(Cassandra Targett)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12076">SOLR-12076</a>: Remove unnecessary printLayout usage in CDCR tests
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12086">SOLR-12086</a>: Fix format problem in FastLRUCache description string shown on Cache Statistics page.
<br /><span class="attrib">(Sathiya N Sundararajan via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12090">SOLR-12090</a>: Move DistribStateManager, NodeStateProvider and SolrCloudManager interfaces out of the
autoscaling package.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12091">SOLR-12091</a>: Rename TimeSource.getTime to getTimeNs.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12101">SOLR-12101</a>: ZkTestServer was not handling connection timeout settings properly.
<br /><span class="attrib">(Gus Heck via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11331">SOLR-11331</a>: Ability to run and debug standalone Solr and a single node SolrCloud server from Eclipse.
Also being able to run all Lucene and Solr tests as a configuration
<br /><span class="attrib">(Karthik Ramachandran via
Varun Thacker, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12118">SOLR-12118</a>: Solr Ref-Guide can now use some ivy version props directly as attributes in content
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12152">SOLR-12152</a>: Split up TriggerIntegrationTest into multiple tests to isolate and increase reliability.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12133">SOLR-12133</a>: Fix race conditions that caused TriggerIntegrationTest.testEventQueue and testNodeMarkersRegistration
to fail.
<br /><span class="attrib">(Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12169">SOLR-12169</a>: Fix ComputePlanActionTest.testSelectedCollections fails on jenkins by aggressively cleaning up
trigger state left by other test methods in the test setup.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12144">SOLR-12144</a>: SOLR_LOG_PRESTART_ROTATION now defaults to false, we leverage log4j2 for log rotation on startup
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12095">SOLR-12095</a>: AutoScalingHandler validates trigger configurations before updating Zookeeper.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12165">SOLR-12165</a>: Ref Guide: DisMax default mm param value is improperly documented as 100%.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12154">SOLR-12154</a>: Disallow explicit usage of Log4j2 logger via forbidden APIs.
<br /><span class="attrib">(Varun Thacker, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12176">SOLR-12176</a>: Improve FORCELEADER to handle the case when a replica win the election but does not present
in clusterstate
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12134">SOLR-12134</a>: ref-guide 'bare-bones html' validation is now part of 'ant documentation' and validates
javadoc links locally.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12142">SOLR-12142</a>: EmbeddedSolrServer should use req.getContentWriter
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12252">SOLR-12252</a>: Fix minor compiler and intellij warnings in autoscaling policy framework.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11914">SOLR-11914</a>: The following SolrParams methods are now deprecated: toSolrParams (use NamedList.toSolrParams instead),
toMap, toMultiMap, toFilteredSolrParams, getAll.  The latter ones have no direct replacement but are easy to
implement yourself as-needed.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10036">SOLR-10036</a>: Upgrade jackson from 2.5.4 to 2.9.5
<br /><span class="attrib">(Shashank Pedamallu, Shawn Heisey, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12289">SOLR-12289</a>: Add more MDC logging information to collection admin requests
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12288">SOLR-12288</a>: Add more MDC logging information to core admin requests
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12265">SOLR-12265</a>: Upgrade Jetty to 9.4.10.v20180503
<br /><span class="attrib">(Varun Thacker, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12374">SOLR-12374</a>: Added SolrCore.withSearcher(lambda) to make grabbing the searcher easier than the more awkward
RefCounted API.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12183">SOLR-12183</a>: Refactor Streaming Expression test cases
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12437">SOLR-12437</a>: Document 'bin/solr config' in the ref guide.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12435">SOLR-12435</a>: Fix bin/solr help and ref guide text to describe ZK_HOST in solr.in.sh/solr.in.cmd
as an alternative to -z cmdline param.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12428">SOLR-12428</a>: Solr LTR jar now included in _default configset's solrconfig.xml
<br /><span class="attrib">(Ishan Chattopadhyaya)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v7.3.1" href="javascript:toggleList('v7.3.1')">Release 7.3.1  [2018-05-15]</a></h3>
<ul id="v7.3.1.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v7.3.1.versions_of_major_components" href="javascript:toggleList('v7.3.1.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v7.3.1.versions_of_major_components.list">
      <li>Apache Tika 1.17
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.11
</li>
      <li>Jetty 9.4.8.v20171121
</li>
    </ol>
  </li>
  <li><a id="v7.3.1.bug_fixes" href="javascript:toggleList('v7.3.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(9)
    <ol id="v7.3.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12204">SOLR-12204</a>: Upgrade commons-fileupload dependency to 1.3.3 to address CVE-2016-1000031.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12256">SOLR-12256</a>: Fixed some eventual-consistency issues with collection aliases by using ZooKeeper.sync().
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12087">SOLR-12087</a>: Deleting replicas sometimes fails and causes the replicas to exist in the down
state
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12146">SOLR-12146</a>: LIR should skip deleted replicas
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12066">SOLR-12066</a>: Cleanup deleted core when node start
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12065">SOLR-12065</a>: A successful restore collection should mark the shard state as active and not buffering
<br /><span class="attrib">(Rohit, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11724">SOLR-11724</a>: Cdcr bootstrapping should ensure that non-leader replicas should sync with the leader
<br /><span class="attrib">(Amrit Sarkar, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12202">SOLR-12202</a>: Fix errors in solr-exporter.cmd.
<br /><span class="attrib">(Minoru Osuka via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12316">SOLR-12316</a>: Do not allow to use absolute URIs for including other files in solrconfig.xml
and schema parsing (CVE-2018-8010).
<br /><span class="attrib">(Ananthesh, Ishan Chattopadhyaya, Uwe Schindler)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v7.3.0" href="javascript:toggleList('v7.3.0')">Release 7.3.0  [2018-04-04]</a></h3>
<ul id="v7.3.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v7.3.0.versions_of_major_components" href="javascript:toggleList('v7.3.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v7.3.0.versions_of_major_components.list">
      <li>Apache Tika 1.16
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.11
</li>
      <li>Jetty 9.4.8.v20171121
</li>
    </ol>
  </li>
  <li><a id="v7.3.0.upgrade_notes" href="javascript:toggleList('v7.3.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(10)
    <ol id="v7.3.0.upgrade_notes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11748">SOLR-11748</a>: The throttling mechanism used to limit the rate of autoscaling events processed
has been removed. This deprecates the 'actionThrottlePeriodSeconds' setting in the set-properties
Autoscaling API which is now a no-op. Use the 'triggerCooldownPeriodSeconds' instead to pause event
processing.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11798">SOLR-11798</a>: The top-level &lt;highlighting&gt; syntax in solrconfig.xml is now formally
deprecated in favour of &lt;searchComponent&gt; equivalent syntax. See also <a href="http://issues.apache.org/jira/browse/SOLR-1696">SOLR-1696</a>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11809">SOLR-11809</a>: QueryComponent's rq parameter parsing no longer considers the defType parameter.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11747">SOLR-11747</a>: The behaviour of the autoscaling system has been modified to pause all triggers from execution between
the start of actions and end of cool down period. The triggers will be resumed after the cool down period expires.
Previously, the cool down period was a fixed period started after actions for a trigger event complete and during
this time, all triggers continued to run but any events were rejected to be tried later.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11624">SOLR-11624</a>: Collections created without specifying a configset name use a copy of the _default configset since 7.0.
Before 7.3, the copied over configset was named the same as the collection name, but 7.3 onwards it will be named
with an additional ".AUTOCREATED" suffix.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11702">SOLR-11702</a>: The old Leader-In-Recovery implementation (<a href="http://issues.apache.org/jira/browse/SOLR-5495">SOLR-5495</a>) is now deprecated and replaced. Solr will support
rolling upgrades from old 7.x versions of Solr to future 7.x releases until the last release of
the 7.x major version. This means in order to upgrade to Solr 8 in the future, you must be on Solr 7.3 or higher.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-8161">LUCENE-8161</a>: If you are using the spatial JTS library with Solr, you must upgrade to 1.15.0.  This new version
of JTS is now dual-licensed to include a BSD style license.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12051">SOLR-12051</a>: A new mechanism is introduced in <a href="http://issues.apache.org/jira/browse/SOLR-11702">SOLR-11702</a> to maintain consistency in SolrCloud between leader and replicas.
This mechanism lets Solr know whether a replica is in-sync with the leader or not, even when the leader is not live.
If all the replicas who participate in the leader election are out-of-sync with previous leader, the election will
pause until a timeout (named "leaderVoteWait") before allowing an out-of-sync replica to become leader. Note that the
new leader still needs to contains more updates than any other active replicas in the same shard. Therefore by
increasing leaderVoteWait will increase the consistency (over availability) of the system. The default value of
leaderVoteWait is 180,000 ms (3 minutes) and it can be adjusted in the "solrcloud" section of the solr.xml
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11957">SOLR-11957</a>: The default Solr log file size and number of backups is raised to 32MB and 10 respectively
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12067">SOLR-12067</a>: The default value of `autoReplicaFailoverWaitAfterExpiration` has been increased to 120 seconds
from the earlier default of 30 seconds. This affects how soon Solr adds new replicas to replace the replicas
on nodes which have either crashed or shutdown.
<p>
</li>
    </ol>
  </li>
  <li><a id="v7.3.0.new_features" href="javascript:toggleList('v7.3.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(44)
    <ol id="v7.3.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11285">SOLR-11285</a>: Simulation framework for autoscaling.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2899">LUCENE-2899</a>: In the Solr analysis-extras contrib, added support for the
OpenNLP-based analysis components in the Lucene analysis/opennlp module:
tokenization, part-of-speech tagging, phrase chunking, and lemmatization.
Also added OpenNLP-based named entity extraction as a Solr update request
processor.
<br /><span class="attrib">(Lance Norskog, Grant Ingersoll, Joern Kottmann, Em, Kai Gülzau,
Rene Nederhand, Robert Muir, Steven Bower, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11201">SOLR-11201</a>: Implement autoscaling trigger for arbitrary metrics that creates events when
a given metric breaches a threshold
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11653">SOLR-11653</a>: TimeRoutedAlias URP now auto-creates new collections on the fly according to alias metadata
rules that sets the time interval for each collection.  An internal Overseer command "ROUTEDALIAS_CREATECOLL"
was created to facilitate this.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11062">SOLR-11062</a>: new tag "diskType" in autoscaling policy
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11063">SOLR-11063</a>: Suggesters should accept required freedisk as a hint
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3218">SOLR-3218</a>: Added range faceting support for CurrencyFieldType.  This includes both "facet.range" as well
as json.facet's "type:range"
<br /><span class="attrib">(Andrew Morrison, Jan Høydahl, Vitaliy Zhovtyuk, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11064">SOLR-11064</a>: Collection APIs should use the disk space hint when using policy framework
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11854">SOLR-11854</a>: multivalued primitive fields can now be sorted by implicitly choosing the min/max
value for asc/desc sort orders.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11592">SOLR-11592</a>: Add OpenNLP language detection to the langid contrib.
<br /><span class="attrib">(Koji, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11648">SOLR-11648</a>: A new admin UI to display and execute suggestions
<br /><span class="attrib">(Apoorv Bhawsar , noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11722">SOLR-11722</a>: Added "time routed alias" creation support to the CREATEALIAS command.  It's for managing multiple
collections partitioned by time.
<br /><span class="attrib">(Gus Heck, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11782">SOLR-11782</a>: Refactor LatchWatcher.await to protect against spurious wakeup
<br /><span class="attrib">(Tomás Fernández Löbbe, David Smiley, Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11617">SOLR-11617</a>: Alias properties (formerly "metadata") are now mutable via a new ALIASPROP command.
These properties are returned from LISTALIASES.
<br /><span class="attrib">(Gus Heck via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11702">SOLR-11702</a>: Redesign current LIR implementation
<br /><span class="attrib">(Cao Manh Dat, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11376">SOLR-11376</a>: Support computing plans for only specific collections.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11681">SOLR-11681</a>: Add ttest and pairedTtest Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11785">SOLR-11785</a>: Add multiVariateNormalDistribution Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11789">SOLR-11789</a>: Add integrate Stream Evaluator to support integral calculations
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11791">SOLR-11791</a>: Add density Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11172">SOLR-11172</a>: Add Mann-Whitney U test Stream Evaluator
<br /><span class="attrib">(Mathew Skaria, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11808">SOLR-11808</a>: Add sumSq Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11430">SOLR-11430</a>: Add lerp and akima Stream Evaluators to support linear and akima spline interpolation
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11683">SOLR-11683</a>: Add chiSquareDataSet Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10716">SOLR-10716</a>: Add termVectors Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11737">SOLR-11737</a>: Add kmeans Stream Evaluator to support kmeans clustering
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11736">SOLR-11736</a>: Rename knn Streaming Expression to knnSearch and add new knn Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11867">SOLR-11867</a>: Add indexOf, rowCount and columnCount StreamEvaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11862">SOLR-11862</a>: Add fuzzyKmeans Stream Evaluatory
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11890">SOLR-11890</a>: Add multiKmeans Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11916">SOLR-11916</a>: new SortableTextField which supports analysis/searching just like TextField, but also
sorting/faceting just like StrField.  By default uses only the first 1024 chars of the original
input string values, but this is configurable.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11778">SOLR-11778</a>: Add per-stage RequestHandler metrics.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11925">SOLR-11925</a>: Time Routed Aliases can have their oldest collections automatically deleted via the "router.autoDeleteAge"
setting.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11941">SOLR-11941</a>: Add abstract contrib/ltr AdapterModel to facilitate the development of scoring models that delegate
scoring to an opaque pre-trained model.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11689">SOLR-11689</a>: Add l1norm, l2norm and linfnorm Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11588">SOLR-11588</a>: Add matrixMult Stream Evaluator to support matrix multiplication
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12006">SOLR-12006</a>: Add a '*_t' and '*_t_sort' dynamic field for single valued text fields
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11597">SOLR-11597</a>: Add contrib/ltr NeuralNetworkModel class.
<br /><span class="attrib">(Michael A. Alcorn, Yuki Yano, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11066">SOLR-11066</a>: Implement a scheduled autoscaling trigger that runs on a fixed interval beginning with a
given start time.
<br /><span class="attrib">(David Smiley, Gus Heck, ab, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11795">SOLR-11795</a>: Add Solr metrics exporter for Prometheus
<br /><span class="attrib">(Minoru Osuka via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11267">SOLR-11267</a>: Add support for "add-distinct" atomic update operation
<br /><span class="attrib">(Amrit Sarkar via noble )</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11960">SOLR-11960</a>: Add collection level properties similar to cluster properties
<br /><span class="attrib">(Peter Rusko, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12077">SOLR-12077</a>: Add support for autoAddReplicas in the collection creation dialog in Admin UI.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9510">SOLR-9510</a>: introducing {!filters param=$fq excludeTags=f} query parser.
Introducing {!.. filters=$fq excludeTags=t,q} in {!parent} and {!child}
<br /><span class="attrib">(Dr. Oleg Savrasov via Mikhail Khludnev)</span></li>
    </ol>
  </li>
  <li><a id="v7.3.0.bug_fixes" href="javascript:toggleList('v7.3.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(35)
    <ol id="v7.3.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11783">SOLR-11783</a>: Rename core in solr standalone mode is not persisted
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11555">SOLR-11555</a>: If the query terms reduce to nothing, filter(clause) produces an NPE whereas
fq=clause does not
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11824">SOLR-11824</a>: Fixed bucket ordering in distributed json.facet type:range when mincount&gt;0
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11821">SOLR-11821</a>: ConcurrentModificationException in SimSolrCloudTestCase.tearDown
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11631">SOLR-11631</a>: The Schema API should return non-zero status when there are failures.
<br /><span class="attrib">(Noble Paul, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11839">SOLR-11839</a>: Fix test failures resulting from <a href="http://issues.apache.org/jira/browse/SOLR-11218">SOLR-11218</a>
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11794">SOLR-11794</a>: PULL replicas stop replicating after collection RELOAD
<br /><span class="attrib">(Samuel Tatipamula, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11714">SOLR-11714</a>: AddReplicaSuggester  / ComputePlanAction infinite loop.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11895">SOLR-11895</a>: Logging Screen in the Admin UI will now show "No Events available" when there are no events to show.
Also, the spinner icon is removed to prevent users thinking the page has hung.
<br /><span class="attrib">(Cassandra Targett, Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10525">SOLR-10525</a>: Stacked recovery requests do no cancel an in progress recovery first.
<br /><span class="attrib">(Mike Drob via Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11873">SOLR-11873</a>: Use time based expiration cache in all necessary places in HdfsDirectoryFactory.
<br /><span class="attrib">(Mihaly Toth via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11661">SOLR-11661</a>: New HDFS collection reuses unremoved data from a deleted HDFS collection with same name causes
inconsistent view of documents
<br /><span class="attrib">(Cao Manh Dat, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11459">SOLR-11459</a>: In-place update of nonexistent doc following existing doc update fails to create the doc.
<br /><span class="attrib">(Andrey Kudryavtsev via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11931">SOLR-11931</a>: Fix contrib/ltr custom inner class feature/normaliser/model persistence.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10261">SOLR-10261</a>: In case of in-place updates, failure in leader to follower replica update request now throws the
follower replica in leader-initiated-recovery
<br /><span class="attrib">(Ishan Chattopadhyaya, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11898">SOLR-11898</a>: ConcurrentModificationException when calling org.apache.solr.core.SolrInfoBean.getMetricsSnapshot
<br /><span class="attrib">(Jeff Miller via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11950">SOLR-11950</a>: Allow CLUSTERSTATUS "shard" parameter to accept comma (,) delimited list
<br /><span class="attrib">(Chris Ulicny via Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11739">SOLR-11739</a>: Fix race condition that made Solr accept duplicate async IDs in collection API operations
<br /><span class="attrib">(Tomás Fernánadez Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11988">SOLR-11988</a>: Fix exists() method in EphemeralDirectoryFactory/MockDirectoryFactory to prevent false positives
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11971">SOLR-11971</a>: Don't allow referal to external resources in DataImportHandler's dataConfig request parameter (CVE-2018-1308).
<br /><span class="attrib">(麦 香浓郁, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12021">SOLR-12021</a>: Fixed a bug in ApiSpec and other JSON resource loading that was causing unclosed file handles
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10720">SOLR-10720</a>: Aggressive removal of a collection breaks cluster status API.
<br /><span class="attrib">(Alexey Serba, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12050">SOLR-12050</a>: UTILIZENODE does not enforce policy rules
<br /><span class="attrib">(hossman, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11843">SOLR-11843</a>: Admin UI collection creation was not properly handling the router.field and router.name parameters.
Also changed the display label in the Admin UI from routerField to router.field to match the actual API.
<br /><span class="attrib">(Shawn Heisey via Cassandra Targett)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12011">SOLR-12011</a>: Consistence problem when in-sync replicas are DOWN.
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12020">SOLR-12020</a>: JSON Facet API: terms facet on date field fails in refinement phase with
"Invalid Date String" error.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12061">SOLR-12061</a>: Fix substitution bug in API V1 to V2 migration when using SolrJ with V2 API.
<br /><span class="attrib">(Tomás Fernánadez Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11976">SOLR-11976</a>: TokenizerChain.normalize: only the first filter that is a MultiTermAwareComponent was participating
in normalization instead of all.  This bug normally doesn't matter since TextField doesn't call it.
<br /><span class="attrib">(Tim Allison via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12072">SOLR-12072</a>: Invalid path string using ZkConfigManager.copyConfigDir(String fromConfig, String toConfig)
<br /><span class="attrib">(Alessandro Hoss via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12064">SOLR-12064</a>: JSON Facet API: fix bug where a limit of -1 in conjunction with multiple facets or
missing=true caused an NPE or AIOOBE.
<br /><span class="attrib">(Karthik Ramachandran via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12083">SOLR-12083</a>: Fix RealTime GET to work on a cluster running CDCR when using Solr's in-place updates
<br /><span class="attrib">(Amrit Sarkar, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12063">SOLR-12063</a>: Fix PeerSync, Leader Election failures and CDCR checkpoint inconsistencies on a cluster running CDCR
<br /><span class="attrib">(Amrit Sarkar, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12110">SOLR-12110</a>: Replica which failed to register in Zk can become leader
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12129">SOLR-12129</a>: After the core is reloaded, term of the core will not be watched
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12141">SOLR-12141</a>: Fix "bin/solr" shell scripts (Windows/Linux/Mac) to correctly detect major Java version
and use numerical version comparison to enforce minimum requirements. Also remove obsolete "UseParNewGC" option.
This allows to start Solr with Java 10 or later.
<br /><span class="attrib">(Uwe Schindler)</span></li>
    </ol>
  </li>
  <li><a id="v7.3.0.optimizations" href="javascript:toggleList('v7.3.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v7.3.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11711">SOLR-11711</a>: Fixed distributed processing of facet.field/facet.pivot sub requests to prevent requesting
unneccessary and excessive '0' count terms from each shard
<br /><span class="attrib">(Houston Putman via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-8149">LUCENE-8149</a>: NRTCachingDirectory does not need to preemptively delete segment files and generate exceptions
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11879">SOLR-11879</a>: avoid EOFException for empty input streams
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8327">SOLR-8327</a>: Cluster state caching to avoid live fetch from ZK of cluster state for forwarding requests on nodes
that do not host any replica of the collection
<br /><span class="attrib">(Jessica Cheng Mallet, John Gallagher, Noble Paul, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11769">SOLR-11769</a>: Optimize when useFilterForSortedQuery=true and there are no filter queries by avoiding
needless match-all-docs bitset construction.
<br /><span class="attrib">(Betim Deva, David Smiley)</span></li>
    </ol>
  </li>
  <li><a id="v7.3.0.other_changes" href="javascript:toggleList('v7.3.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(45)
    <ol id="v7.3.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11629">SOLR-11629</a>: Add more intuitive CloudSolrClient.Builder constructors
<br /><span class="attrib">(Varun Thacker, Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11575">SOLR-11575</a>: Improve ref-guide solrj snippets via mock 'print()' method
<br /><span class="attrib">(Jason Gerlowski via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11757">SOLR-11757</a>: In tests, fix race condition on SolrException.ignoreException.
Also ensure we register "ignore_exception" in @BeforeClass (previously only @AfterClass)
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11754">SOLR-11754</a>: Remove AbstractSolrTestCase which has long been supplanted by SolrTestCaseJ4.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11701">SOLR-11701</a>: Upgrade to Tika 1.17 when available
<br /><span class="attrib">(Tim Allison, Karthik Ramachandran via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11703">SOLR-11703</a>: Solr Should Send Log Notifications if Ulimits are too low
<br /><span class="attrib">(Kevin Cowan via Erick Eickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11793">SOLR-11793</a>: Reduce code duplication w.r.t. RestTestHarness(es).
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7733">SOLR-7733</a>: remove "optimize" from the UI.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11748">SOLR-11748</a>: Remove Autoscaling action throttle.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11805">SOLR-11805</a>: SolrJ's SolrResponse.getElaspedTime was sometimes a millisecond off.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11798">SOLR-11798</a>: Formally deprecate top-level &lt;highlighting&gt; syntax in solrconfig.xml
in favour of &lt;searchComponent&gt; equivalent syntax.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11801">SOLR-11801</a>: Support customisation of the "highlighting" query response element.
<br /><span class="attrib">(Ramsey Haddad, Pranav Murugappan, David Smiley, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11692">SOLR-11692</a>: SolrDispatchFilter's use of a "close shield" in tests should not be applied to
further servlet chain processing.
<br /><span class="attrib">(Jeff Miller, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11218">SOLR-11218</a>: Fail and return an error when attempting to delete a collection that's part of an alias
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11817">SOLR-11817</a>: Move Collections API classes to it's own package
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11810">SOLR-11810</a>: Upgrade Jetty to 9.4.8.v20171121
<br /><span class="attrib">(Varun Thacker, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11747">SOLR-11747</a>: Pause triggers until actions finish executing and the cool down period expires.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11871">SOLR-11871</a>: MoveReplicaSuggester should not suggest leader if other replicas are available
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11624">SOLR-11624</a>: Collections created from _default configset will now be associated with a configset with a suffix
.AUTOCREATED. For example, a new collection "mycollection", created without specifying a configset name, will
use the _default configset and the associated configset name will be "mycollection.AUTOCREATED". If this
collection is deleted and re-created, the autocreated configset will be left behind and will be re-used for
the re-created collection
<br /><span class="attrib">(Ishan Chattopadhyaya, Abhishek Kumar Singh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11051">SOLR-11051</a>: Use disk free metric in default cluster preferences
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11658">SOLR-11658</a>: Upgrade ZooKeeper dependency to 3.4.11
<br /><span class="attrib">(Jason Gerlowski, Steve Rowe, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11480">SOLR-11480</a>: Remove unused "Admin Extra" files and mentions.
<br /><span class="attrib">(Eric Pugh, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11067">SOLR-11067</a>: REPLACENODE should identify appropriate nodes if targetNode is not provided
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11848">SOLR-11848</a>: Update Ref Guide to include info on grouping operations and using curl for large files.
<br /><span class="attrib">(Dariusz Wojtas
via Cassandra Targett)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11613">SOLR-11613</a>: Make message for missing dataimport config in UI more explicit.
<br /><span class="attrib">(Shawn Heisey, Amrit Sarkar via
Cassandra Targett)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11933">SOLR-11933</a>: Make DIH UI page safer by not default checking the clean checkbox
<br /><span class="attrib">(Eric Pugh via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11349">SOLR-11349</a>: Rename ResponseBuilder's getQueryCommand to createQueryCommand.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11902">SOLR-11902</a>: Clarify in bin/solr help text whether commands can be run remotely
<br /><span class="attrib">(Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3089">SOLR-3089</a>: RequestBuilder now exposes isDistrib() method. Using this, plugins can know whether a request is
distributed.
<br /><span class="attrib">(Rok Rejc, Frank Wesemann, Abhishek Kumar Singh, Mikhail Khludnev via Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8090">SOLR-8090</a>: Make text elements in the UI darker for better contrast and readability
<br /><span class="attrib">(Cassandra Targett)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6057">SOLR-6057</a>: Change highlight color in UI Analysis screen
<br /><span class="attrib">(Cassandra Targett)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11897">SOLR-11897</a>: Add toggle to disable auto-refresh of Logging page in the UI
<br /><span class="attrib">(Tommy Marshment-Howell via
Cassandra Targett)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12017">SOLR-12017</a>: Remove BadApple and AwaitsFix annotations that link to closed JIRAs
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12027">SOLR-12027</a>: Increase thread lingering timeout to 80s.
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10809">SOLR-10809</a>: Get precommit lint warnings out of Solr core
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12028">SOLR-12028</a>: BadApple and AwaitsFix annotations usage
<br /><span class="attrib">(Erick Erickson, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12031">SOLR-12031</a>: Refactor Policy framework to make simulated changes affect more than a single node
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11957">SOLR-11957</a>: Increase MaxFileSize=32MB and MaxBackupIndex=10 for RollingFileAppender in log4j.properties
<br /><span class="attrib">(Varun Thacker, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12047">SOLR-12047</a>: Increase checkStateInZk timeout
<br /><span class="attrib">(Cao Manh Dat, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12051">SOLR-12051</a>: Election timeout when no replicas are qualified to become leader
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12067">SOLR-12067</a>: Increase autoAddReplicas default 30 second wait time to 120 seconds.
<br /><span class="attrib">(Varun Thacker, Mark Miller via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12078">SOLR-12078</a>: Fixed reproducable Failure in TestReplicationHandler.doTestIndexFetchOnLeaderRestart that happened
due to using stale http connections.
<br /><span class="attrib">(Gus Heck, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12099">SOLR-12099</a>: Remove reopenReaders attribute from 'IndexConfig in SolrConfig' page in ref guide.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12098">SOLR-12098</a>: Document the Lucene spins auto-detection and its effect on CMS dynamic defaults.
<br /><span class="attrib">(Cassandra Targett, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12097">SOLR-12097</a>: Document the diskType policy attribute and usage of disk space in Collection APIs.
<br /><span class="attrib">(Cassandra Targett, shalin)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v7.2.1" href="javascript:toggleList('v7.2.1')">Release 7.2.1  [2018-01-15]</a></h3>
<ul id="v7.2.1.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v7.2.1.versions_of_major_components" href="javascript:toggleList('v7.2.1.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v7.2.1.versions_of_major_components.list">
      <li>Apache Tika 1.16
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.10
</li>
      <li>Jetty 9.3.20.v20170531
</li>
    </ol>
  </li>
  <li><a id="v7.2.1.bug_fixes" href="javascript:toggleList('v7.2.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v7.2.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11771">SOLR-11771</a>: Overseer can never process some last messages
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11783">SOLR-11783</a>: Rename core in solr standalone mode is not persisted
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11809">SOLR-11809</a>: QueryComponent.prepare rq parsing could fail under SOLR 7.2.0 - fix:
QueryComponent's rq parameter parsing no longer considers the defType parameter.
<br /><span class="attrib">(Christine Poerschke and David Smiley in response to bug report/analysis
from Dariusz Wojtas and Diego Ceccarelli)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11555">SOLR-11555</a>: If the query terms reduce to nothing, filter(clause) produces an NPE whereas
fq=clause does not
<br /><span class="attrib">(Erick Erickson)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v7.2.0" href="javascript:toggleList('v7.2.0')">Release 7.2.0  [2017-12-21]</a></h3>
<ul id="v7.2.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v7.2.0.versions_of_major_components" href="javascript:toggleList('v7.2.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v7.2.0.versions_of_major_components.list">
      <li>Apache Tika 1.16
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.10
</li>
      <li>Jetty 9.3.20.v20170531
</li>
    </ol>
  </li>
  <li><a id="v7.2.0.upgrade_notes" href="javascript:toggleList('v7.2.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v7.2.0.upgrade_notes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11501">SOLR-11501</a>: Starting a query string with local-params {!myparser ...} is used to switch the query parser to another,
and is intended for use by Solr system developers, not end users doing searches.  To reduce negative side-effects of
unintended hack-ability, we've limited the cases that local-params will be parsed to only contexts in which the
default parser is "lucene" or "func".
So if defType=edismax then q={!myparser ...} won't work.  In that example, put the desired query parser into defType.
Another example is if deftype=edismax then hl.q={!myparser ...} won't work for the same reason.  In that example,
either put the desired query parser into hl.qparser or set hl.qparser=lucene.  Most users won't run into these cases
but some will and must change.
If you must have full backwards compatibility, use luceneMatchVersion=7.1.0 or something earlier.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11501">SOLR-11501</a>: The edismax parser by default no longer allows subqueries that specify a Solr parser using either
local-params, or the older _query_ magic field trick.  For example
{!prefix f=myfield v=enterp}  or  _query_:"{!prefix f=myfield v=enterp}"   are not supported by default anymore.
If you want to allow power-users to do this, set uf=* _query_ or some other value that includes _query_.
If you must have full backwards compatibility, use luceneMatchVersion=7.1.0 or something earlier.
<br /><span class="attrib">(David Smiley)</span></li>
    </ol>
  </li>
  <li><a id="v7.2.0.new_features" href="javascript:toggleList('v7.2.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(33)
    <ol id="v7.2.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11448">SOLR-11448</a>: Implement an option in collection commands to wait for final results.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11072">SOLR-11072</a>: Implement trigger for searchRate event type.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11524">SOLR-11524</a>: A new autoscaling/suggestions API end-point which gives autoscaling suggestions
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11519">SOLR-11519</a>: Implement autoscaling suggestions for replica count violations
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11518">SOLR-11518</a>: Implement autoscaling Suggestions for freedisk violations
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10132">SOLR-10132</a>: A new optional facet.matches parameter to return facet buckets only
for terms that match a regular expression.
<br /><span class="attrib">(Gus Heck, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11520">SOLR-11520</a>: Implement autoscaling suggestions for cores count violations
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11438">SOLR-11438</a>: Solr should return rf when min_rf is specified for deletes as well as adds
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11003">SOLR-11003</a>: Support bi-directional syncing of cdcr clusters. We still only support active indexing in one cluster,
but have the ability to switch indexing clusters and cdcr will replicate correctly.
<br /><span class="attrib">(Amrit Sarkar, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11538">SOLR-11538</a>: Implement suggestions for port,ip_*, nodeRole,sysprop.*, metrics:*
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11487">SOLR-11487</a>: Collection Aliases may now have metadata (currently an internal feature).
<br /><span class="attrib">(Gus Heck, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11542">SOLR-11542</a>: New TimeRoutedAliasUpdateProcessor URP that routes documents to another collection
in the same Alias defined set based on a time field (currently an internal feature).
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9743">SOLR-9743</a>: A new UTILIZENODE command
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11202">SOLR-11202</a>: Implement a set-property command for AutoScaling API.
<br /><span class="attrib">(ab, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11250">SOLR-11250</a>: A new DefaultWrapperModel class for loading of large and/or externally stored
LTRScoringModel definitions.
<br /><span class="attrib">(Yuki Yano, shalin, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11662">SOLR-11662</a>: New synonymQueryStyle option to configure whether SynonymQuery, a DisjunctionMaxQuery, or BooleanQuery
occurs over query terms that overlap their position.
<br /><span class="attrib">(Doug Turnbull, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11429">SOLR-11429</a>: Add loess Stream Evaluator to support local regression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11568">SOLR-11568</a>: Add matrix Stream Evaluator to support efficient matrix operations
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11566">SOLR-11566</a>: Add transpose Stream Evaluator to support transposing of matrices
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11565">SOLR-11565</a>: Add unit Stream Evaluator to support unitizing of vectors
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11567">SOLR-11567</a>: Add triangularDistribution Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11593">SOLR-11593</a>: Add support for covariance matrices to the cov Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10680">SOLR-10680</a>: Add minMaxScale Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11599">SOLR-11599</a>: Change normalize function to standardize and make it work with matrices
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11602">SOLR-11602</a>: Add Markov Chain Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11607">SOLR-11607</a>: Add grandSum, sumRows, sumColumns, scalarDivide, scalarMultiply, scalarAdd,
scalarSubtract Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11571">SOLR-11571</a>: Add diff Stream Evaluator to support time series differencing
<br /><span class="attrib">(Mathew Skaria, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11570">SOLR-11570</a>: Add support for correlation matrices to the corr Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11569">SOLR-11569</a>: Add support for distance matrices to the distance Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11674">SOLR-11674</a>: Support ranges in the probability Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11680">SOLR-11680</a>: Add normalizeSum Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11697">SOLR-11697</a>: Add geometricDistribution Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11485">SOLR-11485</a>: Add olsRegress, spline and derivative Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
    </ol>
  </li>
  <li><a id="v7.2.0.bug_fixes" href="javascript:toggleList('v7.2.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(28)
    <ol id="v7.2.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11423">SOLR-11423</a>: Overseer queue needs a hard cap (maximum size) that clients respect
<br /><span class="attrib">(Scott Blum, Joshua Humphries, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11445">SOLR-11445</a>: Overseer should not hang when process bad message.
<br /><span class="attrib">(Cao Manh Dat, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11447">SOLR-11447</a>: ZkStateWriter should process commands in atomic.
<br /><span class="attrib">(Cao Manh Dat, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11491">SOLR-11491</a>: Support retrieval of cluster properties in HttpClusterStateProvider.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11146">SOLR-11146</a>: Small fixes to the mapping functions in the Analytics Component
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11326">SOLR-11326</a>: A bootstrap of a target cluster does not need to download the tlog files from the source cluster
<br /><span class="attrib">(Amrit Sarkar, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10874">SOLR-10874</a>: Fix AIOOBE caused by FloatPayloadValueSource calling PostingsEnum.nextPosition()
more than the given term's frequency in overridden FloatDocValues.floatVal().
<br /><span class="attrib">(Michael Kosten, Erik Hatcher, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11484">SOLR-11484</a>: CloudSolrClient does not invalidate cache or retry for RouteException
<br /><span class="attrib">(noble, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11532">SOLR-11532</a>: Solr hits NPE when fl only contains DV fields and any of them is a spatial field.
<br /><span class="attrib">(Cao Manh Dat, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11557">SOLR-11557</a>: Fix SolrZkClient.checkInterrupted
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11413">SOLR-11413</a>: SolrGraphiteReporter fails to report metrics due to non-thread safe code.
<br /><span class="attrib">(Erik Persson, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9440">SOLR-9440</a>: The ZkStateReader.removeCollectionStateWatcher method can cache a DocCollection reference and
never update it causing stale state to be returned in ClusterState.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11560">SOLR-11560</a>: Specifying the replicationFactor parameter while restoring a collection would lead to extra tlog
and pull replicas being created
<br /><span class="attrib">(Peter Szantai-Kis, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11586">SOLR-11586</a>: Restored collection should use stateFormat=2 instead of 1.
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11503">SOLR-11503</a>: Collections created with legacyCloud=true cannot be opened if legacyCloud=false
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11619">SOLR-11619</a>: V2 requests that needed to be forwarded to other nodes would get an NPE.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11231">SOLR-11231</a>: Guard against unset fields when performing language detection.
<br /><span class="attrib">(Chris Beer via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11553">SOLR-11553</a>: JSON Facet API: facet refinement could use UIF in phase one and DV uninversion in phase 2, resulting
in too much memory use.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11645">SOLR-11645</a>: When the java commandline had exact duplicate arguments, the
admin UI dashboard would not display any commandline arguments.
<br /><span class="attrib">(Webster Homer via Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11608">SOLR-11608</a>: Correctly parse the new core-name in the V2 core rename API.
<br /><span class="attrib">(Jason Gerlowski via Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11256">SOLR-11256</a>: The queue size for ConcurrentUpdateSolrClient should default to 10 instead of throwing an
IllegalArgumentException.
<br /><span class="attrib">(Jason Gerlowski, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11616">SOLR-11616</a>: Snapshot the segments more robustly such that segments created during a backup does does not fail the
operation
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11687">SOLR-11687</a>: SolrCore.getNewIndexDir falsely returns {dataDir}/index on any IOException reading index.properties
<br /><span class="attrib">(Nikolay Martynov, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9137">SOLR-9137</a>: bin/solr script ignored custom STOP_PORT on shutdown.
<br /><span class="attrib">(Joachim Kohlhammer, Steve Rowe, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11458">SOLR-11458</a>: Improve error handling in MoveReplicaCmd to avoid potential loss of data.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11590">SOLR-11590</a>: Synchronize ZK connect/disconnect handling so that they are processed in linear order
<br /><span class="attrib">(noble, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11664">SOLR-11664</a>: JSON Facet API: range facets containing unique, hll, min, max aggregations over string fields
produced incorrect results since 7.0
<br /><span class="attrib">(Volodymyr Rudniev, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11691">SOLR-11691</a>: V2 requests for create-alias didn't work when the collections param was an array.
<br /><span class="attrib">(Jason Gerlowski, Gus Heck, David Smiley, noble)</span></li>
    </ol>
  </li>
  <li><a id="v7.2.0.optimizations" href="javascript:toggleList('v7.2.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v7.2.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11285">SOLR-11285</a>: Refactor autoscaling framework to avoid direct references to Zookeeper and Solr
to make testing and large scale simulations easier.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11443">SOLR-11443</a>: Remove the usage of workqueue for Overseer.
<br /><span class="attrib">(Cao Manh Dat, Scott Blum)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11320">SOLR-11320</a>: Lock autoscaling triggers when changes they requested are being made. This helps to
ensure that cluster is in a stable state before processing any new trigger events.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11641">SOLR-11641</a>: Change `frange` to default to `cost=100` so default behavior is to PostFilter if user specifies
`cache=false`
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11595">SOLR-11595</a>: SolrIndexSearcher.localCollectionStatistics is now faster by leveraging an existing
cached MultiFields.  Noticeable when many fields are searched.
<br /><span class="attrib">(David Smiley)</span></li>
    </ol>
  </li>
  <li><a id="v7.2.0.other_changes" href="javascript:toggleList('v7.2.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(19)
    <ol id="v7.2.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11478">SOLR-11478</a>: Solr should remove itself from live_nodes in zk immediately on shutdown.
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11145">SOLR-11145</a>: Adds comprehensive unit tests for the Analytics Component v2
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11389">SOLR-11389</a>: For Solr(Shard|Cluster)Reporter instances the SolrMetricManager.registerReporter
method is now called after the SolrCore or CoreContainer has been set for the instance.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11464">SOLR-11464</a>, <a href="http://issues.apache.org/jira/browse/SOLR-11493">SOLR-11493</a>, <a href="http://issues.apache.org/jira/browse/SOLR-11511">SOLR-11511</a>: Minor refactorings to DistributedUpdateProcessor.
<br /><span class="attrib">(Gus Heck, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11444">SOLR-11444</a>: Improved consistency of collection alias handling, and collection references that are
comma delimited lists of collections, across the various places collections can be referred to.
Updates are delivered to the first in a list.  It's now possible to refer to a comma delimited list
of them in the path, ex: /solr/colA,colB/select?...
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11165">SOLR-11165</a>: Ref guide documentation for Autoscaling APIs, triggers, listeners, actions for Solr 7.1
<br /><span class="attrib">(ab, Cassandra Targett, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11562">SOLR-11562</a>: Restore Solr logo ASCII-art in startup log by removing unnecessary default confdir logging
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11380">SOLR-11380</a>: SolrJ must stream docs to server instead of writing to a buffer first
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11603">SOLR-11603</a>: Remove unused (public) LTRScoringModel.hasParams() method.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11606">SOLR-11606</a>: Disable tests automatically if Mockito does not work with Java runtime (Java 10).
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11618">SOLR-11618</a>: Tone down verbosity of BackupManager logging
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11621">SOLR-11621</a>: Fix spurious failures of TriggerIntegrationTest due to timing issues.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11628">SOLR-11628</a>: Add documentation of maxRamMB for filter cache and query result cache.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11610">SOLR-11610</a>: Refactored payload handling to use lucene's PayloadDecoder
framework
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9120">SOLR-9120</a>: Reduce log level for inconsequential NoSuchFileException that LukeRequestHandler may encounter
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10469">SOLR-10469</a>: Move CloudSolrClient.setParallelUpdates to its Builder.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11507">SOLR-11507</a>: <a href="http://issues.apache.org/jira/browse/SOLR-11638">SOLR-11638</a>: Randomize SolrTestCaseJ4.CloudSolrClientBuilder more, and simplify it.
<br /><span class="attrib">(Jason Gerlowski, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11291">SOLR-11291</a>: Factor out abstract metrics/SolrCore[Container]Reporter classes.
<br /><span class="attrib">(Omar Abdelnabi, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11713">SOLR-11713</a>: Fixed CdcrUpdateLogTest.testSubReader() failure which was a test bug
<br /><span class="attrib">(Varun Thacker, Amrit Sarkar)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v7.1.0" href="javascript:toggleList('v7.1.0')">Release 7.1.0  [2017-10-17]</a></h3>
<ul id="v7.1.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v7.1.0.versions_of_major_components" href="javascript:toggleList('v7.1.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v7.1.0.versions_of_major_components.list">
      <li>Apache Tika 1.16
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.10
</li>
      <li>Jetty 9.3.20.v20170531
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v7.1.0.upgrade_notes" href="javascript:toggleList('v7.1.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v7.1.0.upgrade_notes.list">
      <li>'autoAddReplicas' feature is ported to autoscaling framework. Existing users of this feature should not have
to change anything. Note these changes:
1. Behaviour: Changing the autoAddReplicas property from disabled to enabled using MODIFYCOLLECTION API
no longer replaces down replicas for the collection immediately. Instead, replicas are only added
if a node containing them went down while autoAddReplicas was enabled. The params
autoReplicaFailoverBadNodeExpiration and autoReplicaFailoverWorkLoopDelay are no longer used.
2. Deprecations: Enabling/disabling autoAddReplicas cluster wide with the API will be deprecated; use
suspend/resume trigger APIs with name='.auto_add_replicas' instead.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11195">SOLR-11195</a>: shard and cluster metric reporter configuration now requires a class attribute.
If a reporter configures the group="shard" attribute then please also configure the
class="org.apache.solr.metrics.reporters.solr.SolrShardReporter" attribute.
If a reporter configures the group="cluster" attribute then please also configure the
class="org.apache.solr.metrics.reporters.solr.SolrClusterReporter" attribute.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11254">SOLR-11254</a>: the abstract DocTransformer class now has an abstract score-less transform method variant.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11283">SOLR-11283</a>: all Stream Evaluators in solrj.io.eval have been refactored to have a simplier and more
robust structure. This simplifies and condenses the code required to implement a new Evaluator and
makes it much easier for evaluators to handle differing data types (primitives, objects, arrays,
lists, and so forth).
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10962">SOLR-10962</a>: in the ReplicationHandler the master.commitReserveDuration sub-element is deprecated. Instead
please configure a direct commitReserveDuration element for use in all modes
<br /><span class="attrib">(master, slave, cloud)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11482">SOLR-11482</a>: RunExecutableListener was removed for security reasons. If you want to listen to
events caused by updates, commits, or optimize, write your own listener as native Java class
as part of a Solr plugin.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11477">SOLR-11477</a>: in the XML query parser (defType=xmlparser or {!xmlparser ... })
the resolving of external entities is now disallowed by default.
<p>
</li>
    </ol>
  </li>
  <li><a id="v7.1.0.new_features" href="javascript:toggleList('v7.1.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(39)
    <ol id="v7.1.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10339">SOLR-10339</a>: New set-trigger and remove-trigger APIs for autoscaling.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10340">SOLR-10340</a>: New set-listener and remove-listener API for autoscaling.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10358">SOLR-10358</a>: New suspend-trigger and resume-trigger APIs for autoscaling.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10376">SOLR-10376</a>: Implement autoscaling trigger for nodeAdded event.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10396">SOLR-10396</a>: Implement trigger support for nodeLost event type
<br /><span class="attrib">(Cao Manh Dat, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10496">SOLR-10496</a>: New ComputePlanAction for autoscaling which uses the policy framework to compute cluster
operations upon a trigger fire.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10965">SOLR-10965</a>: New ExecutePlanAction for autoscaling which executes the operations computed by ComputePlanAction
against the cluster.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11019">SOLR-11019</a>: Add addAll Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10996">SOLR-10996</a>: Implement TriggerListener API
<br /><span class="attrib">(ab, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11046">SOLR-11046</a>: Add residuals Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10858">SOLR-10858</a>: Make UUIDUpdateProcessorFactory as Runtime URP
<br /><span class="attrib">(Amit Sarkar, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11031">SOLR-11031</a>: Implement SystemLogListener for autoscaling
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11205">SOLR-11205</a>: Any metrics value can be directly accessed in autoscaling policies
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11199">SOLR-11199</a>: Payloads supports an "operator" param. Supported operators are 'or', "phrase" ( default ).
A new "sum" function is also added. Example :
{!payload_score f=payload_field func=sum operator=or}A B C"
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11215">SOLR-11215</a>: Make a metric accessible through a single param.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11244">SOLR-11244</a>: Query DSL for Solr
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11317">SOLR-11317</a>: JSON Facet API: min/max aggregations on numeric fields are now typed better so int/long
fields return an appropriate integral type rather than a double.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11316">SOLR-11316</a>: JSON Facet API: min/max aggregations are now supported on single-valued date fields.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10962">SOLR-10962</a>: Make ReplicationHandler's commitReserveDuration configurable in SolrCloud mode.
<br /><span class="attrib">(Ramsey Haddad, Christine Poerschke, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11382">SOLR-11382</a>: Lucene's Geo3D (surface of sphere &amp; ellipsoid) is now supported on spatial RPT fields by
setting spatialContextFactory="Geo3D".  Furthermore, this is the first time Solr has out of the box
support for polygons.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11160">SOLR-11160</a>: Add normalDistribution, uniformDistribution, sample and kolmogorovSmirnov Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11225">SOLR-11225</a>: Add cumulativeProbability Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11241">SOLR-11241</a>: Add discrete counting and probability Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11321">SOLR-11321</a>: Add ebeAdd, ebeSubtract, ebeDivide, ebeMultiply, dotProduct and cosineSimilarity Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11338">SOLR-11338</a>: Add Kendall's Tau-b rank and Spearmans rank correlation Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11339">SOLR-11339</a>: Add Canberra, Chebyshev, Earth Movers and Manhattan Distance Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11342">SOLR-11342</a>: Add sumDifference and meanDifference Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11350">SOLR-11350</a>: Add primes Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11354">SOLR-11354</a>: Add factorial and movingMedian Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11377">SOLR-11377</a>: Add expMovingAverage (exponential moving average) and binomialCoefficient Stream Evaluators
<br /><span class="attrib">(Mathew Skaria, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11388">SOLR-11388</a>: Add monteCarlo Stream Evaluator to support Monte Carlo simulations
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11398">SOLR-11398</a>: Add weibullDistribution Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11400">SOLR-11400</a>: Add logNormalDistribution Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11401">SOLR-11401</a>: Add zipFDistribution Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11414">SOLR-11414</a>: Add gammaDistribution Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11415">SOLR-11415</a>: Add betaDistribution Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11436">SOLR-11436</a>: Add polyfit and polyfitDerivative Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11439">SOLR-11439</a>: Add harmonicFit Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11076">SOLR-11076</a>: New /autoscaling/history API to return past cluster events and actions.
<br /><span class="attrib">(ab)</span></li>
    </ol>
  </li>
  <li><a id="v7.1.0.bug_fixes" href="javascript:toggleList('v7.1.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(32)
    <ol id="v7.1.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10602">SOLR-10602</a>: Triggers should be able to restore state from old instances when taking over.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10714">SOLR-10714</a>: OverseerTriggerThread does not start triggers on overseer start until autoscaling
config watcher is fired.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10738">SOLR-10738</a>: TriggerAction is initialised even if the trigger is never scheduled.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10668">SOLR-10668</a>: fix NPE at sort=childfield(..) .. on absent values
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8984">SOLR-8984</a>: EnumField's error reporting to now indicate the field name in failure log
<br /><span class="attrib">(Lanny Ripple,
Ann Addicks via Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11012">SOLR-11012</a>: Fix three (JavaBinCodec not being closed) Resource Leak warnings.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11026">SOLR-11026</a>: MoveReplicaSuggester must check if the target becomes more 'loaded' than the source
if an operation is performed
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10994">SOLR-10994</a>: CREATE, CREATESHARD &amp; ADDREPLICA to use policy framework &amp; support replica types
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11011">SOLR-11011</a>: Assign.buildCoreName can lead to error in creating a new core when legacyCloud=false
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10944">SOLR-10944</a>: Get expression fails to return EOF tuple
<br /><span class="attrib">(Susheel Kumar, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6086">SOLR-6086</a>: Replica is active during autowarming resulting in queries being sent to a replica that
may not have a registered searcher. This causes spikes in response times when adding a replica
in busy clusters.
<br /><span class="attrib">(Ludovic Boutros, Timothy Potter, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11190">SOLR-11190</a>: GraphQuery also supports string fields which are indexed=false and docValues=true. Please refer to the
Javadocs for DocValuesTermsQuery for it's performance characteristics.
<br /><span class="attrib">(Karthik Ramachandran, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11084">SOLR-11084</a>: Issue with starting script with solr.home (-s) == solr
<br /><span class="attrib">(Leil Ireson, Amrit Sarkar via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11255">SOLR-11255</a>: Fix occasional ConcurrentModificationException when using SolrInfoMBeanHandler.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11272">SOLR-11272</a>: fix NPE when EmbeddedSolrServer handles /admin/* request and so one
<br /><span class="attrib">(Stephen Allen via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11289">SOLR-11289</a>: fix comma handling in terms component.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11164">SOLR-11164</a>, <a href="http://issues.apache.org/jira/browse/SOLR-11180">SOLR-11180</a>, <a href="http://issues.apache.org/jira/browse/SOLR-11220">SOLR-11220</a>: Fix NullPointerException and always-returns-zero
contrib/ltr OriginalScoreFeature issues in SolrCloud mode.
<br /><span class="attrib">(Yuki Yano, Jonathan Gonzalez, Ryan Yacyshyn, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11278">SOLR-11278</a>: Stopping CDCR should cancel a running bootstrap operation.
<br /><span class="attrib">(Amrit Sarkar, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11293">SOLR-11293</a>: Potential data loss in TLOG replicas when masterVersion equals zero
<br /><span class="attrib">(noble, Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10101">SOLR-10101</a>: TestLazyCores hangs
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11332">SOLR-11332</a>: Fix sorting on 'enum' fieldTypes that use sortMissingFirst or sortMissingLast
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11348">SOLR-11348</a>: Fix the DIH database example
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11363">SOLR-11363</a>: JSON Facet API: repeated values in a numeric points field with docValues enabled
were double counted.
<br /><span class="attrib">(Hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11085">SOLR-11085</a>: Improve resiliency of autoscaling actions against overseer restarts and operation failures.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11297">SOLR-11297</a>: Message "Lock held by this virtual machine" during startup.  Solr is trying to start some cores twice.
<br /><span class="attrib">(Luiz Armesto, Shawn Heisey, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11399">SOLR-11399</a>: The UnifiedHighlighter was ignoring the hl.fragsize parameter when hl.bs.type=SEPARATOR
<br /><span class="attrib">(Marc Morissette via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11224">SOLR-11224</a>: SolrStream.close can hit an NPE
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11278">SOLR-11278</a>: Fix a race condition in the CDCR bootstrap process which could lead to bootstraps cancelling itself
<br /><span class="attrib">(Amrit Sarkar, shalin, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11425">SOLR-11425</a>: SolrClientBuilder does not allow infinite timeout (value 0).
<br /><span class="attrib">(Peter Szantai-Kis via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11449">SOLR-11449</a>: MoveReplicaCmd mistakenly called registerCollectionStateWatcher on failure.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11477">SOLR-11477</a>: Disallow resolving of external entities in the XML query parser (defType=xmlparser).
<br /><span class="attrib">(Michael Stepankin, Olga Barinova, Uwe Schindler, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12444">SOLR-12444</a>: Updating a cluster policy fails
<br /><span class="attrib">(noble)</span></li>
    </ol>
  </li>
  <li><a id="v7.1.0.optimizations" href="javascript:toggleList('v7.1.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(9)
    <ol id="v7.1.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10985">SOLR-10985</a>: Remove unnecessary toString() calls in solr-core's search package's debug logging.
<br /><span class="attrib">(Michael Braun via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11000">SOLR-11000</a>: Changes made via AutoScalingHandler should be atomic.
<br /><span class="attrib">(ab, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11124">SOLR-11124</a>: MoveReplicaCmd should skip deleting old replica in case of its node is not live
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10769">SOLR-10769</a>: Allow nodeAdded / nodeLost events to report multiple nodes in one event.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11242">SOLR-11242</a>: QueryParser: re-use the LookaheadSuccess exception.
<br /><span class="attrib">(Michael Braun via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11314">SOLR-11314</a>: FastCharStream: re-use the READ_PAST_EOF exception.
<br /><span class="attrib">(Michael Braun via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8344">SOLR-8344</a>: Decide default when requested fields are both column and row stored.
<br /><span class="attrib">(Cao Manh Dat, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10285">SOLR-10285</a>: Skip LEADER messages when there are leader only shards
<br /><span class="attrib">(Cao Manh Dat, Joshua Humphries)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11424">SOLR-11424</a>: When legacyCloud=false, cores should not publish itself as DOWN on startup.
<br /><span class="attrib">(Cao Manh Dat)</span></li>
    </ol>
  </li>
  <li><a id="v7.1.0.other_changes" href="javascript:toggleList('v7.1.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(36)
    <ol id="v7.1.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10643">SOLR-10643</a>: Throttling strategy for triggers and policy executions.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10764">SOLR-10764</a>: AutoScalingHandler should validate policy and preferences before updating zookeeper.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10827">SOLR-10827</a>: Factor out abstract FilteringSolrMetricReporter class.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10957">SOLR-10957</a>: Changed SolrCoreParser.init to use the resource loader from getSchema()
instead of the resource loader from getCore().
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10748">SOLR-10748</a>: Make stream.body configurable and disabled by default
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10964">SOLR-10964</a>: Reduce SolrIndexSearcher casting in LTRRescorer.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11075">SOLR-11075</a>: Refactor handling of params in CloudSolrStream and FacetStream
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11052">SOLR-11052</a>: Remove unnecessary Long-to-Integer and back casts in ReplicationHandler.
<br /><span class="attrib">(Ramsey Haddad via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11106">SOLR-11106</a>: TestLBHttpSolrClient.testReliablity takes 30 seconds because of the wrong server name
<br /><span class="attrib">(Kensho Hirasawa via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10338">SOLR-10338</a>: Configure SecureRandom non blocking for tests.
<br /><span class="attrib">(Mihaly Toth, hossman, Ishan Chattopadhyaya, via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10916">SOLR-10916</a>: Convert tests that extend LuceneTestCase and use MiniSolrCloudCluster
to instead extend SolrCloudTestCase.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11131">SOLR-11131</a>: Document 'assert' as a command option in bin/solr, and bin/solr.cmd scripts.
<br /><span class="attrib">(Jason Gerlowski via Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11140">SOLR-11140</a>: Remove unused parameter in (private) SolrMetricManager.prepareCloudPlugins method.
<br /><span class="attrib">(Omar Abdelnabi via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11187">SOLR-11187</a>: contrib/ltr TestModelManagerPersistence improvements.
<br /><span class="attrib">(Yuki Yano via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10397">SOLR-10397</a>: Port 'autoAddReplicas' feature to the autoscaling framework and make it work with non-shared filesystems
<br /><span class="attrib">(Cao Manh Dat, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11157">SOLR-11157</a>: remove-policy must fail if a policy to be deleted is used by a collection
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11090">SOLR-11090</a>: Add Replica.getProperty accessor.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11061">SOLR-11061</a>: Add a spins metric for data directory paths.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11071">SOLR-11071</a>: Improve TestIntervalFacets.testRandom
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11195">SOLR-11195</a>: Require class attribute for shard and cluster metric reporter configuration.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li>SOLR:10822: Share a Policy.session object between multiple collection admin calls to get the correct computations
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11249">SOLR-11249</a>: Upgrade Jetty from 9.3.14.v20161028 to 9.3.20.v20170531
<br /><span class="attrib">(Michael Braun via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11270">SOLR-11270</a>: Automatically added SystemLogListener should not prevent deleting a trigger.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5129">SOLR-5129</a>: Timeout property for waiting ZK get started.
<br /><span class="attrib">(Cao Manh Dat, Hrishikesh Gadre, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10628">SOLR-10628</a>: Less verbose output from bin/solr commands.
<br /><span class="attrib">(Jason Gerlowski, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11240">SOLR-11240</a>: Raise UnInvertedField internal limit.
<br /><span class="attrib">(Toke Eskildsen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11254">SOLR-11254</a>: Add score-less (abstract) DocTransformer.transform method.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11209">SOLR-11209</a>: Upgrade HttpClient to 4.5.3.
<br /><span class="attrib">(Hrishikesh Gadre via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11322">SOLR-11322</a>: JSON Facet API: instead of returning NaN, min &amp; max aggregations omit
the value for any bucket with no values in the numeric field.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10990">SOLR-10990</a>: Breakup QueryComponent.process method for readability.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11132">SOLR-11132</a>: Refactor common getSortField logic in various FieldTypes
<br /><span class="attrib">(Jason Gerlowski, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11351">SOLR-11351</a>: Make LTRScoringModel model more extensible.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10451">SOLR-10451</a>: Remove contrib/ltr/lib from lib includes in the techproducts example config
<br /><span class="attrib">(sungjunyoung via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11306">SOLR-11306</a>: Fix inaccurate comments on docValues and StrField in the example schemas
<br /><span class="attrib">(Tom Burton-West, Jason Gerlowski, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11482">SOLR-11482</a>: RunExecutableListener was removed for security reasons.
<br /><span class="attrib">(Michael Stepankin,
Olga Barinova, Uwe Schindler, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10335">SOLR-10335</a>: Upgrade to Tika 1.16.
<br /><span class="attrib">(Tim Allison, Tomás Fernández Löbbe via shalin)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v7.0.1" href="javascript:toggleList('v7.0.1')">Release 7.0.1  [2017-10-06]</a></h3>
<ul id="v7.0.1.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v7.0.1.versions_of_major_components" href="javascript:toggleList('v7.0.1.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v7.0.1.versions_of_major_components.list">
      <li>Apache Tika 1.13
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.10
</li>
      <li>Jetty 9.3.14.v20161028
</li>
    </ol>
  </li>
  <li><a id="v7.0.1.bug_fixes" href="javascript:toggleList('v7.0.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v7.0.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11297">SOLR-11297</a>: Message "Lock held by this virtual machine" during startup.  Solr is trying to start some cores twice.
<br /><span class="attrib">(Luiz Armesto, Shawn Heisey, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11406">SOLR-11406</a>: Solr 7.0 cannot read indexes from 6.x versions.
<br /><span class="attrib">(Shawn Heisey, Steve Rowe)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v7.0.0" href="javascript:toggleList('v7.0.0')">Release 7.0.0  [2017-09-20]</a></h3>
<ul id="v7.0.0.list">
  <li><a id="v7.0.0.versions_of_major_components" href="javascript:toggleList('v7.0.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v7.0.0.versions_of_major_components.list">
      <li>Apache Tika 1.13
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.10
</li>
      <li>Jetty 9.3.14.v20161028
</li>
    </ol>
  </li>
  <li><a id="v7.0.0.upgrading_from_solr_6.x" href="javascript:toggleList('v7.0.0.upgrading_from_solr_6.x')">Upgrading from Solr 6.x</a>&nbsp;&nbsp;&nbsp;(40)
    <ol id="v7.0.0.upgrading_from_solr_6.x.list">
      <li>All Trie* numeric and date field types have been deprecated in favor of *Point field types.
Point field types are better at range queries (speed, memory, disk), however simple field:value queries underperform
relative to Trie. Either accept this, or continue to use Trie fields.
This shortcoming may be addressed in a future release.
<p>
</li>
      <li>The default response type is now JSON ("wt=json") instead of XML, and line indentation is now on by default
("indent=on"). If you expect the responses to your queries to be returned in the previous format (XML
format, no indentation), you must now you must now explicitly pass in "wt=xml" and "indent=off" as query
parameters, or configure them as defaults on your request handlers.  See <a href="http://issues.apache.org/jira/browse/SOLR-10494">SOLR-10494</a> for more details.
<p>
</li>
      <li>the cluster property 'legacyCloud' is set to false from 7.0. This means 'zookeeper is the truth' by
default. If an entry for a replica does not exist in the state.json, that replica cannot get
registered. This may affect users who use that feature where they bring up replicas and they are
automatically registered as a part of a shard. However, it is possible to fall back to the old behavior by
setting the property legacyCloud=true , in the cluster properties using the following command
<p>
./server/scripts/cloud-scripts/zkcli.sh -zkhost 127.0.0.1:2181  -cmd clusterprop -name legacyCloud -val true
<p>
</li>
      <li>HttpClientInterceptorPlugin is now HttpClientBuilderPlugin and must work with a
SolrHttpClientBuilder rather than an HttpClientConfigurer.
<p>
</li>
      <li>HttpClientUtil now allows configuring HttpClient instances via SolrHttpClientBuilder
rather than an HttpClientConfigurer. Use of env variable SOLR_AUTHENTICATION_CLIENT_CONFIGURER
no longer works, please use SOLR_AUTHENTICATION_CLIENT_BUILDER
<p>
</li>
      <li>SolrClient implementations now use their own internal configuration for socket timeouts,
connect timeouts, and allowing redirects rather than what is set as the default when
building the HttpClient instance. Use the appropriate setters on the SolrClient instance.
<p>
</li>
      <li>HttpSolrClient#setAllowCompression has been removed and compression must be enabled as
a constructor param.
<p>
</li>
      <li>HttpSolrClient#setDefaultMaxConnectionsPerHost and
HttpSolrClient#setMaxTotalConnections have been removed. These now default very
high and can only be changed via param when creating an HttpClient instance.
<p>
</li>
      <li>Query time join with scoring {!join score=none} (even none) doesn't handle single value numeric fields.
Users are advised to convert these fields into string and reindex.
<p>
</li>
      <li>Deprecated collection and configset methods on MiniSolrCloudCluster have been
removed
<p>
</li>
      <li>Index-time boosts are not supported anymore. If any boosts are provided, they
will be ignored by the indexing chain. As a replacement, index-time scoring
factors should be indexed in a separate field and combined with the query
score using a function query.
<p>
</li>
      <li>Deprecated method getNumericType() has been removed from FieldType. Use getNumberType() instead
<p>
</li>
      <li>MBean names and attributes now follow hierarchical names used in metrics. This is reflected also in
/admin/mbeans and /admin/plugins output, and can be observed in the UI Plugins tab, because now all these
APIs get their data from the metrics API. The old (mostly flat) JMX view has been removed.
<p>
</li>
      <li>&lt;jmx&gt; element in solrconfig.xml is no longer supported. Equivalent functionality can be configured in
solr.xml using &lt;metrics&gt;&lt;reporter ...&gt; element and SolrJmxReporter implementation. Limited back-compatibility
is offered by automatically adding a default instance of SolrJmxReporter if it's missing, AND when a local
MBean server is found (which can be activated either via ENABLE_REMOTE_JMX_OPTS in solr.in.sh or via system
properties, eg. -Dcom.sun.management.jmxremote). This default instance exports all Solr metrics from all
registries as hierarchical MBeans. This behavior can be also disabled by specifying a SolrJmxReporter
configuration with a boolean init arg "enabled" set to "false". For a more fine-grained control users
should explicitly specify at least one SolrJmxReporter configuration.
<p>
</li>
      <li>The sow (split-on-whitespace) request param now defaults to false (true in previous versions).
This affects the edismax and standard/"lucene" query parsers: if the sow param is not specified,
query text will not be split on whitespace before analysis. See
<a href="https://lucidworks.com/2017/04/18/multi-word-synonyms-solr-adds-query-time-support/">https://lucidworks.com/2017/04/18/multi-word-synonyms-solr-adds-query-time-support/</a> .
<p>
</li>
      <li>Setting &lt;solrQueryParser defaultOperator="..."/&gt; in schema is no longer allowed and will cause an exception.
Please use "q.op" parameter on the request instead. For more details, see <a href="http://issues.apache.org/jira/browse/SOLR-10584">SOLR-10584</a>.
<p>
</li>
      <li>Setting &lt;defaultSearchField&gt; in schema is no longer allowed and will cause an exception.
Please use "df" parameter on the request instead. For more details, see <a href="http://issues.apache.org/jira/browse/SOLR-10585">SOLR-10585</a>.
<p>
</li>
      <li>The PostingsSolrHighlighter is deprecated. Furthermore, it now internally works via a re-configuration
of the UnifiedSolrHighlighter.
<p>
</li>
      <li>Deprecated LatLonType, GeoHashField, SpatialPointVectorFieldType, and SpatialTermQueryPrefixTreeFieldType.
Instead, switch to LatLonPointSpatialField or SpatialRecursivePrefixTreeFieldType or RptWithGeometrySpatialField.
<p>
</li>
      <li>The 'lucenePlusSort' QParser has been deprecated, and is no longer implicitly defined.  If you wish to continue using
this QParser untill Solr 8, you must explicitly register it in your solrconfig.xml:
   '&lt;queryParser name="lucenePlusSort" class="solr.OldLuceneQParserPlugin"/&gt;'
<p>
</li>
      <li>In solrconfig.xml the deprecated &lt;mergePolicy&gt; and &lt;mergeFactor&gt; and &lt;maxMergeDocs&gt; elements have
been removed in favor of the &lt;mergePolicyFactory&gt; element introduced by <a href="http://issues.apache.org/jira/browse/SOLR-8621">SOLR-8621</a> in Solr 5.5.0.
<p>
</li>
      <li>Custom SolrMetricReporter classes must implement a new, factored out doInit() method and the validate() method
must pass for all reporters including reporters that are not enabled, please see <a href="http://issues.apache.org/jira/browse/SOLR-10671">SOLR-10671</a> for details.
<p>
</li>
      <li>TemplateUpdateRequestProcessorFactory uses {} instead of ${} for template
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9565">SOLR-9565</a>: The name of TemplateUpdateRequestProcessorFactory' is changed to 'template' from 'Template' and the
name of 'AtomicUpdateProcessorFactory' is changed to 'atomic' from 'Atomic'
<p>
</li>
      <li>The default for eDismax parameter 'lowercaseOperators' now depends on the luceneMatchVersion setting in solrconfig.
It remains 'true' for luceneMatchVersion &lt; 7.0.0 and changes to 'false' from 7.0.0. See also <a href="http://issues.apache.org/jira/browse/SOLR-4646">SOLR-4646</a>
<p>
</li>
      <li>The unused 'valType' option has been removed from ExternalFileField, if you have this in your schema you
can safely remove it. see <a href="http://issues.apache.org/jira/browse/SOLR-10929">SOLR-10929</a> for more details.
<p>
</li>
      <li>Config sets basic_configs and data_driven_schema_configs have now been merged into _default. It has data driven nature
enabled by default, and can be turned off (after creating a collection) with:
   curl <a href="http://host:8983/solr/mycollection/config">http://host:8983/solr/mycollection/config</a> -d '{"set-user-property": {"update.autoCreateFields":"false"}}'
Please see <a href="http://issues.apache.org/jira/browse/SOLR-10574">SOLR-10574</a> for details.
<p>
</li>
      <li>The data driven config (now _default) for auto-creating fields earlier defaulted to "string" for text input.
Now the default is to use "text_general" and to add a copyField to the schema, copying to a "*_str" dynamic field,
with a cutoff at 256 characters. This enables full text search as well as faceting. See <a href="http://issues.apache.org/jira/browse/SOLR-9526">SOLR-9526</a> for more.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10123">SOLR-10123</a>: The Analytics Component has been upgraded to support distributed collections, expressions over multivalued
fields, a new JSON request language, and more. DocValues are now required for any field used in the analytics expression
whereas previously docValues was not required. Please see <a href="http://issues.apache.org/jira/browse/SOLR-10123">SOLR-10123</a> for details.
<p>
</li>
      <li>solrconfig.xml: &lt;requestDispatcher handleSelect="..."&gt; now defaults to false when luceneMatchVersion &gt;= 7.0,
thus ignoring "qt". Regardless, "qt" is still used as a SolrJ special parameter that specifies the request handler
(tail URL path) to use.  If you have request handlers without a leading '/', you can set handleSelect="true"
or better yet consider migrating.
<p>
</li>
      <li>StandardRequestHandler is deprecated. Simply use SearchHandler instead.
<p>
</li>
      <li>The parameter names 'fromNode' for MOVEREPLICA and 'source', 'target' for REPLACENODE have been deprecated and
replaced with 'sourceNode' and 'targetNode' instead. The old names will continue to work for back-compatibility
but they will be removed in 8.0. See <a href="http://issues.apache.org/jira/browse/SOLR-11068">SOLR-11068</a> for more details.
<p>
</li>
      <li>All deperated methods of ClusterState (except getZkClusterStateVersion())
have been removed. Use DocCollection methods instead.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11023">SOLR-11023</a>: EnumField has been deprecated in favor of new EnumFieldType.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11239">SOLR-11239</a>: The use of maxShardsPerNode is not supported when a cluster policy is in effect or
when a collection specific policy is specified during collection creation.
<p>
</li>
      <li>V2 APIs are now available at /api, in addition to /v2 (which is now deprecated). Legacy APIs continue to remain
available at /solr.
<p>
</li>
      <li>Solr was tested and is compatible with the final release candidate of Java 9. All startup scripts
detect Java 9 correctly and setup Garbage Collector logging. If the configuration file contains
logging options that are no longer supported with Java 9, startup will fail.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10307">SOLR-10307</a>: If starting Jetty without the Solr start script, you must now pass keystore and truststore
passwords via the env variables SOLR_SSL_KEY_STORE_PASSWORD and SOLR_SSL_TRUST_STORE_PASSWORD rather
than system properties.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10379">SOLR-10379</a>: ManagedSynonymFilterFactory has been deprecated in favor of ManagedSynonymGraphFilterFactory.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10503">SOLR-10503</a>: CurrencyField has been deprecated in favor of new CurrencyFieldType.
<p>
</li>
    </ol>
  </li>
  <li><a id="v7.0.0.new_features" href="javascript:toggleList('v7.0.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(51)
    <ol id="v7.0.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9857">SOLR-9857</a>, <a href="http://issues.apache.org/jira/browse/SOLR-9858">SOLR-9858</a>: Collect aggregated metrics from nodes and shard leaders in overseer.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9835">SOLR-9835</a>: Create another replication mode for SolrCloud
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10356">SOLR-10356</a>: Adds basic math Streaming Evaluators
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10393">SOLR-10393</a>: Adds UUID Streaming Evaluator
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10046">SOLR-10046</a>: Add UninvertDocValuesMergePolicyFactory class.
<br /><span class="attrib">(Keith Laban, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10547">SOLR-10547</a>: JSON Facet API: Implement support for single-valued string fields for min/max aggregations.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10262">SOLR-10262</a>: Add support for configurable metrics implementations.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10431">SOLR-10431</a>: Make it possible to invoke v2 api calls using SolrJ
<br /><span class="attrib">(Cao Manh Dat, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10233">SOLR-10233</a>: Add support for different replica types, that can handle updates differently:
<ul class="bulleted-list">
<li class="bulleted-list">
NRT: Writes updates to transaction log and indexes locally. Replicas of type “NRT” support NRT
       (soft commits) and RTG. Any NRT replica can become a leader. This was the only type supported
       in SolrCloud until now and it’s the default type.
</li>
<li class="bulleted-list">
TLOG: Writes to transaction log, but not to index, uses replication to copy segment files from the
        shard leader. Any TLOG replica can become leader (by first applying all local transaction log
        elements). If a replica is of type TLOG but is also the leader, it will behave as a NRT. This
        is exactly what was added in <a href="http://issues.apache.org/jira/browse/SOLR-9835">SOLR-9835</a> (non-realtime replicas), just the API and naming changes.
</li>
<li class="bulleted-list">
PULL: Doesn’t index or writes to transaction log, just replicates from the shard leader. PULL replicas
        can’t become shard leaders (i.e., if there are only PULL replicas in the collection at some point,
        updates will fail same as if there is no leaders, queries continue to work), so they don’t even
        participate in elections.
</li>
</ul>
<span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10278">SOLR-10278</a>: A new DSL to set cluster-wide preferences and policies on how to allocate replicas to nodes
<br /><span class="attrib">(noble, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10373">SOLR-10373</a>: Implement read API for autoscaling configuration at /admin/autoscaling or
/cluster/autoscaling paths.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10677">SOLR-10677</a>: Expose a diagnostics API to return nodes sorted by load in descending order and
any policy violations.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7452">SOLR-7452</a>: Refinement for JSON Facet API: Adding refine:true to any terms facet will cause an
additional distributed search phase (overlapped with field retrieval) that requests additional info
for top facet buckets from shards that did not previously contribute to that bucket.
This will correct counts (and other statistics) for those top buckets collected in the first
phase.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10433">SOLR-10433</a>: CollectionAdmin requests in SolrJ to support V2 calls
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9989">SOLR-9989</a>: Add support for PointFields in FacetModule (JSON Facets)
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10406">SOLR-10406</a>: v2 API error messages list the URL request path as /solr/____v2/... when the original path was /v2/...
<br /><span class="attrib">(Cao Manh Dat, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10574">SOLR-10574</a>: New _default config set replacing basic_configs and data_driven_schema_configs.
<br /><span class="attrib">(Ishan Chattopadhyaya, noble, shalin, hossman, David Smiley, janhoy, Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10272">SOLR-10272</a>: Use _default config set if no collection.configName is specified with CREATE
<br /><span class="attrib">(Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9526">SOLR-9526</a>: Data driven schema now indexes text field "foo" as both "foo" (text_general) and as "foo_str" (string)
to facilitate both search and faceting. AddSchemaFieldsUpdateProcessor now has the ability to add a "copyField" to
the type mappings, with an optional maxChars limitation. You can also define one typeMappings as default.
This also solves issues <a href="http://issues.apache.org/jira/browse/SOLR-8495">SOLR-8495</a>, <a href="http://issues.apache.org/jira/browse/SOLR-6966">SOLR-6966</a>, and <a href="http://issues.apache.org/jira/browse/SOLR-7058">SOLR-7058</a>
<br /><span class="attrib">(janhoy, Steve Rowe, hossman, Alexandre Rafalovitch, Shawn Heisey, Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10123">SOLR-10123</a>: Upgraded the Analytics Component to version 2.0 which now supports distributed collections, expressions over
multivalued fields, a new JSON request language, and more. DocValues are now required for any field used in the analytics
expression  whereas previously docValues was not required. Please see <a href="http://issues.apache.org/jira/browse/SOLR-10123">SOLR-10123</a> for details.
<br /><span class="attrib">(Houston Putman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10282">SOLR-10282</a>: bin/solr support for enabling Kerberos authentication
<br /><span class="attrib">(Ishan Chattopadhyaya, Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11093">SOLR-11093</a>: Add support for PointFields for {!graph} query.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10845">SOLR-10845</a>: Add support for PointFields to {!graphTerms} query that is internally
used by some graph traversal streaming expressions.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10939">SOLR-10939</a>: Add support for PointsFields to {!join} query. Joined fields should
also have docValues enabled.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11173">SOLR-11173</a> TermsComponent support for Points fields.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10849">SOLR-10849</a>: MoreLikeThisComponent should expose setMaxDocFreqPct (maxDoc
frequency percentage).
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10307">SOLR-10307</a>: Allow Passing SSL passwords through environment variables.
<br /><span class="attrib">(Mano Kovacs, Michael Suzuki via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10379">SOLR-10379</a>: Add ManagedSynonymGraphFilterFactory, deprecate ManagedSynonymFilterFactory.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10479">SOLR-10479</a>: Adds support for HttpShardHandlerFactory.loadBalancerRequests(MinimumAbsolute|MaximumFraction)
configuration.
<br /><span class="attrib">(Ramsey Haddad, Daniel Collins, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3702">SOLR-3702</a>: concat(...) function query
<br /><span class="attrib">(Andrey Kudryavtsev via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10767">SOLR-10767</a>: Add movingAvg Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10813">SOLR-10813</a>: Add arraySort Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10696">SOLR-10696</a>: Add cumulative probability function
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10765">SOLR-10765</a>: Add anova Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10754">SOLR-10754</a>: Add hist Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10753">SOLR-10753</a>: Add array Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10747">SOLR-10747</a>: Allow /stream handler to execute Stream Evaluators directly
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10743">SOLR-10743</a>: Add sequence StreamEvaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10684">SOLR-10684</a>: Add finddelay Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10731">SOLR-10731</a>: Add knn Streaming Expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10724">SOLR-10724</a>: Add describe Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10693">SOLR-10693</a>: Add copyOfRange Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10623">SOLR-10623</a>: Add sql Streaming Expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10661">SOLR-10661</a>: Add copyOf Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10663">SOLR-10663</a>: Add distance Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10664">SOLR-10664</a>: Add scale Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10666">SOLR-10666</a>: Add rank transformation Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10662">SOLR-10662</a>: Add length Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10660">SOLR-10660</a>: Add reverse Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9910">SOLR-9910</a>: Add solr/solr.cmd parameter to append jetty parameters to the start script.
<br /><span class="attrib">(Mano Kovacs via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6671">SOLR-6671</a>: Possible to set solr.data.home property as root dir for all data
<br /><span class="attrib">(janhoy, Shawn Heisey, Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v7.0.0.bug_fixes" href="javascript:toggleList('v7.0.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(55)
    <ol id="v7.0.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9262">SOLR-9262</a>: Connection and read timeouts are being ignored by UpdateShardHandler after <a href="http://issues.apache.org/jira/browse/SOLR-4509">SOLR-4509</a>.
<br /><span class="attrib">(Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9837">SOLR-9837</a>: Fix 55% performance regression of FieldCache uninvert time of
numeric fields.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10408">SOLR-10408</a>: v2 API introspect should return useful message for non-existent command
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10411">SOLR-10411</a>: v2 Collection API "modify" command specification's replicationFactor property is incorrectly typed as string,
should be integer
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10405">SOLR-10405</a>: v2 API introspect response contains multiple copies of the experimental format WARNING
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10412">SOLR-10412</a>: v2 API: many API command specification properties are typed "number" but should instead be typed "integer"
<br /><span class="attrib">(Steve Rowe, Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10413">SOLR-10413</a>: v2 API: parsed JSON type should be coerced to expected type
<br /><span class="attrib">(Cao Manh Dat, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10223">SOLR-10223</a>: Allow running examples as root on Linux with -force option
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10830">SOLR-10830</a>: Solr now correctly enforces that the '_root_' field has the same fieldType as the
uniqueKey field.  With out this enforcement, child document updating was unreliable.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10876">SOLR-10876</a>: Regression in loading runtime UpdateRequestProcessors like TemplateUpdateProcessorFactory
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10886">SOLR-10886</a>: Using V2Request.process(solrClient) method throws NPE if the API returns an error
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10921">SOLR-10921</a>: Work around the static Lucene BooleanQuery.maxClauseCount that causes Solr's maxBooleanClauses
setting behavior to be "last core wins".  This patch sets  BooleanQuery.maxClauseCount to its maximum value,
thus disabling the global check, and replaces it with specific checks where desired via
QueryUtils.build().
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10948">SOLR-10948</a>: Fix extraction component to treat DatePointField the same as TrieDateField
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10506">SOLR-10506</a>: Fix memory leak (upon collection reload or ZooKeeper session expiry) in ZkIndexSchemaReader.
<br /><span class="attrib">(Torsten Bøgh Köster, Christine Poerschke, Jörg Rathlev, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6807">SOLR-6807</a>: CloudSolrClient's ZK state version check with the server was ignored when handleSelect=false
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10878">SOLR-10878</a>: MOVEREPLICA command may lose data when replicationFactor is 1.
<br /><span class="attrib">(ab, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10879">SOLR-10879</a>: DELETEREPLICA and DELETENODE commands should prevent data loss when
replicationFactor is 1.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10983">SOLR-10983</a>: Fix DOWNNODE -&gt; queue-work explosion
<br /><span class="attrib">(Scott Blum, Joshua Humphries)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10826">SOLR-10826</a>: Fix CloudSolrClient to expand the collection parameter correctly
<br /><span class="attrib">(Tim Owen via Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11039">SOLR-11039</a>: Next button in Solr admin UI for collection list pagination does not work.
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11041">SOLR-11041</a>: MoveReplicaCmd do not specify ulog dir in case of HDFS
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11045">SOLR-11045</a>: The new replica created by MoveReplica will have to have same name and coreName as the
old one in case of HDFS
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11043">SOLR-11043</a>: Fix facet.range.method=dv and interval facets on single-valued float fields with negative values.
<br /><span class="attrib">(Tomás Fernández Löbbe, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11073">SOLR-11073</a>: Fix overflow in interval faceting when querying Long limits (e.g. (Long.MAX_VALUE TO Long.MAX_VALUE])
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11057">SOLR-11057</a>: Fix overflow in point range queries when querying the type limits
(e.g. q=field_i:{Integer.MAX_VALUE TO Integer.MAX_VALUE])
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11136">SOLR-11136</a>: Fix solrj XMLResponseParser when nested docs transformer is used with indented XML
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11130">SOLR-11130</a>: V2Request in SolrJ should return the correct collection name so that the request is forwarded to the
correct node
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11151">SOLR-11151</a>: SolrInfoMBeanHandler.getDiff() ADD case non-functional: NPE when a bean value goes from null -&gt; non-null.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11154">SOLR-11154</a>: Child documents' return fields now include useDocValuesAsStored fields
<br /><span class="attrib">(Mohammed Sheeri Shaketi Nauage via
Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11163">SOLR-11163</a>: Fix contrib/ltr Normalizer persistence after solr core reload or restart.
<br /><span class="attrib">(Yuki Yano via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11182">SOLR-11182</a>: A split shard failure on IOException should be logged
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10353">SOLR-10353</a>: TestSQLHandler reproducible failure: No match found for function signature min(&lt;NUMERIC&gt;)
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11221">SOLR-11221</a>: SolrJmxReporter broken on core reload. This resulted in some or most metrics not being reported
via JMX after core reloads, depending on timing.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11235">SOLR-11235</a>: Some SolrCore metrics should check if core is closed before reporting.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10698">SOLR-10698</a>: StreamHandler should allow connections to be closed early
<br /><span class="attrib">(Joel Bernstein, Varun Thacker, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11243">SOLR-11243</a>: Replica Placement rules are ignored if a cluster policy exists.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11268">SOLR-11268</a>: AtomicUpdateProcessor complains missing UpdateLog
<br /><span class="attrib">(noble, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8689">SOLR-8689</a>: Fix bin/solr.cmd so it can run properly on Java 9
<br /><span class="attrib">(Uwe Schindler, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10723">SOLR-10723</a> JSON Facet API: resize() implemented incorrectly for CountSlotAcc, HllAgg.NumericAcc
resulting in exceptions when using a hashing faceting method and sorting by hll(numeric_field).
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10719">SOLR-10719</a>: Creating a core.properties fails if the parent of core.properties is a symlinked dierctory
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10360">SOLR-10360</a>: Solr HDFS snapshot export fails due to FileNotFoundException error when using MR1 instead of
yarn.
<br /><span class="attrib">(Hrishikesh via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10137">SOLR-10137</a>: Ensure that ConfigSets created via API are mutable.
<br /><span class="attrib">(Hrishikesh via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10829">SOLR-10829</a>: Fixed IndexSchema to enforce that uniqueKey can not be Points based for correctness
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10836">SOLR-10836</a>: The query parsers igain, significantTerms, and tlogit (used by streaming expressions by
the same name) might throw a NullPointerException if the referenced field had no indexed data in some
shards. The fix included an optimization to use Solr's cached AtomicReader instead of re-calculating.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10715">SOLR-10715</a>: /v2/ should not be an alias for /v2/collections
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10835">SOLR-10835</a>: Add support for point fields in Export Handler
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10704">SOLR-10704</a>: REPLACENODE may cause data loss when replicationFactor is 1.
<br /><span class="attrib">(ab, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10833">SOLR-10833</a>: Point numeric fields should throw SolrException(BAD_REQUEST) for malformed numbers in queries.
            Trie numeric fields should throw SolrException(BAD_REQUEST) for malformed docValues range queries.
<br /><span class="attrib">(hossman, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10832">SOLR-10832</a>: Fixed VersionInfo.getMaxVersionFromIndex when using PointsField with indexed="true"
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10763">SOLR-10763</a>: Admin UI replication tab sometimes empty when failed replications
<br /><span class="attrib">(janhoy, Bojan Vitnik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10824">SOLR-10824</a>: fix NPE ExactSharedStatsCache, fixing maxdocs skew for terms which are absent at one of shards
</li>
      <li>when using one of Exact*StatsCache
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10963">SOLR-10963</a>: Fix example json in MultipleAdditiveTreesModel javadocs.
<br /><span class="attrib">(Stefan Langenmaier via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10914">SOLR-10914</a>: RecoveryStrategy's sendPrepRecoveryCmd can get stuck for 5 minutes if leader is unloaded.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11198">SOLR-11198</a>: downconfig downloads empty file as folder
<br /><span class="attrib">(Erick Erickson)</span></li>
    </ol>
  </li>
  <li><a id="v7.0.0.optimizations" href="javascript:toggleList('v7.0.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(8)
    <ol id="v7.0.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4509">SOLR-4509</a>: Move to non deprecated HttpClient impl classes to remove stale connection
check on every request and move connection lifecycle management towards the client.
<br /><span class="attrib">(Ryan Zezeski, Mark Miller, Shawn Heisey, Steve Davids)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9255">SOLR-9255</a>: Rename SOLR_AUTHENTICATION_CLIENT_CONFIGURER -&gt; SOLR_AUTHENTICATION_CLIENT_BUILDER
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9579">SOLR-9579</a>: Make Solr's SchemaField implement Lucene's IndexableFieldType, removing the
creation of a Lucene FieldType every time a field is indexed.
<br /><span class="attrib">(John Call, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9822">SOLR-9822</a>: JSON Facet API: Recover performance lost due to the DocValues transition to
an iterator API (<a href="http://issues.apache.org/jira/browse/LUCENE-7407">LUCENE-7407</a>).  This only fixes calculating counts for single-valued
string fields from the FieldCache, resulting in up to 56% better throughput for those cases.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10727">SOLR-10727</a>: Avoid polluting the filter cache for certain types of faceting (typically ranges) when
the base docset is empty.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11070">SOLR-11070</a>: Make docValues range queries behave the same as Trie/Point fields for Double/Float Infinity cases
<br /><span class="attrib">(Tomás Fernández Löbbe, Andrey Kudryavtsev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10634">SOLR-10634</a>: JSON Facet API: When a field/terms facet will retrieve all buckets (i.e. limit:-1)
and there are no nested facets, aggregations are computed in the first collection phase
so that the second phase which would normally involve calculating the domain for the bucket
can be skipped entirely, leading to large performance improvements.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10722">SOLR-10722</a>: Speed up Solr's use of the UnifiedHighlighter be re-using FieldInfos.
<br /><span class="attrib">(David Smiley)</span></li>
    </ol>
  </li>
  <li><a id="v7.0.0.other_changes" href="javascript:toggleList('v7.0.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(89)
    <ol id="v7.0.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10236">SOLR-10236</a>: Removed FieldType.getNumericType(). Use getNumberType() instead.
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10347">SOLR-10347</a>: Removed index level boost support from "documents" section of the admin UI
<br /><span class="attrib">(Amrit Sarkar via
Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9959">SOLR-9959</a>: SolrInfoMBean category and hierarchy cleanup. Per-component statistics are now obtained from
the metrics API, legacy JMX support has been replaced with SolrJmxReporter functionality. Several reporter
improvements (support for multiple prefix filters, "enabled" flag, reuse of service clients).
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10418">SOLR-10418</a>: Expose safe system properties via metrics API as 'system.properties' in 'solr.jvm' group.
Add support for selecting specific properties from any compound metric using 'property' parameter to
/admin/metrics handler.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10557">SOLR-10557</a>: Make "compact" format default for /admin/metrics.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10310">SOLR-10310</a>: By default, stop splitting on whitespace prior to analysis
in edismax and standard/"lucene" query parsers.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10647">SOLR-10647</a>: Move the V1 &lt;-&gt; V2 API mapping to SolrJ
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10584">SOLR-10584</a>: We'll now always throw an exception if defaultOperator is found in schema. This config has
been deprecated since 3.6, and enforced for new configs since 6.6
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10585">SOLR-10585</a>: We'll now always throw an exception if defaultSearchField is found in schema. This config has
been deprecated since 3.6, and enforced for new configs since 6.6
<br /><span class="attrib">(janhoy, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10414">SOLR-10414</a>: RecoveryStrategy is now a Runnable instead of a Thread.
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10042">SOLR-10042</a>: Delete old deprecated Admin UI, leaving the AngularJS UI the only one supported
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10378">SOLR-10378</a>: Clicking Solr logo on AdminUI shows blank page
<br /><span class="attrib">(Takumi Yoshida via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10700">SOLR-10700</a>: Deprecated and converted the PostingsSolrHighlighter to extend UnifiedSolrHighlighter and thus no
longer use the PostingsHighlighter.  It should behave mostly the same.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10710">SOLR-10710</a>: Fix LTR failing tests.
<br /><span class="attrib">(Diego Ceccarelli via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10755">SOLR-10755</a>: delete/refactor many solrj deprecations
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10752">SOLR-10752</a>: replicationFactor (nrtReplicas) default is 0 if tlogReplicas is specified when creating a collection
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10757">SOLR-10757</a>: delete/refactor/cleanup CollectionAdminRequest deprecations
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10793">SOLR-10793</a>: BlobHandler should have a well-known permission name
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10744">SOLR-10744</a>: Update noggit to newer version (0.8)
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10792">SOLR-10792</a>: Deprecate and remove implicit registration of "lucenePlusSort" aka OldLuceneQParser
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10791">SOLR-10791</a>: Remove deprecated options in SSLTestConfig
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-7852">LUCENE-7852</a>: Correct copyright year(s) in solr/LICENSE.txt file.
<br /><span class="attrib">(Christine Poerschke, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8668">SOLR-8668</a>: In solrconfig.xml remove &lt;mergePolicy&gt; (and related &lt;mergeFactor&gt; and &lt;maxMergeDocs&gt;)
support in favor of the &lt;mergePolicyFactory&gt; element introduced by <a href="http://issues.apache.org/jira/browse/SOLR-8621">SOLR-8621</a> in Solr 5.5.0.
<br /><span class="attrib">(Christine Poerschke, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10799">SOLR-10799</a>: Extracted functionality to collect eligible replicas from HttpShardHandler.prepDistributed()
to a new method
<br /><span class="attrib">(Domenico Fabio Marino via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10801">SOLR-10801</a>: Remove several deprecated methods that were exposed to plugin writers
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10671">SOLR-10671</a>: Add abstract doInit method to the SolrMetricReporter base class.
<br /><span class="attrib">(Christine Poerschke, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10713">SOLR-10713</a>: Ignore .pid and .out files in solr working directory
<br /><span class="attrib">(Jason Gerlowski via Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10764">SOLR-10764</a>: AutoScalingHandler should validate policy and preferences before updating zookeeper.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10782">SOLR-10782</a>: Improve error handling and tests for Snitch and subclasses and general cleanups.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10419">SOLR-10419</a>: All collection APIs should use the new Policy framework for replica placement.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10800">SOLR-10800</a>: Factor out HttpShardHandler.transformReplicasToShardUrls from HttpShardHandler.prepDistributed.
<br /><span class="attrib">(Domenico Fabio Marino, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10779">SOLR-10779</a>: JavaBinCodec should use close consistently rather than having marshal() and close() call finish()
 (which closes the underlying stream).
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9623">SOLR-9623</a>: Disable remote streaming in example configs by default. Adjust Upload Limit defaults
<br /><span class="attrib">(janhoy, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4646">SOLR-4646</a>: eDismax lowercaseOperators now defaults to "false" for luceneMatchVersion &gt;= 7.0.0
<br /><span class="attrib">(janhoy, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8256">SOLR-8256</a>: Set legacyCloud=false as default
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10929">SOLR-10929</a>: Removed unused 'valType' option from ExternalFileField
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10864">SOLR-10864</a>: Simplified how Trie vs Points based numerics are randomized by SolrTestCaseJ4 by adding a static
option to PointsField to ignore 'precisionStep' attribute.  This change also begins to attempt to randomize
'docValues' on numeric field types unless tests explicity enable/disable them.
<br /><span class="attrib">(hossman, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-7883">LUCENE-7883</a>: Solr no longer uses the context class loader when resolving
resources, they are only resolved against Solr's own or "core" class loader
by default.
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10915">SOLR-10915</a>: Make builder based SolrClient constructors to be the only valid way to construct client objects and
increase the visibility of builder elements to be protected so extending the builder, and the clients is possible.
<br /><span class="attrib">(Jason Gerlowski, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10823">SOLR-10823</a>: Add reporting period to SolrMetricReporter base class.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10807">SOLR-10807</a>: Randomize Points based numeric field types in all existing tests &amp; test schemas
where Trie numerics were previously hardcoded.
<br /><span class="attrib">(hossman, Steve Rowe, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6807">SOLR-6807</a>: Changed requestDispatcher's handleSelect to default to false, thus ignoring "qt".
Simplified configs to not refer to handleSelect or "qt".  Switch all tests that assumed true to assume false
(added leading '/' in request handlers). Switch all tests referring to "standard" request handler to
instead refer to "/select" with SearchHandler. Deprecated the old StandardRequestHandler.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10456">SOLR-10456</a>: Deprecate timeout related setters from SolrClients, and replace with Builder based implementation
<br /><span class="attrib">(Jason Gerlowski, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11004">SOLR-11004</a>: Consolidate SolrClient builder code in an abstract base class
<br /><span class="attrib">(Jason Gerlowski, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10967">SOLR-10967</a>: Cleanup the default configset. The changes involve some documentation corrections, removing the currency
field from the examples and a few dynamic fields
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11016">SOLR-11016</a>: Fix TestCloudJSONFacetJoinDomain test-only bug
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11021">SOLR-11021</a>: The elevate.xml config-file is made optional in the ElevationComponent.
The default configset doesn't ship with a elevate.xml file anymore
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10898">SOLR-10898</a>: Fix <a href="http://issues.apache.org/jira/browse/SOLR-10898">SOLR-10898</a> to not deterministicly fail 1/512 runs
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10796">SOLR-10796</a>: TestPointFields: increase randomized testing of non-trivial values.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11068">SOLR-11068</a>: MOVEREPLICA and REPLACENODE API parameter names are now 'sourceNode' and 'targetNode'. The old names
viz. 'fromNode' for MOVEREPLICA and 'source', 'target' for REPLACENODE have been deprecated.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11088">SOLR-11088</a>: Fix sporadic failures of MetricsHandlerTest.testPropertyFilter on jenkins
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11037">SOLR-11037</a>: Refactor to provide NodeConfig.getSolrDataHome internal API.
<br /><span class="attrib">(ab, janhoy, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11119">SOLR-11119</a>: Switch from Trie to Points field types in the .system collection schema.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10494">SOLR-10494</a>: Make default response format JSON (wt=json), and also indent text responses formats
(indent=on) by default
<br /><span class="attrib">(Trey Grainger &amp; Cassandra Targett via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10760">SOLR-10760</a>,<a href="http://issues.apache.org/jira/browse/SOLR-11315">SOLR-11315</a>,<a href="http://issues.apache.org/jira/browse/SOLR-11313">SOLR-11313</a>: Remove trie field types and fields from example schemas.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11056">SOLR-11056</a>: Add random range query test that compares results across Trie*, *Point and DocValue-only fields
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10926">SOLR-10926</a>: Increase the odds of randomly choosing point fields in our SolrTestCaseJ4 numeric type randomization.
<br /><span class="attrib">(hossman, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10846">SOLR-10846</a>: ExternalFileField/FloatFieldSource should throw a clear exception on initialization with
a Points-based keyField, which is not supported.
<br /><span class="attrib">(hossman, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11155">SOLR-11155</a>: /analysis/field and /analysis/document requests should support points fields.
<br /><span class="attrib">(Jason Gerlowski, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10756">SOLR-10756</a>: Undeprecate ZkStateReader.updateClusterState(), mark as @lucene.internal, and rename to
forciblyRefreshAllClusterStateSlow().
<br /><span class="attrib">(hossman, shalin, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11036">SOLR-11036</a>: Separately report disk space metrics for solr.data.home and core root directory.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10919">SOLR-10919</a>: ord &amp; rord functions give confusing errors with PointFields.
<br /><span class="attrib">(hossman, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10847">SOLR-10847</a>: Provide a clear exception when attempting to use the terms component with points fields.
<br /><span class="attrib">(hossman, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9321">SOLR-9321</a>: Remove deprecated methods of ClusterState.
<br /><span class="attrib">(Jason Gerlowski, ishan, Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10033">SOLR-10033</a>: When attempting to facet with facet.mincount=0 over points fields, raise mincount to 1
and log a warning.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11178">SOLR-11178</a>: Change error handling in AutoScalingHandler to be consistent w/ other APIs
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11023">SOLR-11023</a>: Added EnumFieldType, a non-Trie-based version of EnumField, and deprecated EnumField
in favor of EnumFieldType.
<br /><span class="attrib">(hossman, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10803">SOLR-10803</a>: Mark all Trie/LegacyNumeric based fields @deprecated in Solr7.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10821">SOLR-10821</a>: Ref guide documentation for Autoscaling
<br /><span class="attrib">(Noble Paul, Cassandra Targett, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11239">SOLR-11239</a>: A special value of -1 can be specified for 'maxShardsPerNode' to denote that
there is no limit. The bin/solr script send maxShardsPerNode=-1 when creating collections. The
use of maxShardsPerNode is not supported when a cluster policy is in effect or when a
collection specific policy is specified during collection creation.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11183">SOLR-11183</a>: V2 APIs are now available at /api endpoint.
<br /><span class="attrib">(Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10617">SOLR-10617</a>: JDBCStream accepts columns of type TIME, DATE &amp; TIMESTAMP as well as CLOBs and decimal
numeric types
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10400">SOLR-10400</a>: Replace (instanceof TrieFooField || instanceof FooPointField) constructs with
FieldType.getNumberType() or SchemaField.getSortField() where appropriate.
<br /><span class="attrib">(hossman, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10438">SOLR-10438</a>: Assign explicit useDocValuesAsStored values to all points field types in
schema-point.xml/TestPointFields.
<br /><span class="attrib">(hossman, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-7705">LUCENE-7705</a>: Allow CharTokenizer-derived tokenizers and KeywordTokenizer to configure the max token length.
<br /><span class="attrib">(Amrit Sarkar via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10659">SOLR-10659</a>: Remove ResponseBuilder.getSortSpec use in SearchGroupShardResponseProcessor.
<br /><span class="attrib">(Judith Silverman via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10741">SOLR-10741</a>: Factor out createSliceShardsStr method from HttpShardHandler.prepDistributed.
<br /><span class="attrib">(Domenico Fabio Marino via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10790">SOLR-10790</a>: Fix warnings in Assign.java and ReplicaAssigner.java classes.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8437">SOLR-8437</a>: Improve RAMDirectory details in sample solrconfig files
<br /><span class="attrib">(Mark Miller, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8762">SOLR-8762</a>: return child docs in DIH debug
<br /><span class="attrib">(Gopikannan Venugopalsamy via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10501">SOLR-10501</a>: Test sortMissing{First,Last} with points fields.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10761">SOLR-10761</a>: Switch trie numeric/date fields to points in data-driven-enabled example and test schemas.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10851">SOLR-10851</a>: SolrClients should clarify expectations for solrServerUrl parameter
<br /><span class="attrib">(Jason Gerlowski
via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10891">SOLR-10891</a>: BBoxField should support point-based number sub-fields.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10834">SOLR-10834</a>: Fixed tests and test configs to stop using numeric uniqueKey fields
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10883">SOLR-10883</a>: Ref guide: Escape replacement substitutions, e.g. =&gt; to right arrow, so that they are
rendered visibly in the PDF.  Also add .adoc file checks to the top-level validate target, including
for the invisible substitutions PDF problem.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10503">SOLR-10503</a>,<a href="http://issues.apache.org/jira/browse/SOLR-10502">SOLR-10502</a>: Deprecate CurrencyField in favor of new CurrencyFieldType, which works
with point fields and provides control over dynamic fields used for the raw amount and currency
code sub-fields.
<br /><span class="attrib">(hossman, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11261">SOLR-11261</a>, <a href="http://issues.apache.org/jira/browse/SOLR-10966">SOLR-10966</a>: Upgrade to Hadoop 2.7.4 to fix incompatibility with Java 9.
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11324">SOLR-11324</a>: Clean up mention of trie fields in documentation and source comments.
<br /><span class="attrib">(Steve Rowe)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.6.5" href="javascript:toggleList('v6.6.5')">Release 6.6.5  [2018-06-03]</a></h3>
<ul id="v6.6.5.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v6.6.5.versions_of_major_components" href="javascript:toggleList('v6.6.5.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v6.6.5.versions_of_major_components.list">
      <li>Apache Tika 1.13
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.10
</li>
      <li>Jetty 9.3.14.v20161028
</li>
    </ol>
  </li>
  <li><a id="v6.6.5.new_features" href="javascript:toggleList('v6.6.5.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v6.6.5.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12530">SOLR-12530</a>: Ability to disable configset upload via -Dconfigset.upload.enabled=false startup parameter
<br /><span class="attrib">(Ishan Chattopadhyaya)</span></li>
    </ol>
  </li>
  <li><a id="v6.6.5.bug_fixes" href="javascript:toggleList('v6.6.5.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v6.6.5.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12450">SOLR-12450</a>: Don't allow referal to external resources in various config files (CVE-2018-8026).
<br /><span class="attrib">(Yuyang Xiao, Uwe Schindler)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.6.4" href="javascript:toggleList('v6.6.4')">Release 6.6.4  [2018-05-18]</a></h3>
<ul id="v6.6.4.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v6.6.4.versions_of_major_components" href="javascript:toggleList('v6.6.4.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v6.6.4.versions_of_major_components.list">
      <li>Apache Tika 1.17
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.11
</li>
      <li>Jetty 9.4.10.v20180503
</li>
    </ol>
  </li>
  <li><a id="v6.6.4.bug_fixes" href="javascript:toggleList('v6.6.4.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v6.6.4.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12316">SOLR-12316</a>: Do not allow to use absolute URIs for including other files in solrconfig.xml and schema parsing.
<br /><span class="attrib">(Ananthesh, Ishan Chattopadhyaya, Uwe Schindler)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.6.3" href="javascript:toggleList('v6.6.3')">Release 6.6.3  [2018-03-07]</a></h3>
<ul id="v6.6.3.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v6.6.3.versions_of_major_components" href="javascript:toggleList('v6.6.3.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v6.6.3.versions_of_major_components.list">
      <li>Apache Tika 1.17
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.11
</li>
      <li>Jetty 9.4.8.v20171121
</li>
    </ol>
  </li>
  <li><a id="v6.6.3.bug_fixes" href="javascript:toggleList('v6.6.3.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v6.6.3.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11971">SOLR-11971</a>: Don't allow referal to external resources in DataImportHandler's dataConfig request parameter.
<br /><span class="attrib">(麦 香浓郁, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11503">SOLR-11503</a>: Collections created with legacyCloud=true cannot be opened if legacyCloud=false
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11993">SOLR-11993</a>: LeaderInitiatedRecoveryThread does not retry on UnknownHostException
<br /><span class="attrib">(shalin, Cao Manh Dat, Steve Rowe)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.6.2" href="javascript:toggleList('v6.6.2')">Release 6.6.2  [2017-10-18]</a></h3>
<ul id="v6.6.2.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v6.6.2.versions_of_major_components" href="javascript:toggleList('v6.6.2.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v6.6.2.versions_of_major_components.list">
      <li>Apache Tika 1.16
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.10
</li>
      <li>Jetty 9.3.14.v20161028
</li>
    </ol>
  </li>
  <li><a id="v6.6.2.upgrade_notes" href="javascript:toggleList('v6.6.2.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v6.6.2.upgrade_notes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11477">SOLR-11477</a>: in the XML query parser (defType=xmlparser or {!xmlparser ... })
the resolving of external entities is now disallowed by default.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11482">SOLR-11482</a>: RunExecutableListener was deprecated and is disabled by default for
security reasons. Legacy applications still using it must explicitely pass
'-Dsolr.enableRunExecutableListener=true' to the Solr command line.
Be aware that you should really disable API-based config editing at the same
time, using '-Ddisable.configEdit=true'!
<br /><span class="attrib">(Uwe Schindler)</span></li>
    </ol>
  </li>
  <li><a id="v6.6.2.bug_fixes" href="javascript:toggleList('v6.6.2.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v6.6.2.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11477">SOLR-11477</a>: Disallow resolving of external entities in the XML query parser (defType=xmlparser).
<br /><span class="attrib">(Michael Stepankin, Olga Barinova, Uwe Schindler, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11297">SOLR-11297</a>: Message "Lock held by this virtual machine" during startup.  Solr is trying to start some cores twice.
<br /><span class="attrib">(Luiz Armesto, Shawn Heisey, Erick Erickson)</span></li>
    </ol>
  </li>
  <li><a id="v6.6.2.other_changes" href="javascript:toggleList('v6.6.2.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v6.6.2.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10335">SOLR-10335</a>: Upgrade to Tika 1.16.
<br /><span class="attrib">(Tim Allison, Tomás Fernández Löbbe via shalin)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.6.1" href="javascript:toggleList('v6.6.1')">Release 6.6.1  [2017-09-07]</a></h3>
<ul id="v6.6.1.list">
  <li><a id="v6.6.1.bug_fixes" href="javascript:toggleList('v6.6.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="v6.6.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10857">SOLR-10857</a>: standalone Solr loads UNLOADed core on request
<br /><span class="attrib">(Erick Erickson, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11024">SOLR-11024</a>: ParallelStream should set the StreamContext when constructing SolrStreams
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10908">SOLR-10908</a>: CloudSolrStream.toExpression incorrectly handles fq clauses
<br /><span class="attrib">(Rohit via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11177">SOLR-11177</a>: CoreContainer.load needs to send lazily loaded core descriptors to the proper list rather than send
them all to the transient lists.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11122">SOLR-11122</a>: Creating a core should write a core.properties file first and clean up on failure
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10910">SOLR-10910</a>: Clean up a few details left over from pluggable transient core and untangling
CoreDescriptor/CoreContainer references
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10721">SOLR-10721</a>: Provide a way to know when Core Discovery is finished and when all async cores are done loading
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11069">SOLR-11069</a>: CDCR bootstrapping can get into an infinite loop when a core is reloaded
<br /><span class="attrib">(Amrit Sarkar, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11221">SOLR-11221</a>: SolrJmxReporter broken on core reload. This resulted in some or most metrics not being reported
via JMX after core reloads, depending on timing.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11261">SOLR-11261</a>, <a href="http://issues.apache.org/jira/browse/SOLR-10966">SOLR-10966</a>: Upgrade to Hadoop 2.7.4 to fix incompatibility with Java 9.
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11228">SOLR-11228</a>: Exclude static html files in the partials directory from authentication and authorization checks. The UI
will open correctly with kerberos enabled
<br /><span class="attrib">(Ishan Chattopadhyaya, Varun Thacker)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.6.0" href="javascript:toggleList('v6.6.0')">Release 6.6.0  [2017-06-06]</a></h3>
<ul id="v6.6.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v6.6.0.versions_of_major_components" href="javascript:toggleList('v6.6.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v6.6.0.versions_of_major_components.list">
      <li>Apache Tika 1.13
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.10
</li>
      <li>Jetty 9.3.14.v20161028
</li>
    </ol>
  </li>
  <li><a id="v6.6.0.upgrade_notes" href="javascript:toggleList('v6.6.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v6.6.0.upgrade_notes.list">
      <li>Solr contribs map-reduce, morphlines-core and morphlines-cell have been removed.
<p>
</li>
      <li>JSON Facet API now uses hyper-log-log for numBuckets cardinality calculation and
calculates cardinality before filtering buckets by any mincount greater than 1.
<p>
</li>
      <li>ZooKeeper dependency has been upgraded from 3.4.6 to 3.4.10.
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v6.6.0.new_features" href="javascript:toggleList('v6.6.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(36)
    <ol id="v6.6.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9992">SOLR-9992</a>: Add support for grouping with PointFIelds.
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9994">SOLR-9994</a>: Add support for CollapseQParser with PointFields.
<br /><span class="attrib">(Varun Thacker, Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10076">SOLR-10076</a>: Hide keystore and truststore passwords from /admin/info/* outputs.
<br /><span class="attrib">(Mano Kovacs via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6736">SOLR-6736</a>: Adding support for uploading zipped configsets using ConfigSets API
<br /><span class="attrib">(Varun Rajput, Ishan Chattopadhyaya,
Noble Paul, Anshum Gupta, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10349">SOLR-10349</a>: Add totalTermFreq support to TermsComponent.
<br /><span class="attrib">(Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9993">SOLR-9993</a>: Add support for ExpandComponent with PointFields.
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10239">SOLR-10239</a>: MOVEREPLICA API
<br /><span class="attrib">(Cao Manh Dat, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9936">SOLR-9936</a>: Allow configuration for recoveryExecutor thread pool size.
<br /><span class="attrib">(Tim Owen via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10447">SOLR-10447</a>: Collections API now supports a LISTALIASES command to return a list of all collection aliases.
<br /><span class="attrib">(Yago Riveiro, Ishan Chattopadhyaya, Mark Miller, Steve Molloy, Shawn Heisey, Mike Drob, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10446">SOLR-10446</a>: CloudSolrClient can now be initialized using the base URL of a Solr instance instead of
ZooKeeper hosts. This is possible through the use of newly introduced HttpClusterStateProvider.
To fetch a list of collection aliases, this depends on LISTALIASES command, and hence this way of
initializing CloudSolrClient would not work if you have collection aliases on older versions of Solr
server that doesn't support LISTALIASES.
<br /><span class="attrib">(Ishan Chattopadhyaya, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10082">SOLR-10082</a>: Variance and Standard Deviation aggregators for the JSON Facet API.
Example: json.facet={x:"stddev(field1)", y:"variance(field2)"}
<br /><span class="attrib">(Rustam Hashimov, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10505">SOLR-10505</a>: Add multi-field support to TermsComponent when requesting terms' statistics.
<br /><span class="attrib">(Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10537">SOLR-10537</a>: SolrJ: Added SolrParams.toLocalParamsString() and ClientUtils.encodeLocalParamVal.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10507">SOLR-10507</a>: Core Admin status command to emit collection details of each core
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10521">SOLR-10521</a>: introducing sort=childfield(field) asc for searching by {!parent}
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9596">SOLR-9596</a>: Add Solr support for SimpleTextCodec, via &lt;codecFactory class="solr.SimpleTextCodecFactory"/&gt;
in solrconfig.xml (per-field specification in the schema is not possible).
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1485">SOLR-1485</a>: Add payload support with payload() value source and {!payload_score} and {!payload_check}
query parsers.
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10430">SOLR-10430</a>: Add ls command to ZkCLI for listing only sub-directories.
<br /><span class="attrib">(Peter Szantai-Kis via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10583">SOLR-10583</a>: JSON Faceting now supports a query time 'join' domain change option
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9530">SOLR-9530</a>: An Update Processor to convert normal update operation to an atomic operations such as
add, set,inc, remove ,set, removeregex
<br /><span class="attrib">(Amrit Sarkar, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10303">SOLR-10303</a>: Add date/time Stream Evaluators
<br /><span class="attrib">(Gethin James, Dennis Gove, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10351">SOLR-10351</a>: Add analyze Stream Evaluator to support streaming NLP
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10426">SOLR-10426</a>: Add shuffle Streaming Expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10274">SOLR-10274</a>: The search Streaming Expression should work in non-SolrCloud mode
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10504">SOLR-10504</a>: Add echo Streaming Expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10516">SOLR-10516</a>: Add eval Streaming Expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10566">SOLR-10566</a>: Add timeseries Streaming Expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10559">SOLR-10559</a>: Add let, get and tuple Streaming Expressions
<br /><span class="attrib">(Dennis Gove, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10582">SOLR-10582</a>: Add Correlation Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10536">SOLR-10536</a>: stats Streaming Expression should work in non-SolrCloud mode
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10622">SOLR-10622</a>: Add regress and predict Stream Evaluators
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10626">SOLR-10626</a>: Add covariance Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10625">SOLR-10625</a>: Add convolution Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10638">SOLR-10638</a>: Add normalize Stream Evaluator
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8440">SOLR-8440</a>: Support for enabling basic authentication using bin/solr|bin/solr.cmd.
<br /><span class="attrib">(Ishan Chattopadhyaya, janhoy,
Noble Paul, Hrishikesh Gadre)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10292">SOLR-10292</a>: Adds CartesianProductStream which turns a single tuple with a multi-valued field into N
tuples, one for each value in the multi-valued field.
<br /><span class="attrib">(Dennis Gove)</span></li>
    </ol>
  </li>
  <li><a id="v6.6.0.optimizations" href="javascript:toggleList('v6.6.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v6.6.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9184">SOLR-9184</a>: Add a static convenience method ModifiableSolrParams#of(SolrParams) which returns the same
instance if it already is modifiable, otherwise creates a new ModifiableSolrParams instance.
<br /><span class="attrib">(Jörg Rathlev via Koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10499">SOLR-10499</a>: facet.heatmap is now significantly faster when the docset (base query) matches everything and there are no
deleted docs.  It's also faster when the docset matches a small fraction of the index or none.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9217">SOLR-9217</a>: Reduced heap consumption for filter({!join ... score=...})
<br /><span class="attrib">(Andrey Kudryavtsev, Gopikannan Venugopalsamy via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10548">SOLR-10548</a>: JSON Facet API now uses hyper-log-log++ for determining the number of buckets
when merging requests from a multi-shard distributed request.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10524">SOLR-10524</a>: Better ZkStateWriter batching
<br /><span class="attrib">(Cao Manh Dat, Noble Paul, shalin, Scott Blum)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10619">SOLR-10619</a>: Optimize using cache for DistributedQueue in case of single-consumer
<br /><span class="attrib">(Cao Manh Dat, Scott Blum)</span></li>
    </ol>
  </li>
  <li><a id="v6.6.0.bug_fixes" href="javascript:toggleList('v6.6.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(28)
    <ol id="v6.6.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10281">SOLR-10281</a>: ADMIN_PATHS is duplicated in two places and inconsistent. This can cause automatic
retries to /admin/metrics handler by the CloudSolrClient.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10108">SOLR-10108</a>: bin/solr script recursive copy broken
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10362">SOLR-10362</a>: "Memory Pool not found" error when reporting JVM metrics.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10369">SOLR-10369</a>: bin\solr.cmd delete and healthcheck now works again; fixed continuation chars ^
<br /><span class="attrib">(Luis Goes via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10387">SOLR-10387</a>: zkTransfer normalizes destination path incorrectly if source is a windows directory
<br /><span class="attrib">(gopikannan venugopalsamy, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10323">SOLR-10323</a>: fix to SpellingQueryConverter to properly strip out colons in field-specific queries.
<br /><span class="attrib">(Amrit Sarkar via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10264">SOLR-10264</a>: Fixes multi-term synonym parsing in ManagedSynonymFilterFactory.
<br /><span class="attrib">(Jörg Rathlev, Steve Rowe, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8807">SOLR-8807</a>: fix Spellcheck "collateMaxCollectDocs" parameter to work with queries that have the
CollpasingQParserPlugin applied.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10474">SOLR-10474</a>: TestPointFields.testPointFieldReturn() depends on order of unsorted hits.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10473">SOLR-10473</a>: Correct LBHttpSolrClient's confusing SolrServerException message when timeAllowed is exceeded.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10047">SOLR-10047</a>: Mismatched Docvalues segments cause exception in Sorting/Faceting. Solr now uninverts per segment
to avoid such exceptions.
<br /><span class="attrib">(Keith Laban via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10472">SOLR-10472</a>: Fixed uninversion (aka: FieldCache) bugs with the numeric PointField classes, and CurrencyField
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5127">SOLR-5127</a>: Multiple highlight fields and wildcards are now supported e.g. hl.fl=title,text_*
<br /><span class="attrib">(Sven-S. Porst, Daniel Debray, Simon Endele, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10493">SOLR-10493</a>: Investigate SolrCloudExampleTest failures.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10552">SOLR-10552</a>: JSON Facet API numBuckets was not consistent between distributed and non-distributed requests
when there was a mincount &gt; 1.  This has been corrected by changing numBuckets cardinality processing to
ignore mincount &gt; 1 for non-distributed requests.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10520">SOLR-10520</a>: child.facet.field doubled counts at least when rows&gt;0.
<br /><span class="attrib">(Dr. Oleg Savrasov via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10480">SOLR-10480</a>: Full pagination in JSON Facet API using offset does not work.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10526">SOLR-10526</a>: facet.heatmap didn't honor facet exclusions ('ex') for distributed search.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10500">SOLR-10500</a>: nested child docs are adopted by neighbour when several parents come in update/json/docs
<br /><span class="attrib">(Alexey Suprun,noble via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10316">SOLR-10316</a>: Unloading a core can remove a ZK SolrCore registration entry for the wrong SolrCore.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10588">SOLR-10588</a>: Prevent redundant core reload on config update
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10549">SOLR-10549</a>: The new 'large' attribute had been forgotten in /schema/fieldtypes?showDefaults=true
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10615">SOLR-10615</a>: requests are suspended until SolrDispatchFilter initialization is completed.
After core container shutdown or severe initialization problem Solr responds with
http stauts 404 Not Found instead of 500 as it was before
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8149">SOLR-8149</a>: Admin UI - Plugins / Stats - active item is now highlighted
<br /><span class="attrib">(Labuzov Dmitriy via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10630">SOLR-10630</a>: HttpSolrCall.getAuthCtx().new AuthorizationContext() {...}.getParams()
sometimes throws java.lang.NullPointerException
<br /><span class="attrib">(hu xiaodong via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9527">SOLR-9527</a>: Improve distribution of replicas when restoring a collection
<br /><span class="attrib">(Hrishikesh Gadre, Stephen Lewis, Rohit, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-7821">LUCENE-7821</a>: The classic and flexible query parsers, as well as Solr's
 "lucene"/standard query parser, should require " TO " in range queries,
and accept "TO" as endpoints in range queries.
<br /><span class="attrib">(hossman, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10735">SOLR-10735</a>: Windows script (solr.cmd) didn't work properly with directory containing spaces. Adding quotations
to fix
<br /><span class="attrib">(Uwe Schindler, janhoy, Tomas Fernandez-Lobbe, Ishan Chattopadhyaya)</span></li>
    </ol>
  </li>
  <li><a id="v6.6.0.ref_guide" href="javascript:toggleList('v6.6.0.ref_guide')">Ref Guide</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v6.6.0.ref_guide.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10758">SOLR-10758</a>: Modernize the Solr ref guide's Chinese language analysis coverage.
<br /><span class="attrib">(Steve Rowe)</span></li>
    </ol>
  </li>
  <li><a id="v6.6.0.other_changes" href="javascript:toggleList('v6.6.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(29)
    <ol id="v6.6.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9221">SOLR-9221</a>: Remove Solr contribs: map-reduce, morphlines-core and morphlines-cell.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10249">SOLR-10249</a>: Refactor IndexFetcher.doFetch() to return a more detailed result.
<br /><span class="attrib">(Jeff Miller via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10304">SOLR-10304</a>: Refactor Document handling out of SolrIndexSearcher into a new class "SolrDocumentFetcher".
Deprecated SolrPluginUtils.docListToSolrDocumentList().
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10352">SOLR-10352</a>: bin/solr script now prints warning when available system entropy is lower than 300
<br /><span class="attrib">(Esther Quansah via
Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10344">SOLR-10344</a>: Update Solr default/example and test configs to use WordDelimiterGraphFilterFactory.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10343">SOLR-10343</a>: Update Solr default/example and test configs to use SynonymGraphFilterFactory.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10365">SOLR-10365</a>: Handle a SolrCoreInitializationException while publishing core state during SolrCore creation
<br /><span class="attrib">(Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10357">SOLR-10357</a>: Enable edismax and standard query parsers to handle the option combination
sow=false / autoGeneratePhraseQueries="true" by setting QueryBuilder.autoGenerateMultiTermSynonymsQuery.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10147">SOLR-10147</a>: Admin UI -&gt; Cloud -&gt; Graph: Impossible to see shard state
<br /><span class="attrib">(Amrit Sarkar, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10399">SOLR-10399</a>: Generalize some internal facet logic to simplify points/non-points field handling
<br /><span class="attrib">(Adrien Grand, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7383">SOLR-7383</a>: New DataImportHandler 'atom' example, replacing broken 'rss' example
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9601">SOLR-9601</a>: Redone DataImportHandler 'tika' example, removing all unused and irrelevant definitions
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8906">SOLR-8906</a>: Make transient core cache pluggable
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9745">SOLR-9745</a>: print errors from solr.cmd
<br /><span class="attrib">(Gopikannan Venugopalsamy via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10394">SOLR-10394</a>: Rename getSortWithinGroup to getWithinGroupSort in search.grouping.Command class.
<br /><span class="attrib">(Judith Silverman, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10440">SOLR-10440</a>: LBHttpSolrClient.doRequest is now always wrapped in a Mapped Diagnostic Context (MDC).
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10429">SOLR-10429</a>: UpdateRequest#getRoutes()should copy the response parser
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10007">SOLR-10007</a>: Clean up references to CoreContainer and CoreDescriptors
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10151">SOLR-10151</a>: Use monotonically incrementing counter for doc ids in TestRecovery.
<br /><span class="attrib">(Peter Szantai-Kis, Mano Kovacs via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10514">SOLR-10514</a>: Upgrade Metrics library to 3.2.2.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9386">SOLR-9386</a>: Upgrade Zookeeper to 3.4.10.
<br /><span class="attrib">(Shawn Heisey, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10519">SOLR-10519</a>: SolrCLI.atPath cannot handle children that begin with a slash.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9867">SOLR-9867</a>: Adding isLoading=true as core status. Fixing start after stop scenario in bin/solr
<br /><span class="attrib">(Andrey Kudryavtsev, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7041">SOLR-7041</a>: Cutover tests to using 'q.op' and 'df' instead of schema 'defaultOperator' and 'defaultSearchField'
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10601">SOLR-10601</a>: StreamExpressionParser should handle white space around = in named parameters
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10614">SOLR-10614</a>: Static fields have turned to instance's field in SimplePostTool.
Enabled TestSolrCLIRunExample.testTechproductsExample().
<br /><span class="attrib">(Andrey Kudryavtsev, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10522">SOLR-10522</a>: Revert SpellCheckComponent response format change from <a href="http://issues.apache.org/jira/browse/SOLR-9972">SOLR-9972</a> (rel. 6.5.0).  While this
was an improvement for the json "arrntv" format, it caused problems for the default json format.
<br /><span class="attrib">(James Dyer, reported by Nikita Pchelintsev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10644">SOLR-10644</a>: solr.in.sh installed by install script should be writable by solr user
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10729">SOLR-10729</a>: Deprecated LatLonType, GeoHashField, SpatialPointVectorFieldType, and SpatialTermQueryPrefixTreeFieldType.
Instead, switch to LatLonPointSpatialField or SpatialRecursivePrefixTreeFieldType or RptWithGeometrySpatialField.
<br /><span class="attrib">(David Smiley)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.5.1" href="javascript:toggleList('v6.5.1')">Release 6.5.1  [2017-04-27]</a></h3>
<ul id="v6.5.1.list">
  <li><a id="v6.5.1.bug_fixes" href="javascript:toggleList('v6.5.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(12)
    <ol id="v6.5.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10383">SOLR-10383</a>: Fix debug related NullPointerException in solr/contrib/ltr OriginalScoreFeature class.
<br /><span class="attrib">(Vitezslav Zak, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10416">SOLR-10416</a>: The JSON output of /admin/metrics is fixed to write the container as a
map (SimpleOrderedMap) instead of an array (NamedList).
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10277">SOLR-10277</a>: On 'downnode', lots of wasteful mutations are done to ZK.
<br /><span class="attrib">(Joshua Humphries, Scott Blum, Varun Thacker, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10421">SOLR-10421</a>: Fix params persistence for solr/contrib/ltr (MinMax|Standard)Normalizer classes.
<br /><span class="attrib">(Jianxiong Dong, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10404">SOLR-10404</a>: The fetch() streaming expression wouldn't work if a value included query syntax chars (like :+-).
Fixed, and enhanced the generated query to not pollute the queryCache.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10423">SOLR-10423</a>: Disable graph query production via schema configuration &lt;fieldtype ... enableGraphQueries="false"&gt;.
This fixes broken queries for ShingleFilter-containing query-time analyzers when request param sow=false.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10425">SOLR-10425</a>: Fix indexed="false" on numeric PointFields
<br /><span class="attrib">(Tomás Fernández Löbbe, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10341">SOLR-10341</a>: SQL AVG function mis-interprets field type.
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10444">SOLR-10444</a>: SQL interface does not use client cache.
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10420">SOLR-10420</a>: Solr 6.x leaking one SolrZkClient instance per second
<br /><span class="attrib">(Scott Blum, Cao Manh Dat, Markus Jelsma, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10439">SOLR-10439</a>: The new 'large' attribute had been forgotten in /schema/fields?showDefaults=true
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10527">SOLR-10527</a>: edismax with sow=false fails to create dismax-per-term queries when any field is boosted.
<br /><span class="attrib">(Steve Rowe)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.5.0" href="javascript:toggleList('v6.5.0')">Release 6.5.0  [2017-03-27]</a></h3>
<ul id="v6.5.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v6.5.0.versions_of_major_components" href="javascript:toggleList('v6.5.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v6.5.0.versions_of_major_components.list">
      <li>Apache Tika 1.13
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.3.14.v20161028
</li>
      <li>Apache Calcite 1.11.0
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v6.5.0.upgrade_notes" href="javascript:toggleList('v6.5.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v6.5.0.upgrade_notes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10226">SOLR-10226</a>: JMX metric "avgTimePerRequest" (and the corresponding metric in the metrics API for
each handler) used to be a simple non-decaying average based on total cumulative time and the
number of requests. New Codahale Metrics implementation applies exponential decay to this value,
which heavily biases the average towards the last 5 minutes.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8593">SOLR-8593</a>: Parallel SQL now uses Apache Calcite as its SQL framework. As part of this change
the default aggregation mode has been changed to facet rather than map_reduce. There has also been changes
to the SQL aggregate response and some SQL syntax changes. Consult the documentation for full details.
<p>
</li>
    </ol>
  </li>
  <li><a id="v6.5.0.new_features" href="javascript:toggleList('v6.5.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(31)
    <ol id="v6.5.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9836">SOLR-9836</a>: Add ability to recover from leader when index corruption is detected on SolrCore creation.
<br /><span class="attrib">(Mike Drob via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9926">SOLR-9926</a>: Allow passing arbitrary java system properties to zkcli.
<br /><span class="attrib">(Hrishikesh Gadre via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9885">SOLR-9885</a>: Allow pre-startup Solr log management in Solr bin scripts to be disabled.
<br /><span class="attrib">(Mano Kovacs via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9481">SOLR-9481</a>: Authentication and Authorization plugins now work in standalone mode if security.json is placed in
SOLR_HOME on every node. Editing config through API is supported but affects only that one node.
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8029">SOLR-8029</a>: Added new style APIs and a framework for creating new APIs and mapping old APIs to new
<br /><span class="attrib">(noble, Steve Rowe, Cassandra Targett, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9933">SOLR-9933</a>: SolrCoreParser now supports configuration of custom SpanQueryBuilder classes.
<br /><span class="attrib">(Daniel Collins, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7955">SOLR-7955</a>: Auto create .system collection on first request if it does not exist
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10087">SOLR-10087</a>: StreamHandler now supports registering custom streaming expressions from the blob store
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9997">SOLR-9997</a>: Enable configuring SolrHttpClientBuilder via java system property.
<br /><span class="attrib">(Hrishikesh Gadre via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9912">SOLR-9912</a>: Add facet.excludeTerms parameter support.
<br /><span class="attrib">(Jonny Marks, David Smiley, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9916">SOLR-9916</a>: Adds Stream Evaluators to support evaluating values from tuples. Supports boolean,
numeric, and conditional evaluators. BooleanOperations have been removed in preference of
BooleanEvaluators.
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9903">SOLR-9903</a>: Stop interrupting the update executor on shutdown, it can cause graceful shutdowns to put replicas into Leader
Initiated Recovery among other undesirable things.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8396">SOLR-8396</a>: Add support for PointFields in Solr
<br /><span class="attrib">(Ishan Chattopadhyaya, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9987">SOLR-9987</a>: Add support for MultiValued DocValues in PointFields using SortedNumericDocValues
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5944">SOLR-5944</a>: In-place updates of Numeric DocValues. To leverage this, the _version_ field and the updated
field must both be stored=false, indexed=false, docValues=true.
<br /><span class="attrib">(Ishan Chattopadhyaya, hossman, noble,
shalin, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10158">SOLR-10158</a>: Add support for "preload" option in MMapDirectoryFactory.
<br /><span class="attrib">(Amrit Sarkar via Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10153">SOLR-10153</a> &amp; <a href="http://issues.apache.org/jira/browse/SOLR-10152">SOLR-10152</a>: The Unified and Postings based highlighters: Add hl.bs.type=SEPARATOR along with new param
hl.bs.separator to break passages by a provided single character.
<br /><span class="attrib">(Amrit Sarkar, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10156">SOLR-10156</a>: Add significantTerms Streaming Expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8593">SOLR-8593</a>: Integrate Apache Calcite into the SQLHandler
<br /><span class="attrib">(Kevin Risden, Cao Manh Dat, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10146">SOLR-10146</a>: Added button to the Admin UI 'Collection' tab for deleting an inactive shard
<br /><span class="attrib">(Amrit Sarkar, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9999">SOLR-9999</a>: Instrument DirectUpdateHandler2. This registers existing statistics under metrics API and adds
more metrics to track the rates of update and delete commands.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9986">SOLR-9986</a>: Implement DatePointField
<br /><span class="attrib">(Cao Manh Dat, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8045">SOLR-8045</a>: Deploy V2 API at /v2 instead of /solr/v2
<br /><span class="attrib">(Cao Manh Dat, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10039">SOLR-10039</a>: New LatLonPointSpatialField replacement for LatLonType (and some uses of RPT).  Multi-value capable
indexed geo lat-lon points, query by rect or circle.  Efficient distance sorting/boosting too.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10250">SOLR-10250</a>: CloudSolrClient can now return versions for documents added or deleted when "versions=true" is passed.
However, if there is a leader election while this request is in transit, the versions may not be returned from that
shard.
<br /><span class="attrib">(Boris Naguet, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9045">SOLR-9045</a>: Make RecoveryStrategy settings configurable.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10224">SOLR-10224</a>: Add disk total and disk free metrics.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10085">SOLR-10085</a>: SQL result set fields should be ordered by the field list
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10254">SOLR-10254</a>: significantTerms Streaming Expression should work in non-SolrCloud mode
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10286">SOLR-10286</a>: string/text fields may now declare themselves as large="true" in the schema.  Large fields are always
lazy loaded and will only take up space in the document cache if the actual value is &lt; 512KB.  This option
requires "stored" and must not be multiValued.  It's intended for fields that might have very large values so that
they don't get cached in memory.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9185">SOLR-9185</a>: Solr's edismax and "Lucene"/standard query parsers will no longer split on whitespace before sending
terms to analysis, if given the "sow=false" request param ("sow"=&gt;"split on whitespace").  This enables multi-term
source synonyms to match at query-time using SynonymGraphFilterFactory; other analysis components will also now
work at query time, e.g. ShingleFilterFactory.  By default, and when the "sow=true" param is specified, these
parsers' behavior remains the same: queries will be split on whitespace before sending individual terms to analysis.
<br /><span class="attrib">(Steve Rowe)</span></li>
    </ol>
  </li>
  <li><a id="v6.5.0.bug_fixes" href="javascript:toggleList('v6.5.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(34)
    <ol id="v6.5.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9976">SOLR-9976</a>: Fix init bug in SegmentsInfoRequestHandlerTest
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9977">SOLR-9977</a>: Fix config bug in DistribDocExpirationUpdateProcessorTest that allowed false assumptions
about when index version changes
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9979">SOLR-9979</a>: Macro expansion should not be done in shard requests
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9114">SOLR-9114</a>: NPE using TermVectorComponent, MoreLikeThisComponent in combination with ExactStatsCache
<br /><span class="attrib">(Cao Manh Dat, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10049">SOLR-10049</a>: Collection deletion leaves behind the snapshot metadata
<br /><span class="attrib">(Hrishikesh Gadre via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10120">SOLR-10120</a>: A SolrCore reload can remove the index from the previous SolrCore during replication index rollover.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10124">SOLR-10124</a>: Replication can skip removing a temporary index directory in some cases when it should not.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9996">SOLR-9996</a>: Unstored IntPointField returns Long type
<br /><span class="attrib">(Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10104">SOLR-10104</a>: BlockDirectoryCache release hooks do not work with multiple directories.
<br /><span class="attrib">(Mike Drob, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10121">SOLR-10121</a>: Fix race conditions in HDFS BlockCache that can contribute to corruption in high
concurrency situations.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10141">SOLR-10141</a>: Upgrade to Caffeine 2.4.0 since v1.0.1 contributed to BlockCache corruption because the
removal listener was called more than once for some items and not at all for other items.
<br /><span class="attrib">(Ben Manes, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10114">SOLR-10114</a>: Reordered delete-by-query causes inconsistenties between shards that have
child documents
<br /><span class="attrib">(Mano Kovacs, Mihaly Toth, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10159">SOLR-10159</a>: When DBQ is reordered with an in-place update, upon whose updated value the DBQ is based
on, the DBQ fails due to excessive caching in DeleteByQueryWrapper
<br /><span class="attrib">(Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10020">SOLR-10020</a>: CoreAdminHandler silently swallows some errors.
<br /><span class="attrib">(Mike Drob via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10063">SOLR-10063</a>: CoreContainer shutdown has race condition that can cause a hang on shutdown.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10170">SOLR-10170</a>: ClassCastException in RecoveryStrategy.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9846">SOLR-9846</a>: Overseer is not always closed after being started.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10168">SOLR-10168</a>: ShardSplit can fail with NPE in OverseerCollectionMessageHandler#waitForCoreAdminAsyncCallToComplete.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9824">SOLR-9824</a>: Some bulk update paths could be very slow due to CUSC polling.
<br /><span class="attrib">(David Smiley, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10055">SOLR-10055</a>: Linux installer now renames existing bin/solr.in.* as bin/solr.in.*.orig to make the installed config in
/etc/defaults be the one found by default when launching solr manually.
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10196">SOLR-10196</a>: ElectionContext#runLeaderProcess can hit NPE on core close.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10225">SOLR-10225</a>: Fix HDFS BlockCache evictions metric to not count explicit removal
due to a directory close.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10088">SOLR-10088</a>: Installer script does not put zoo.cfg in SOLR_HOME
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10226">SOLR-10226</a>: add back "totalTime" metric to all handlers. See also the back-compat note.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9838">SOLR-9838</a>: "inc" atomic update doesn't respect default field value
<br /><span class="attrib">(hoss, Amrit Sarkar, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10269">SOLR-10269</a>: MetricsHandler JSON output incorrect.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10279">SOLR-10279</a>: The autoAddReplica feature can result in SolrCores being assigned new shards when using
legacyCloud=false and will also fail on a state check when taking over a core registration with a new
core.
<br /><span class="attrib">(Mark Miller, Hrishikesh Gadre, Patrick Dvorack)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10184">SOLR-10184</a>: Fix bin/solr so it can run properly on java9
<br /><span class="attrib">(hossman, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9516">SOLR-9516</a>: Admin UI (angular) now works with Kerberos, by excluding serving of /solr/libs/* through
SolrDispatchFilter.
<br /><span class="attrib">(Cassandra Targett, Amrit Sarkar via Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10302">SOLR-10302</a>: Solr's zkcli scripts now able to find the metrics libraries, which it couldn't earlier
<br /><span class="attrib">(kiran, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10283">SOLR-10283</a>: Learning to Rank (LTR) SolrFeature to reject searches with missing efi (External Feature Information) used by fq.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10237">SOLR-10237</a>: Poly-fields should work with subfields that have docValues=true
<br /><span class="attrib">(Tomás Fernández Löbbe, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10218">SOLR-10218</a>: The Schema API commands "add-field-type" and "replace-field-type" improperly specify SimilarityFactory params.
<br /><span class="attrib">(Benjamin Deininger, Troy Mohl, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10319">SOLR-10319</a>: SolrCore "instanceDir" metric not visible in JMX.
<br /><span class="attrib">(ab)</span></li>
    </ol>
  </li>
  <li><a id="v6.5.0.optimizations" href="javascript:toggleList('v6.5.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v6.5.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9941">SOLR-9941</a>: Clear the deletes lists at UpdateLog before replaying from log. This prevents redundantly pre-applying
DBQs, during the log replay, to every update in the log as if the DBQs were out of order.
<br /><span class="attrib">(hossman, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9764">SOLR-9764</a>: All filters that match all documents in the index now share the same memory (DocSet).
<br /><span class="attrib">(Michael Sun, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9584">SOLR-9584</a>: Support Solr being proxied with another endpoint than default /solr, by using relative links
in AdminUI javascripts
<br /><span class="attrib">(Yun Jie Zhou via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10143">SOLR-10143</a>: PointFields will create IndexOrDocValuesQuery when a field is both, indexed=true and docValues=true
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10273">SOLR-10273</a>: The field with the longest value (if it exceeds 4K) is moved to be last in the Lucene Document in order
to benefit from stored field optimizations in Lucene that can avoid reading it when it's not needed.  If the field is
multi-valued, they all move together to the end to retain order.
<br /><span class="attrib">(David Smiley)</span></li>
    </ol>
  </li>
  <li><a id="v6.5.0.other_changes" href="javascript:toggleList('v6.5.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(28)
    <ol id="v6.5.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9980">SOLR-9980</a>: Expose configVersion in core admin status
<br /><span class="attrib">(Jessica Cheng Mallet via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9972">SOLR-9972</a>: SpellCheckComponent collations and suggestions returned as a JSON object rather than a list
<br /><span class="attrib">(Christine Poerschke in response to bug report from Ricky Oktavianus Lazuardy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9983">SOLR-9983</a>: Fixing NullPointerException failure by TestManagedSchemaThreadSafety
adding check for Zookeeper session expiration
<br /><span class="attrib">(Steve Rowe, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10043">SOLR-10043</a>: Reduce logging of pre-start log rotation
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10018">SOLR-10018</a>: Increase the default hl.maxAnalyzedChars to 51200 for the Unified &amp; Postings Highlighter so that all
highlighters now have this same default.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6246">SOLR-6246</a>: Added tests to check that the changes in <a href="http://issues.apache.org/jira/browse/LUCENE-7564">LUCENE-7564</a> and <a href="http://issues.apache.org/jira/browse/LUCENE-7670">LUCENE-7670</a>
enable AnalyzingInfixSuggester and BlendedInfixSuggester to play nicely with core reload.
SolrSuggester.build() now throws SolrCoreState.CoreIsClosedException when interrupted
by a core reload/shutdown.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9800">SOLR-9800</a>: Factor out FacetComponent.newSimpleFacets method.
<br /><span class="attrib">(Jonny Marks via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9914">SOLR-9914</a>: SimpleFacets: refactor "contains" check into "SubstringBytesRefFilter" class.
<br /><span class="attrib">(Jonny Marks, David Smiley, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10072">SOLR-10072</a>: The test TestSelectiveWeightCreation appears to be unreliable.
<br /><span class="attrib">(Michael Nilsson via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10011">SOLR-10011</a>: Refactor PointField &amp; TrieField to now have a common base class, NumericFieldType. The
TrieField.TrieTypes and PointField.PointTypes are now consolidated to NumericFieldType.NumberType. This
refactoring also fixes a bug whereby PointFields were not using DocValues for range queries for
indexed=false, docValues=true fields.
<br /><span class="attrib">(Ishan Chattopadhyaya, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9890">SOLR-9890</a>: factor out ShardResultTransformerUtils.[un]marshSortValue methods
<br /><span class="attrib">(Judith Silverman, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9966">SOLR-9966</a>: Convert/migrate tests using EasyMock to Mockito
<br /><span class="attrib">(Cao Manh Dat,  Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10173">SOLR-10173</a>: Make HttpShardHandlerFactory.getReplicaListTransformer more extensible.
<br /><span class="attrib">(Ramsey Haddad via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9842">SOLR-9842</a>: UpdateRequestProcessors have no way to guarantee the closing of resources used for a request.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9848">SOLR-9848</a>: Lower solr.cloud.wait-for-updates-with-stale-state-pause back down from 7 seconds.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10020">SOLR-10020</a>: Cannot reload a core if it fails initialization.
<br /><span class="attrib">(Mike Drob via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9450">SOLR-9450</a>: The docs/ folder in the binary distribution now contains a single index.html file linking
to the online documentation, reducing the size of the download
<br /><span class="attrib">(janhoy, Shawn Heisey, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7453">SOLR-7453</a>: Remove replication &amp; backup scripts in the solr/scripts directory of the checkout
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10214">SOLR-10214</a>: Remove unused HDFS BlockCache metrics and add storeFails, as well as adding total
counts for lookups, hits, and evictions.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10134">SOLR-10134</a>: EmbeddedSolrServer responds on Schema API requests
<br /><span class="attrib">(Robert Alexandersson via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10219">SOLR-10219</a>: re-enable HDFS tests under JDK9
<br /><span class="attrib">(hossman, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10155">SOLR-10155</a>: For numeric types facet.contains= and facet.prefix= are now rejected.
<br /><span class="attrib">(Gus Heck, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10171">SOLR-10171</a>: Add Constant Reduction Rules to Calcite Planner
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10230">SOLR-10230</a>: default TTL of PKIAuthenticationPlugin increased to 10secs
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10235">SOLR-10235</a>: Fix DIH's TestJdbcDataSource to work with Java 9 and other Java runtimes that
do not use the same DriverManager implementation like Oracle's original one. The test now
uses a fully implemented Driver instance returning a mock connection. The test also works
correct now if other drivers were installed before test execution (e.g., through IDE).
<br /><span class="attrib">(hossman, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8876">SOLR-8876</a>: change morphline test config files to work around 'importCommands' bug when using java9
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10247">SOLR-10247</a>: Support non-numeric metrics and a "compact" format of /admin/metrics output.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9990">SOLR-9990</a>: Add PointFields in example/default schemas
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.4.2" href="javascript:toggleList('v6.4.2')">Release 6.4.2  [2017-03-07]</a></h3>
<ul id="v6.4.2.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v6.4.2.versions_of_major_components" href="javascript:toggleList('v6.4.2.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v6.4.2.versions_of_major_components.list">
      <li>Apache Tika 1.13
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.3.14.v20161028
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v6.4.2.bug_fixes" href="javascript:toggleList('v6.4.2.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v6.4.2.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10130">SOLR-10130</a>, <a href="http://issues.apache.org/jira/browse/SOLR-10182">SOLR-10182</a>: Serious performance degradation in Solr 6.4.1 due to the new metrics collection.
Default settings in solrconfig.xml /config/indexConfig/metrics have been changed to turn off
IndexWriter metrics collection. Directory level metrics collection has been completely removed until
a better design is found.
<br /><span class="attrib">(ab, ishan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10138">SOLR-10138</a>: Transaction log replay can hit an NPE due to new Metrics code.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10083">SOLR-10083</a>: Fix instanceof check in ConstDoubleSource.equals
<br /><span class="attrib">(Pushkar Raste via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10190">SOLR-10190</a>: Fix NPE in CloudSolrClient when reading stale alias
<br /><span class="attrib">(Janosch Woschitz via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10192">SOLR-10192</a>: Fix copy/paste in solr-ltr pom.xml template.
<br /><span class="attrib">(Christine Poerschke)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.4.1" href="javascript:toggleList('v6.4.1')">Release 6.4.1  [2017-02-06]</a></h3>
<ul id="v6.4.1.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v6.4.1.versions_of_major_components" href="javascript:toggleList('v6.4.1.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v6.4.1.versions_of_major_components.list">
      <li>Apache Tika 1.13
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.3.14.v20161028
</li>
    </ol>
  </li>
  <li><a id="v6.4.1.bug_fixes" href="javascript:toggleList('v6.4.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v6.4.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9969">SOLR-9969</a>: "Plugin/Stats" section of the UI doesn't display empty metric types
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8491">SOLR-8491</a>: solr.cmd SOLR_SSL_OPTS is overwritten
<br /><span class="attrib">(Sam Yi, Andy Hind, Marcel Berteler, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10031">SOLR-10031</a>: Validation of filename params in ReplicationHandler
<br /><span class="attrib">(Hrishikesh Gadre, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10054">SOLR-10054</a>: Core swapping doesn't work with new metrics changes in place
<br /><span class="attrib">(ab)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.4.0" href="javascript:toggleList('v6.4.0')">Release 6.4.0  [2017-01-23]</a></h3>
<ul id="v6.4.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v6.4.0.versions_of_major_components" href="javascript:toggleList('v6.4.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v6.4.0.versions_of_major_components.list">
      <li>Apache Tika 1.13
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.3.14.v20161028
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v6.4.0.upgrade_notes" href="javascript:toggleList('v6.4.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(8)
    <ol id="v6.4.0.upgrade_notes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9166">SOLR-9166</a>: Export handler returns zero for numeric fields that are not in the original doc. One
consequence of this change is that you must be aware that some tuples will not have values if
there were none in the original document.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8785">SOLR-8785</a>: Metrics related classes in org.apache.solr.util.stats have been removed in favor of
the dropwizard metrics library. Any custom plugins using these classes should be changed to use
the equivalent classes from the metrics library.
As part of this, the following changes were made to the output of Overseer Status API:
</li>
      <li>The "totalTime" metric has been removed because it is no longer supported
</li>
      <li>The metrics "75thPctlRequestTime", "95thPctlRequestTime", "99thPctlRequestTime"
and "999thPctlRequestTime" in Overseer Status API have been renamed to "75thPcRequestTime", "95thPcRequestTime"
and so on for consistency with stats output in other parts of Solr.
</li>
      <li>The metrics "avgRequestsPerMinute", "5minRateRequestsPerMinute" and "15minRateRequestsPerMinute" have been
replaced by corresponding per-second rates viz. "avgRequestsPerSecond", "5minRateRequestsPerSecond"
and "15minRateRequestsPerSecond" for consistency with stats output in other parts of Solr.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9708">SOLR-9708</a>: You are encouraged to try out the UnifiedHighlighter by setting hl.method=unified and report feedback. It
might become the default in 7.0. It's more efficient/faster than the other highlighters, especially compared to the
original Highlighter. That said, some options aren't supported yet.
It will get more features in time, especially with your input. See HighlightParams.java
for a listing of highlight parameters annotated with which highlighters use them.
hl.useFastVectorHighlighter is now considered deprecated in lieu of hl.method=fastVector.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9712">SOLR-9712</a>: maxWarmingSearchers now defaults to 1, and more importantly commits will now block if this
limit is exceeded instead of throwing an exception (a good thing). Consequently there is no longer a
risk in overlapping commits.  Nonetheless users should continue to avoid excessive committing. Users are
advised to remove any pre-existing maxWarmingSearchers entries from their solrconfig.xml files.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7466">SOLR-7466</a>: complexphrase query parser now supports leading wildcards, beware of its' possible heaviness.
Users are encouraged to use ReversedWildcardFilter in index time analysis.
<p>
</li>
    </ol>
  </li>
  <li><a id="v6.4.0.new_features" href="javascript:toggleList('v6.4.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(40)
    <ol id="v6.4.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9918">SOLR-9918</a>: Add SkipExistingDocumentsProcessor that skips duplicate inserts and ignores updates to missing docs
<br /><span class="attrib">(Tim Owen via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9293">SOLR-9293</a>: Solrj client support for hierarchical clusters and other topics
marker.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9681">SOLR-9681</a>: FacetModule / JSON Facet API added the ability to add filters directly to
any facet command.  The filters are applied after any domain change operations.
Example:  { type:terms, field:category, filter:"user:yonik" }
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9442">SOLR-9442</a>, <a href="http://issues.apache.org/jira/browse/SOLR-9787">SOLR-9787</a>: Adds Array of Name Type Value (json.nl=arrntv) style to JSONResponseWriter.
<br /><span class="attrib">(Jonny Marks, Christine Poerschke, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8542">SOLR-8542</a>: Adds Solr Learning to Rank (LTR) plugin for reranking results with machine learning models.
<br /><span class="attrib">(Michael Nilsson, Diego Ceccarelli, Joshua Pantony, Jon Dorando, Naveen Santhapuri, Alessandro Benedetti, David Grohmann, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9055">SOLR-9055</a>: Make collection backup/restore extensible.
<br /><span class="attrib">(Hrishikesh Gadre, Varun Thacker, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9682">SOLR-9682</a>: JSON Facet API: added "param" query type to facet domain filter specification to obtain
filters via query parameters.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9038">SOLR-9038</a>: Add a command-line tool to manage the snapshots functionality
<br /><span class="attrib">(Hrishikesh Gadre via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9633">SOLR-9633</a>: Limit memory consumed by FastLRUCache with a new 'maxRamMB' config parameter.
<br /><span class="attrib">(yonik, Michael Sun, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9666">SOLR-9666</a>: SolrJ LukeResponse support dynamic fields
<br /><span class="attrib">(Fengtan via Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9077">SOLR-9077</a>: Streaming expressions should support collection alias
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9324">SOLR-9324</a>: Support Secure Impersonation / Proxy User for solr authentication
<br /><span class="attrib">(Gregory Chanan, Hrishikesh Gadre via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9721">SOLR-9721</a>: javabin Tuple parser for streaming and other end points
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9708">SOLR-9708</a>: Added UnifiedSolrHighlighter, a highlighter adapter for Lucene's UnifiedHighlighter. The adapter is a
derivative of the PostingsSolrHighlighter, supporting mostly the same parameters with some differences.
Introduced "hl.method" parameter which can be set to original|fastVector|postings|unified to pick the highlighter at
runtime without the need to modify solrconfig from the default configuration. hl.useFastVectorHighlighter is now
considered deprecated in lieu of hl.method=fastVector.
<br /><span class="attrib">(Timothy Rodriguez, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9728">SOLR-9728</a>: Ability to specify Key Store type in solr.in.sh file for SSL
<br /><span class="attrib">(Michael Suzuki, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5043">SOLR-5043</a>: New solr.dns.prevent.reverse.lookup system property that can be used to prevent long core
(re)load delays on systems with missconfigured hostname/DNS
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9844">SOLR-9844</a>: FieldCache information fetched via the mbeans handler or seen via the UI now displays the total size used.
The individual cache entries in the response are now formatted better as well.
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9513">SOLR-9513</a>: Generic authentication plugins (GenericHadoopAuthPlugin and ConfigurableInternodeAuthHadoopPlugin) that delegate
all functionality to Hadoop authentication framework.
<br /><span class="attrib">(Hrishikesh Gadre via Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9860">SOLR-9860</a>: Enable configuring invariantParams via HttpSolrClient.Builder
<br /><span class="attrib">(Hrishikesh Gadre, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4735">SOLR-4735</a>, <a href="http://issues.apache.org/jira/browse/SOLR-9921">SOLR-9921</a>: Improve metrics reporting. This uses the dropwizard metric library, adding an internal
API for registering and reporting metrics from Solr components. Several new metrics and an improved JMX
reporter have been added
<br /><span class="attrib">(Alan Woodward, Jeff Wartes, Christine Poerschke, Kelvin Wong, shalin, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9788">SOLR-9788</a>: Use instrumented jetty classes provided by the dropwizard metric library.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9805">SOLR-9805</a>: Use metrics-jvm library to instrument jvm internals such as GC, memory usage and others.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9812">SOLR-9812</a>, <a href="http://issues.apache.org/jira/browse/SOLR-9911">SOLR-9911</a>, <a href="http://issues.apache.org/jira/browse/SOLR-9960">SOLR-9960</a>: Added a new /admin/metrics API to return all metrics collected by Solr via API.
API supports four optional multi-valued parameters:
<ul class="bulleted-list">
<li class="bulleted-list">
'group' (all,jvm,jetty,node,core),
</li>
<li class="bulleted-list">
'type' (all,counter,timer,gauge,histogram),
</li>
<li class="bulleted-list">
'prefix' that filters the returned metrics,
</li>
<li class="bulleted-list">
'registry' that selects one or more registries by prefix (eg. solr.jvm,solr.core.collection1)
</li>
<li class="bulleted-list">
Example: http://localhost:8983/solr/admin/metrics?group=jvm,jetty&amp;type=counter
</li>
<li class="bulleted-list">
Example: http://localhost:8983/solr/admin/metrics?group=jvm&amp;prefix=buffers,os
</li>
<li class="bulleted-list">
Example: http://localhost:8983/solr/admin/metrics?registry=solr.node,solr.core&amp;prefix=ADMIN
</li>
</ul>
<span class="attrib">(shalin, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9884">SOLR-9884</a>: Add version to segments handler output
<br /><span class="attrib">(Steven Bower via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9725">SOLR-9725</a>: Substitute properties into JdbcDataSource configuration
<br /><span class="attrib">( Jamie Jackson, Yuri Sashevsky via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9877">SOLR-9877</a>: <a href="http://issues.apache.org/jira/browse/SOLR-9923">SOLR-9923</a>: <a href="http://issues.apache.org/jira/browse/SOLR-9948">SOLR-9948</a>: Use instrumented http client and connection pool in HttpShardHandler and
UpdateShardHandler. The metrics are collected per query-less URL and method by default but it can be configured
to host/method and per-method as well.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9880">SOLR-9880</a>: Add Ganglia, Graphite and SLF4J metrics reporters.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9897">SOLR-9897</a>: Add hl.requireFieldMatch toggle support when using the UnifiedHighlighter.  Defaults to false like the
other highlighters that support this.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9905">SOLR-9905</a>: Add NullStream to isolate the performance of the ExportWriter
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9891">SOLR-9891</a>: Add mkroot command to bin/solr and bin/solr.cmd
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9668">SOLR-9668</a>,<a href="http://issues.apache.org/jira/browse/SOLR-7197">SOLR-7197</a>: introduce cursorMark='true' in SolrEntityProcessor
<br /><span class="attrib">(Yegor Kozlov, Raveendra Yerraguntl via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9684">SOLR-9684</a>: Add priority Streaming Expression
<br /><span class="attrib">(Joel Bernstein, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9896">SOLR-9896</a>: Instrument and collect metrics from query, update, core admin and core load thread pools.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9854">SOLR-9854</a>: Collect metrics for index merges and index store IO
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8530">SOLR-8530</a>: Add HavingStream to Streaming API and StreamingExpressions
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7466">SOLR-7466</a>: Enable leading wildcard in complexphrase query parser, optimize it with  ReversedWildcardFilterFactory
when it's provided
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9935">SOLR-9935</a>: Add hl.fragsize support when using the UnifiedHighlighter to avoid snippets/Passages that are too small.
Defaults to 70.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9856">SOLR-9856</a>: Collect metrics for shard replication and tlog replay on replicas
<br /><span class="attrib">(ab)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9886">SOLR-9886</a>: Add a 'enable' flag to caches to enable/disable them
<br /><span class="attrib">(Pushkar Raste, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9947">SOLR-9947</a>: Clean up some SolrInfoMBean categories. Add an alternative hierarchical view in JMX
for SolrInfoMBeans, which uses similar conventions to SolrJmxReporter.
<br /><span class="attrib">(ab)</span></li>
    </ol>
  </li>
  <li><a id="v6.4.0.optimizations" href="javascript:toggleList('v6.4.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v6.4.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9704">SOLR-9704</a>: Facet Module / JSON Facet API: Optimize blockChildren facets that have
filters specified by using those filters as acceptDocs.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9726">SOLR-9726</a>: Reduce number of lookupOrd calls made by the DocValuesFacets.getCounts method.
<br /><span class="attrib">(Jonny Marks via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9772">SOLR-9772</a>: Deriving distributed sort values (fieldSortValues) should reuse
comparator and only invalidate leafComparator.
<br /><span class="attrib">(John Call via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9786">SOLR-9786</a>: FieldType has a new getSetQuery() method that can take a set of terms
and create a more efficient query (such as TermsQuery).  The solr query parser has been
changed to use this method when appropriate.  The parser also knows when it is being
used to parse a filter and will create TermsQueries from large lists of normal terms
or numbers, resulting in a query that will execute faster.  This also acts to avoid
BooleanQuery maximum clause limit.  Query parsing itself has also been optimized,
resulting in less produced garbage and 5-7% better performance.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9902">SOLR-9902</a>: StandardDirectoryFactory should use Files API for it's move implementation.
<br /><span class="attrib">(Mark Miller, Mike Drob)</span></li>
    </ol>
  </li>
  <li><a id="v6.4.0.bug_fixes" href="javascript:toggleList('v6.4.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(38)
    <ol id="v6.4.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9701">SOLR-9701</a>: NPE in export handler when "fl" parameter is omitted.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9433">SOLR-9433</a>: SolrCore clean-up logic uses incorrect path to delete dataDir on failure to create a core.
<br /><span class="attrib">(Evan Sayer, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9360">SOLR-9360</a>: Solr script not properly checking SOLR_PID
<br /><span class="attrib">(Alessandro Benedetti via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9716">SOLR-9716</a>: RecoveryStrategy sends prep recovery command without setting read time out which can cause
replica recovery to hang indefinitely on network partitions.
<br /><span class="attrib">(Cao Manh Dat, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9624">SOLR-9624</a>: In Admin UI, do not attempt to highlight CSV output
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9005">SOLR-9005</a>: In files example, add a guard condition to javascript URP script
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9519">SOLR-9519</a>: JSON Facet API: don't stop at an empty facet bucket if any sub-facets still have a chance
of matching something due to filter exclusions (which can widen the domain again).
<br /><span class="attrib">(Michael Sun, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9740">SOLR-9740</a>: A bug in macro expansion of multi-valued parameters caused non-expanded values
after the first expanded value in the same multi-valued parameter to be dropped.
<br /><span class="attrib">(Erik Hatcher, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9751">SOLR-9751</a>: PreAnalyzedField can cause managed schema corruption.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9736">SOLR-9736</a>: Solr resolves the collection name against the first available leader or first replica
of the first slice. This puts undue pressure on leader cores and likely on the wrong ones. This is
fixed to randomly pick a leader on updates or a replica core otherwise.
<br /><span class="attrib">(Cao Manh Dat via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9284">SOLR-9284</a>: The HDFS BlockDirectoryCache should not let it's keysToRelease or names maps grow indefinitely.
<br /><span class="attrib">(Mark Miller, Michael Sun)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9729">SOLR-9729</a>: JDBCStream improvements
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9626">SOLR-9626</a>: new Admin UI now also highlights matched terms in the Analysis screen.
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9512">SOLR-9512</a>: CloudSolrClient's cluster state cache can break direct updates to leaders
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5260">SOLR-5260</a>: Facet search on a docvalue field in a multi shard collection
<br /><span class="attrib">(Trym Møller, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9768">SOLR-9768</a>: RecordingJsonParser produces incomplete json
<br /><span class="attrib">(Wojciech Stryszyk via ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9616">SOLR-9616</a>: Solr throws exception when expand=true on empty index
<br /><span class="attrib">(Timo Hund via Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9832">SOLR-9832</a>: Schema modifications are not immediately visible on the coordinating node.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9834">SOLR-9834</a>: A variety of spots in the code can create a collection zk node after the collection has been
removed.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9707">SOLR-9707</a>: Don't forward DeleteByQuery requests to down replicas.
<br /><span class="attrib">(Jessica Cheng Mallet via Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9823">SOLR-9823</a>: CoreContainer incorrectly setting MDCLoggingContext for core
<br /><span class="attrib">(Jessica Cheng Mallet via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1953">SOLR-1953</a>: It may be possible for temporary files to accumulate until the Solr process is shut down.
<br /><span class="attrib">(Karl Wright, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9847">SOLR-9847</a>: Stop blocking further schema updates while waiting for a pending update to propagate to other replicas.
This reduces the likelihood of a (time-limited) distributed deadlock during concurrent schema updates.
<br /><span class="attrib">(Mark Miller, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9760">SOLR-9760</a>: Windows script doesn't need write permission
<br /><span class="attrib">(Alex Crome by Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9699">SOLR-9699</a>,<a href="http://issues.apache.org/jira/browse/SOLR-4668">SOLR-4668</a>: fix exception from core status in parallel with core reload
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9859">SOLR-9859</a>: replication.properties cannot be updated after being written and neither replication.properties or
index.properties are durable in the face of a crash.
<br /><span class="attrib">(Pushkar Raste, Chris de Kok, Cao Manh Dat, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9901">SOLR-9901</a>: Implement move in HdfsDirectoryFactory.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9900">SOLR-9900</a>: fix false positives on range queries with ReversedWildcardFilterFactory
<br /><span class="attrib">(Yonik Seeley via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9495">SOLR-9495</a>: AIOBE with confusing message for incomplete sort spec in Streaming Expression
<br /><span class="attrib">(Gus Heck, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9154">SOLR-9154</a>: Fix DirectSolrSpellChecker to work when added through the Config API.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9919">SOLR-9919</a>: random Streaming Expression is not registered in /stream or /graph handler
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7495">SOLR-7495</a>: Support Facet.field on a non-DocValued, single-value, int field
<br /><span class="attrib">(Varun Thacker, Scott Stults)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9917">SOLR-9917</a>: JSON Facet API percentile function caused a NullPointerException in distributed mode when
there were no values in a bucket from a shard.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9931">SOLR-9931</a>: JSON Facet API hll (hyper-log-log) function returned 0 for non-empty buckets with no field values
in local mode, but nothing for distributed mode.  Both modes now return 0.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9503">SOLR-9503</a>: NPE in Replica Placement Rules when using Overseer Role with other rules
<br /><span class="attrib">(Tim Owen via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9883">SOLR-9883</a>: Example schemaless solr config files can lead to invalid tlog replays: when updates are buffered,
update processors ordered before DistributedUpdateProcessor, e.g. field normalization, are never run.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9644">SOLR-9644</a>: SimpleMLTQParser and CloudMLTQParser did not handle field boosts properly
and CloudMLTQParser included extra strings from the field definitions in the query.
<br /><span class="attrib">(Ere Maijala via Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9954">SOLR-9954</a>: Prevent against failure during failed snapshot cleanup from swallowing the actual cause
for the snapshot to fail.
<br /><span class="attrib">(thelabdude)</span></li>
    </ol>
  </li>
  <li><a id="v6.4.0.other_changes" href="javascript:toggleList('v6.4.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(28)
    <ol id="v6.4.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7539">SOLR-7539</a>: Upgrade the clustering plugin to Carrot2 3.15.0.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9621">SOLR-9621</a>: Remove several Guava &amp; Apache Commons calls in favor of java 8 alternatives.
<br /><span class="attrib">(Michael Braun via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9720">SOLR-9720</a>: Refactor Responsewriters to remove dependencies on TupleStream,
Tuple, Explanation
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9717">SOLR-9717</a>: Refactor '/export' to not hardcode the JSON output and to use an API
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9739">SOLR-9739</a>: JavabinCodec implements PushWriter interface
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8332">SOLR-8332</a>: Factor HttpShardHandler[Factory]'s url shuffling out into a ReplicaListTransformer class.
<br /><span class="attrib">(Christine Poerschke, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9597">SOLR-9597</a>: Add setReadOnly(String ...) to ConnectionImpl
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9609">SOLR-9609</a>: Change hard-coded keysize from 512 to 1024
<br /><span class="attrib">(Jeremy Martini via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8785">SOLR-8785</a>: Use Dropwizard Metrics library for core metrics. The copied over code in
org.apache.solr.util.stats has been removed.
<br /><span class="attrib">(Jeff Wartes, Kelvin Wong, Christine Poerschke, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9784">SOLR-9784</a>: Refactor CloudSolrClient to eliminate direct dependency on ZK
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9801">SOLR-9801</a>: Upgrade jetty to 9.3.14.v20161028
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9783">SOLR-9783</a>: (Search|Top)Group[s]ShardResponseProcessor.process: turned sortWithinGroup null check into assert.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9660">SOLR-9660</a>: in GroupingSpecification factor [group](sort|offset|limit) into [group](sortSpec)
<br /><span class="attrib">(Judith Silverman, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9819">SOLR-9819</a>: Upgrade commons-fileupload to 1.3.2, fixing a potential vulnerability CVE-2016-3092
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9827">SOLR-9827</a>: ConcurrentUpdateSolrClient creates a RemoteSolrException if the remote host responded with a non-ok
response (instead of a SolrException) and includes the remote error message as part of the exception message
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9846">SOLR-9846</a>: OverseerAutoReplicaFailoverThread can take too long to stop and leak out of unit tests.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8959">SOLR-8959</a>: Refactored TestSegmentSorting out of TestMiniSolrCloudCluster
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9874">SOLR-9874</a>: Solr will reject CREATEALIAS requests if target collections don't exist
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9878">SOLR-9878</a>: fixing lazy logic for retrieving ReversedWildcardFilterFactory in SolrQueryParserBase
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9758">SOLR-9758</a>: refactor preferLocalShards implementation
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9448">SOLR-9448</a>: providing a test to workaround a differently named uniqueKey field
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9899">SOLR-9899</a>: StandardDirectoryFactory should use optimizations for all FilterDirectorys not just NRTCachingDirectory.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9915">SOLR-9915</a>: PeerSync alreadyInSync check is not backwards compatible and results in full replication during a rolling restart
<br /><span class="attrib">(Tim Owen via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3990">SOLR-3990</a>: Moves getIndexSize() from ReplicationHandler to SolrCore
<br /><span class="attrib">(Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9944">SOLR-9944</a>: Map the nodes function name to the GatherNodesStream
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9777">SOLR-9777</a>: IndexFingerprinting should use getCombinedCoreAndDeletesKey() instead of getCoreCacheKey() for per-segment caching
<br /><span class="attrib">(Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9934">SOLR-9934</a>: SolrTestCase.clearIndex has been improved to take advantage of low level test specific logic that
clears the index metadata more completely then a normal *:* DBQ can due to update versioning.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9893">SOLR-9893</a>: Update Mockito to version 2.6.2 for Java 9 support. Disable all legacy EasyMock tests when running
on Java 9 until they were migrated to Mockito.
<br /><span class="attrib">(Uwe Schindler)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.3.0" href="javascript:toggleList('v6.3.0')">Release 6.3.0  [2016-11-08]</a></h3>
<ul id="v6.3.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v6.3.0.versions_of_major_components" href="javascript:toggleList('v6.3.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v6.3.0.versions_of_major_components.list">
      <li>Apache Tika 1.13
</li>
      <li>Carrot2 3.12.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.3.8.v20160314
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v6.3.0.upgrade_notes" href="javascript:toggleList('v6.3.0.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v6.3.0.upgrade_notes.list">
      <li>If you use the JSON Facet API (json.facet) with method=stream, you must now set sort='index asc' to get the streaming
behavior; otherwise it won't stream.  Reminder: "method" is a hint that doesn't change defaults of other parameters.
<p>
</li>
      <li>If you use the JSON Facet API (json.facet) to facet on a numeric field and if you use mincount=0 or if you set the
prefix, then you will now get an error as these options are incompatible with numeric faceting.
<p>
</li>
      <li>Solr's logging verbosity at the INFO level has been greatly reduced, and
you may need to update the log configs to use the DEBUG level to see all the
logging messages you used to see at INFO level before.
<p>
</li>
      <li>We are no longer backing up solr.log and solr_gc.log files in date-stamped copies forever. If you relied on
the solr_log_&lt;date&gt; or solr_gc_log_&lt;date&gt; being in the logs folder that will no longer be the case.
See <a href="http://issues.apache.org/jira/browse/SOLR-9570">SOLR-9570</a> for details.
<p>
</li>
      <li>The create/deleteCollection methods on MiniSolrCloudCluster have been
deprecated.  Clients should instead use the CollectionAdminRequest API.  In
addition, MiniSolrCloudCluster#uploadConfigDir(File, String) has been
deprecated in favour of #uploadConfigSet(Path, String)
<p>
</li>
      <li>The bin/solr.in.sh (bin/solr.in.cmd on Windows) is now completely commented by default. Previously, this wasn't so,
which had the effect of masking existing environment variables.
<p>
</li>
    </ol>
  </li>
  <li><a id="v6.3.0.new_features" href="javascript:toggleList('v6.3.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(27)
    <ol id="v6.3.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5725">SOLR-5725</a>: facet.method=enum can bypass exact counts calculation with facet.exists=true, it just returns 1 for
terms which exists in result docset.
<br /><span class="attrib">(Alexey Kozhemiakin, Sebastian Koziel, Radoslaw Zielinski via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9127">SOLR-9127</a>: Excel workbook (.xlsx) response writer. use 'wt=xlsx'
<br /><span class="attrib">(Tony Moriarty, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9469">SOLR-9469</a>: JettySolrRunner now has the option of restarting using a different
port
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9319">SOLR-9319</a>: DELETEREPLICA can accept a 'count' and remove appropriate replicas
<br /><span class="attrib">(Nitin Sharma, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8186">SOLR-8186</a>: Reduce logging to logs/solr-&lt;port&gt;-console.log when not running in foreground mode
Show timestamp also in foreground log. Also removes some logging noise.
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8487">SOLR-8487</a>: Adds CommitStream to support sending commits to a collection being updated.
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9534">SOLR-9534</a>: You can now set Solr's log level through environment variable SOLR_LOG_LEVEL
Also adds conveience arguments -q (quiet: WARN) and -v (verbose: DEBUG) to bin/solr
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9537">SOLR-9537</a>: Support facet scoring with the scoreNodes expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9558">SOLR-9558</a>: DIH TemplateTransformerto to support multivalued fields
<br /><span class="attrib">(Ted Sullivan via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9557">SOLR-9557</a>: Every implicit requesthandler now has a default 'useParams' attribute
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9572">SOLR-9572</a>: config API to show expanded useParams for request handlers inline
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9258">SOLR-9258</a>: Optimizing, storing and deploying AI models with Streaming Expressions
<br /><span class="attrib">(Cao Manh Dat, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9205">SOLR-9205</a>: Added method LukeResponse.getSchemaFlags() which returns field
information as an EnumSet
<br /><span class="attrib">(Fengtan, Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9520">SOLR-9520</a>: Kerberos delegation support in SolrJ
<br /><span class="attrib">(Ishan Chattopadhyaya, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9146">SOLR-9146</a>: Parallel SQL engine should support &gt;, &gt;=, &lt;, &lt;=, &lt;&gt;, != syntax
<br /><span class="attrib">(Timothy Potter, Joel Bernstein, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9337">SOLR-9337</a>: Add fetch Streaming Expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9103">SOLR-9103</a>: Restore ability for users to add custom Streaming Expressions
<br /><span class="attrib">(Cao Manh Dat)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9657">SOLR-9657</a>: New TemplateUpdateProcessorFactory added
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9417">SOLR-9417</a>: Allow daemons to terminate when they finish iterating a topic
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8370">SOLR-8370</a>: Display configured Similarity in Schema-Browser, both global/default and per-field/field-type
<br /><span class="attrib">(janhoy, Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9326">SOLR-9326</a>: Ability to create/delete/list snapshots at collection level.
<br /><span class="attrib">(Hrishikesh Gadre via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9662">SOLR-9662</a>: New parameter -u &lt;user:pass&gt; in bin/post to pass basicauth credentials
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9654">SOLR-9654</a>: Add "overrequest" parameter to JSON Facet API to control amount of overrequest
on a distributed terms facet.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2212">SOLR-2212</a>: Add a factory class corresponding to Lucene's NoMergePolicy.
<br /><span class="attrib">(Lance Norskog, Cao Manh Dat via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9670">SOLR-9670</a>: Support SOLR_AUTHENTICATION_OPTS in solr.cmd
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9559">SOLR-9559</a>: Add ExecutorStream to execute stored Streaming Expressions
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1085">SOLR-1085</a>: Add support for MoreLikeThis queries and responses in SolrJ client.
<br /><span class="attrib">(Maurice Jumelet, Bill Mitchell, Cao Manh Dat via shalin)</span></li>
    </ol>
  </li>
  <li><a id="v6.3.0.bug_fixes" href="javascript:toggleList('v6.3.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(26)
    <ol id="v6.3.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9310">SOLR-9310</a>: PeerSync fails on a node restart due to IndexFingerPrint mismatch
<br /><span class="attrib">(Pushkar Raste, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9484">SOLR-9484</a>: The modify collection API should wait for the modified properties to show up in the
cluster state.
<br /><span class="attrib">(Cao Manh Dat, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9507">SOLR-9507</a>: CoreContainer threads now correctly set their MDC logging values
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9522">SOLR-9522</a>: Improve error handling in ZKPropertiesWriter
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8080">SOLR-8080</a>: bin/solr start script now exits with informative message if using wrong Java version
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9475">SOLR-9475</a>: bin/install_solr_service.sh script got improved detection of Linux distro, especially within
virtualized/Docker environment through parsing of /etc/*-release files. Now also supports CentOS.
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9524">SOLR-9524</a>: SolrIndexSearcher.getIndexFingerprint uses dubious synchronization
<br /><span class="attrib">(Mike Drob, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9542">SOLR-9542</a>: Kerberos delegation tokens requires Jackson library
<br /><span class="attrib">(Ishan Chattopadhyaya via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9330">SOLR-9330</a>: Fix AlreadyClosedException on admin/mbeans?stats=true
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9411">SOLR-9411</a>: Better validation for Schema API add-field and add-dynamic-field
<br /><span class="attrib">(janhoy, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9504">SOLR-9504</a>: A replica with an empty index becomes the leader even when other more qualified replicas
are in line.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9554">SOLR-9554</a>: Fix NullPointerException when cores are loaded in parallel and switch schema.xml to managed-scheme.
<br /><span class="attrib">(Alan Woodward, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9556">SOLR-9556</a>: OverseerAutoFailoverReplicaThread was not exiting on interrupt
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9563">SOLR-9563</a>: Collection creation could fail if an ADDREPLICA subrequest arrived
at a node before its local state had updated with the new collection data
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9278">SOLR-9278</a>: Index replication interactions with IndexWriter can cause deadlock.
<br /><span class="attrib">(Xunlong via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9604">SOLR-9604</a>: Pooled SSL connections were not being re-used
<br /><span class="attrib">(Alan Woodward,
Mikhail Khludnev, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9325">SOLR-9325</a>: solr.log is now written to $SOLR_LOGS_DIR without changing log4j.properties
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9518">SOLR-9518</a>: Kerberos Delegation Tokens don't work without a chrooted ZK
<br /><span class="attrib">(Ishan Chattopadhyaya,via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9687">SOLR-9687</a>: Fixed Interval Facet count issue in cases of open/close intervals on the same values
<br /><span class="attrib">(Andy Chillrud, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9441">SOLR-9441</a>: Solr collection backup on HDFS can only be manipulated by the Solr process owner.
<br /><span class="attrib">(Hrishikesh Gadre via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9536">SOLR-9536</a>: OldBackupDirectory timestamp field needs to be initialized to avoid NPE.
<br /><span class="attrib">(Hrishikesh Gadre, hossman via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2039">SOLR-2039</a>: Multivalued fields with dynamic names does not work properly with DIH.
<br /><span class="attrib">(K A, ruslan.shv, Cao Manh Dat via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4164">SOLR-4164</a>: group.limit=-1 was not supported for grouping in distributed mode.
<br /><span class="attrib">(Cao Manh Dat, Lance Norskog, Webster Homer, hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9692">SOLR-9692</a>: blockUnknown property makes inter-node communication impossible
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2094">SOLR-2094</a>: XPathEntityProcessor should reinitialize the XPathRecordReader instance if
the 'forEach' or 'xpath' attributes are templates &amp; it is not a root entity
<br /><span class="attrib">(Cao Manh Dat, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9697">SOLR-9697</a>: zk upconfig broken on windows
<br /><span class="attrib">(Xavier Jmlucjav via janhoy)</span></li>
    </ol>
  </li>
  <li><a id="v6.3.0.optimizations" href="javascript:toggleList('v6.3.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="v6.3.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9374">SOLR-9374</a>: Speed up Jmx MBean retrieval for FieldCache.
<br /><span class="attrib">(Tim Owen via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9449">SOLR-9449</a>: Example schemas do not index _version_ field anymore because the field
has DocValues enabled already.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9447">SOLR-9447</a>: Do not clone SolrInputDocument if update processor chain does not contain custom processors.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9452">SOLR-9452</a>: JsonRecordReader should not deep copy document before handler.handle().
<br /><span class="attrib">(noble, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9142">SOLR-9142</a>: JSON Facet API: new method=dvhash can be chosen for fields with high cardinality.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9446">SOLR-9446</a>: Leader failure after creating a freshly replicated index can send nodes into recovery even if
index was not changed
<br /><span class="attrib">(Pushkar Raste, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9592">SOLR-9592</a>: retrieving docValues as stored values was sped up by using the proper leaf
reader rather than ask for a global view.  In extreme cases, this leads to a 100x speedup.
<br /><span class="attrib">(Takahiro Ishikawa, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9566">SOLR-9566</a>: Don't put replicas into recovery when first creating a Collection
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9546">SOLR-9546</a>: Eliminate unnecessary boxing/unboxing going on in SolrParams
<br /><span class="attrib">(Pushkar Raste, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9506">SOLR-9506</a>: cache IndexFingerprint for each segment
<br /><span class="attrib">(Pushkar Raste, yonik, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7506">SOLR-7506</a>: Roll over GC logs by default via bin/solr scripts
<br /><span class="attrib">(shalin, janhoy)</span></li>
    </ol>
  </li>
  <li><a id="v6.3.0.other_changes" href="javascript:toggleList('v6.3.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(44)
    <ol id="v6.3.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9412">SOLR-9412</a>: Add failOnMissingParams option to MacroExpander, add TestMacroExpander class.
<br /><span class="attrib">(Jon Dorando, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9406">SOLR-9406</a>: SolrSuggester should selectively register close hook
<br /><span class="attrib">(Gethin James, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8961">SOLR-8961</a>: Add a test module for solr-test-framework
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9474">SOLR-9474</a>: MiniSolrCloudCluster will not reuse ports by default when
restarting its JettySolrRunners
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9498">SOLR-9498</a>: Remove HDFS properties from DIH solrconfig.xml, as started in <a href="http://issues.apache.org/jira/browse/SOLR-6943">SOLR-6943</a>
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9365">SOLR-9365</a>: Reduce noise in solr logs during graceful shutdown.
<br /><span class="attrib">(Cao Manh Dat via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9451">SOLR-9451</a>: Make clusterstatus command logging less verbose.
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9502">SOLR-9502</a>: ResponseWriters should natively support MapSerializable
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9538">SOLR-9538</a>: Relocate (BinaryResponse|JSON|Smile)Writer tests to org.apache.solr.response
which is the package of the classes they test.
<br /><span class="attrib">(Jonny Marks via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9508">SOLR-9508</a>: Install script install_solr_service.sh now checks existence of tools.
New option -n to avoid starting service after installation
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7826">SOLR-7826</a>: Refuse "bin/solr create" if run as root, unless -force is specified
<br /><span class="attrib">(janhoy, Binoy Dalal)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6871">SOLR-6871</a>: Updated the quickstart tutorial to cover the 6.2.0 release, and added ant target
 "generate-website-quickstart" to convert the bundled version of the tutorial into one suitable
 for the website.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5563">SOLR-5563</a>: Move lots of SolrCloud logging from 'info' to 'debug'
<br /><span class="attrib">(janhoy, Alan
Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9544">SOLR-9544</a>: Allow ObjectReleaseTracker more time to check for asynchronously
closing resources
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6677">SOLR-6677</a>: Reduced logging during startup and shutdown, moved more logs to DEBUG level
<br /><span class="attrib">(janhoy, Shawn Heisey, Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6090">SOLR-6090</a>: Remove unreachable printLayout usage in cloud tests.
<br /><span class="attrib">(Cao Manh Dat via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9551">SOLR-9551</a>: Add JSONWriter constructor variant, JSONWriterTest.testConstantsUnchanged test.
<br /><span class="attrib">(Jonny Marks, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9500">SOLR-9500</a>: Add a LogLevel annotation to set log levels on specific tests
<br /><span class="attrib">(Alan
Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9548">SOLR-9548</a>: The beginning of solr.log now starts with a more informative welcome message
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9547">SOLR-9547</a>: Do not allow bin/solr start as root user, unless -force param specified
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9567">SOLR-9567</a>: Make ReRankQParserPlugin's private ReRankCollector a public class of its own.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7436">SOLR-7436</a>: Solr stops printing stacktraces in log and output
<br /><span class="attrib">(janhoy, hossman, Markus Jelsma)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9576">SOLR-9576</a>: Make FieldAnalysisRequestHandler, DocumentAnalysisRequestHandler &amp; DumpRequestHandler
implicit
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9574">SOLR-9574</a>: Factor out AbstractReRankQuery from ReRankQParserPlugin's private ReRankQuery.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5041">SOLR-5041</a>: Add a test to make sure that a leader always recovers from log on startup.
<br /><span class="attrib">(Cao Manh Dat, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9588">SOLR-9588</a>: Remove Guava dependency from SolrJ
<br /><span class="attrib">(Ishan Chattopadhyaya, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8140">SOLR-8140</a>: Remove mentions of unimplemented admin-extra from the new Admin UI
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9589">SOLR-9589</a>: Remove jackson dependency from SolrJ
<br /><span class="attrib">(Ishan Chattopadhyaya, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8385">SOLR-8385</a>: Narrow StreamFactory.withFunctionName clazz parameter to prevent misconfiguration
<br /><span class="attrib">(Jason Gerlowski, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8969">SOLR-8969</a>: SQLHandler causes NPE in non-cloud mode
<br /><span class="attrib">(Markus Jelsma, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9610">SOLR-9610</a>: New AssertTool in SolrCLI for easier cross platform assertions from command line
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9680">SOLR-9680</a>: Better error messages in SolrCLI when authentication required
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9639">SOLR-9639</a>: Test only fix. Prevent CDCR tests from removing collection during recovery that used to blow up jvm
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9625">SOLR-9625</a>: Add HelloWorldSolrCloudTestCase class
<br /><span class="attrib">(Christine Poerschke, Alan Woodward, Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9642">SOLR-9642</a>: Refactor the core level snapshot cleanup mechanism to rely on Lucene
<br /><span class="attrib">(Hrishikesh Gadre via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9627">SOLR-9627</a>: Add QParser.getSortSpec, deprecate misleadingly named QParser.getSort
<br /><span class="attrib">(Judith Silverman, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9632">SOLR-9632</a>: Add MiniSolrCloudCluster#deleteAllCollections() method
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9634">SOLR-9634</a>: Deprecate collection methods on MiniSolrCloudCluster
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7850">SOLR-7850</a>: Moved defaults within bin/solr.in.sh (and bin/solr.in.cmd on Windows) to bin/solr (and bin/solr.cmd)
such that the default state of these files is to set nothing. This makes Solr work better with Docker.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9570">SOLR-9570</a>: Various log tidying now happens at Solr startup:
Old solr_log_&lt;date&gt; and solr_gc_log_&lt;date&gt; files are removed, avoiding disks to fill up,
solr.log.X files are rotated, preserving solr.log from last run in solr.log.1, solr.log.1 =&gt; solr.log.2 etc
solr-*-console.log files are moved into $SOLR_LOGS_DIR/archived/ instead of being overwritten
Last JVM garbage collection log solr_gc.log is moved into $SOLR_LOGS_DIR/archived/
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4531">SOLR-4531</a>: Add tests to ensure that recovery does not fail on corrupted tlogs.
<br /><span class="attrib">(Simon Scofield, Cao Manh Dat via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5245">SOLR-5245</a>: Add a test to ensure that election contexts are keyed off both collection name and coreNodeName
so that killing a shard in one collection does not result in leader election in a different collection.
See <a href="http://issues.apache.org/jira/browse/SOLR-5243">SOLR-5243</a> for the related bug.
<br /><span class="attrib">(Cao Manh Dat via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9533">SOLR-9533</a>: Reload core config when a core is reloaded
<br /><span class="attrib">(Gethin James, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9371">SOLR-9371</a>: Fix bin/solr calculations for start/stop wait time and RMI_PORT.
<br /><span class="attrib">(Shawn Heisey via Erick Erickson)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.2.1" href="javascript:toggleList('v6.2.1')">Release 6.2.1  [2016-09-20]</a></h3>
<ul id="v6.2.1.list">
  <li><a id="v6.2.1.bug_fixes" href="javascript:toggleList('v6.2.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="v6.2.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9494">SOLR-9494</a>: Use of {!collapse} sometimes doesn't correctly return true for Collector.needsScores(), especially when the
query was cached. This can cause an exception when 'q' is a SpanQuery or potentially others.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6744">SOLR-6744</a>: fl renaming / alias of uniqueKey field generates null pointer exception in SolrCloud configuration
<br /><span class="attrib">(Mike Drob via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9445">SOLR-9445</a>: Admin requests are retried by CloudSolrClient and LBHttpSolrClient on failure.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9439">SOLR-9439</a>: Shard split clean up logic for older failed splits is faulty. The delete shard API
has also been made more resilient against failures resulting from non-existent cores.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9430">SOLR-9430</a>: Fix locale lookup in DIH &lt;propertyWriter/&gt; to use BCP47 language tags
to be consistent with other places in Solr. Language names still work for backwards
compatibility.
<br /><span class="attrib">(Uwe Schindler, Boris Steiner)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9389">SOLR-9389</a>: HDFS Transaction logs stay open for writes which leaks Xceivers.
<br /><span class="attrib">(Tim Owen via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9188">SOLR-9188</a>: blockUnknown property makes inter-node communication impossible
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9455">SOLR-9455</a>: Deleting a sub-shard in recovery state can mark parent shard as inactive.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9461">SOLR-9461</a>: DELETENODE, REPLACENODE should pass down the 'async' param to subcommands
<br /><span class="attrib">(shalin, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9444">SOLR-9444</a>: Fix path usage for cloud backup/restore.
<br /><span class="attrib">(Hrishikesh Gadre, Uwe Schindler, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9381">SOLR-9381</a>: Snitch for freedisk uses '/' instead of 'coreRootDirectory'
<br /><span class="attrib">(Tim Owen, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9488">SOLR-9488</a>: Shard split can fail to write commit data on shutdown/restart causing replicas to recover
without replicating the index. This can cause data loss.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9490">SOLR-9490</a>: Fixed bugs in BoolField that caused it to erroneously return "false" for all docs depending
on usage
<br /><span class="attrib">(Colvin Cowie, Dan Fox, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9438">SOLR-9438</a>: Shard split can be marked successful and sub-shard states switched to 'active' even when
one or more sub-shards replicas do not recover due to the leader crashing or restarting between the time
the replicas are created and before they can recover. This can cause data loss.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9408">SOLR-9408</a>: Fix TreeMergeOutputFormat to add timestamp metadata to a commit. SolrCloud replication relies on this.
<br /><span class="attrib">(Jessica Cheng Mallet via Varun Thacker)</span></li>
    </ol>
  </li>
  <li><a id="v6.2.1.other_changes" href="javascript:toggleList('v6.2.1.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v6.2.1.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7362">SOLR-7362</a>: Fix TestReqParamsAPI test failures
<br /><span class="attrib">(noble, Varun Thacker)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.2.0" href="javascript:toggleList('v6.2.0')">Release 6.2.0  [2016-08-25]</a></h3>
<ul id="v6.2.0.list">
  <li><a id="v6.2.0.versions_of_major_components" href="javascript:toggleList('v6.2.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v6.2.0.versions_of_major_components.list">
      <li>Apache Tika 1.13
</li>
      <li>Carrot2 3.12.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.3.8.v20160314
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v6.2.0.new_features" href="javascript:toggleList('v6.2.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(20)
    <ol id="v6.2.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9187">SOLR-9187</a>: Support dates and booleans in /export handler, support boolean DocValues fields
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8048">SOLR-8048</a>: bin/solr script should support basic auth credentials provided in solr.in.sh
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7374">SOLR-7374</a>: Core level Backup/Restore now supports specifying the directory implementation to use
via the "repository" parameter.
<br /><span class="attrib">(Hrishikesh Gadre, Varun Thacker, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9216">SOLR-9216</a>: Support collection.configName in MODIFYCOLLECTION request
<br /><span class="attrib">(Keith Laban, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9251">SOLR-9251</a>: Support for a new tag 'role' in replica placement rules
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9194">SOLR-9194</a>: Enhance the bin/solr script to perform file operations to/from Zookeeper
<br /><span class="attrib">(Erick Erickson, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9242">SOLR-9242</a>: Collection Backup/Restore now supports specifying the directory implementation to use
via the "repository" parameter.
<br /><span class="attrib">(Hrishikesh Gadre, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9193">SOLR-9193</a>: Add scoreNodes Streaming Expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9243">SOLR-9243</a>: Add terms.list parameter to the TermsComponent to fetch the docFreq for a list of terms
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9090">SOLR-9090</a>: Add directUpdatesToLeadersOnly flag to solrj CloudSolrClient.
<br /><span class="attrib">(Marvin Justice, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9270">SOLR-9270</a>: Allow spatialContextFactory to be simply "JTS". And if any spatial params include the old
Spatial4j package "com.spatial4j.core" it is rewritten to "org.locationtech.spatial4j" with a warning.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9240">SOLR-9240</a>: Support parallel ETL with the topic expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9275">SOLR-9275</a>: XML QueryParser support (defType=xmlparser) now extensible via configuration.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9200">SOLR-9200</a>: Add Delegation Token Support to Solr.
<br /><span class="attrib">(Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9038">SOLR-9038</a>: Solr core snapshots: The current commit can be snapshotted which retains the commit and associates it with
a name.  The core admin API can create snapshots, list them, and delete them. Snapshot names can be referenced in
doing a core backup, and in replication.  Snapshot metadata is stored in a new snapshot_metadata/ dir.
<br /><span class="attrib">(Hrishikesh Gadre via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9279">SOLR-9279</a>: New boolean comparison function queries comparing numeric arguments: gt, gte, lt, lte, eq
<br /><span class="attrib">(Doug Turnbull, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9252">SOLR-9252</a>: Feature selection and logistic regression on text
<br /><span class="attrib">(Cao Manh Dat, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6465">SOLR-6465</a>: CDCR: fall back to whole-index replication when tlogs are insufficient.
<br /><span class="attrib">(Noble Paul, Renaud Delbru, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9320">SOLR-9320</a>: A REPLACENODE command to decommission an existing node with another new node
<br /><span class="attrib">(noble, Nitin Sharma, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9318">SOLR-9318</a>: A DELETENODE command to delete all replicas in that node
<br /><span class="attrib">(noble, Nitin Sharma, Varun Thacker)</span></li>
    </ol>
  </li>
  <li><a id="v6.2.0.bug_fixes" href="javascript:toggleList('v6.2.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(40)
    <ol id="v6.2.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9191">SOLR-9191</a>: OverseerTaskQueue.peekTopN() fatally flawed
<br /><span class="attrib">(Scott Blum, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9199">SOLR-9199</a>: ZkController#publishAndWaitForDownStates logic is inefficient
<br /><span class="attrib">(Hrishikesh Gadre)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9161">SOLR-9161</a>: Change SolrPluginUtils.invokeSetters implementation to accommodate setter variants.
<br /><span class="attrib">(Christine Poerschke, Steve Rowe, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9234">SOLR-9234</a>: srcField parameter works only when all fields are captured in the /update/json/docs
endpoint
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8546">SOLR-8546</a>: <a href="http://issues.apache.org/jira/browse/SOLR-8546">SOLR-8546</a>: TestLazyCores is failing a lot on the Jenkins cluster.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9237">SOLR-9237</a>: DefaultSolrHighlighter.doHighlightingByFastVectorHighlighter can't be overidden
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8626">SOLR-8626</a>: 404 error when clicking nodes in cloud graph view in angular UI.
<br /><span class="attrib">(janhoy, Trey Grainger via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9254">SOLR-9254</a>: GraphTermsQueryQParserPlugin throws NPE when field being searched is not present in segment
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8657">SOLR-8657</a>: Fix SolrRequestInfo error logs if QuerySenderListener is being used
<br /><span class="attrib">(Pascal Chollet,
Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8777">SOLR-8777</a>: Duplicate Solr process can cripple a running process.
<br /><span class="attrib">(Jessica Cheng Mallet, Scott Blum, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9246">SOLR-9246</a>: If the JDBCStream sees an unknown column type it will now throw a detailed exception.
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9181">SOLR-9181</a>: Fix some races in CollectionStateWatcher API
<br /><span class="attrib">(Alan Woodward, Scott
Blum)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9235">SOLR-9235</a>: Fixed NPE when using non-numeric range query in deleteByQuery
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9088">SOLR-9088</a>: Fixed TestManagedSchemaAPI failures which exposed race conditions in the schema API
<br /><span class="attrib">( Varun Thacker, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9207">SOLR-9207</a>: PeerSync recovery failes if number of updates requested is high. A new useRangeVersions config option
is introduced (defaults to true) to send version ranges instead of individual versions for peer sync.
<br /><span class="attrib">(Pushkar Raste, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8858">SOLR-8858</a>: SolrIndexSearcher#doc() completely ignores field filters unless lazy field loading is enabled.
<br /><span class="attrib">(Caleb Rackliffe, David Smiley, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9236">SOLR-9236</a>: AutoAddReplicas will append an extra /tlog to the update log location on replica failover.
<br /><span class="attrib">(Eungsop Yoo, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9291">SOLR-9291</a>: ZkSolrResourceLoader should not retry fetching resources if the server has been shutdown.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9287">SOLR-9287</a>: Including 'score' in the 'fl' param when doing an RTG no longer causes an NPE
<br /><span class="attrib">(hossman, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7280">SOLR-7280</a>: In cloud-mode sort the cores smartly before loading &amp; limit threads to improve cluster stability
<br /><span class="attrib">(noble, Erick Erickson, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9285">SOLR-9285</a>: Fixed AIOOBE when using ValueSourceAugmenter in single node RTG
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9288">SOLR-9288</a>: Fix [docid] transformer to return -1 when used in RTG with uncommitted doc
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9309">SOLR-9309</a>: Fix SolrCloud RTG response structure when multi ids requested but only 1 found
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9334">SOLR-9334</a>: CloudSolrClient.collectionStateCache is unbounded
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9339">SOLR-9339</a>: NPE in CloudSolrClient when the response is null
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8596">SOLR-8596</a>: Web UI doesn't correctly generate queries which include local parameters
<br /><span class="attrib">(Alexandre Rafalovitch, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8645">SOLR-8645</a>: managed-schema is now syntax highlighted in cloud-&gt;Tree view
<br /><span class="attrib">(Alexandre Rafalovitch via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8379">SOLR-8379</a>: UI Cloud-&gt;Tree view now shows .txt files correctly
<br /><span class="attrib">(Alexandre Rafalovitch via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9003">SOLR-9003</a>: New Admin UI's Dataimport screen now correctly displays DIH Debug output
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9308">SOLR-9308</a>: Fix distributed RTG to forward request params, fixes fq and non-default fl params
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9179">SOLR-9179</a>: NPE in IndexSchema using IBM JDK
<br /><span class="attrib">(noble, Colvin Cowie)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9397">SOLR-9397</a>: Config API does not support adding caches
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9405">SOLR-9405</a>: ConcurrentModificationException in ZkStateReader.getStateWatchers.
<br /><span class="attrib">(Alan Woodward, Edward Ribeiro, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9232">SOLR-9232</a>: Admin UI now fully implements Swap Cores interface
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8715">SOLR-8715</a>: Admin UI's Schema screen now works for fields with stored=false and some content indexed
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8911">SOLR-8911</a>: In Admin UI, enable scrolling for overflowing Versions and JVM property values
<br /><span class="attrib">(Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9002">SOLR-9002</a>: Admin UI now correctly displays json and text files in the collection/Files screen
<br /><span class="attrib">(Upayavira, Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8993">SOLR-8993</a>: Admin UI now correctly supports multiple DIH handler end-points
<br /><span class="attrib">(Upayavira, Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9032">SOLR-9032</a>: Admin UI now correctly implements Create Alias command
<br /><span class="attrib">(Upayavira, Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9391">SOLR-9391</a>: LBHttpSolrClient.request now correctly returns Rsp.server when
previously skipped servers were successfully tried.
<br /><span class="attrib">(Christine Poerschke)</span></li>
    </ol>
  </li>
  <li><a id="v6.2.0.optimizations" href="javascript:toggleList('v6.2.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v6.2.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9219">SOLR-9219</a>: Make hdfs blockcache read buffer sizes configurable and improve cache concurrency.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9264">SOLR-9264</a>: Optimize ZkController.publishAndWaitForDownStates to not read all collection states and
watch relevant collections instead.
<br /><span class="attrib">(Hrishikesh Gadre, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9335">SOLR-9335</a>: Solr cache/search/update stats counters now use LongAdder which are supposed to have higher throughput
under high contention.
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9350">SOLR-9350</a>: JSON Facets: method="stream" will no longer always uses &amp; populates the filter cache, likely
flushing it.  'cacheDf' can be configured to set a doc frequency threshold, now defaulting to 1/16th doc count.
Using -1 Disables use of the cache.
<br /><span class="attrib">(David Smiley, yonik)</span></li>
    </ol>
  </li>
  <li><a id="v6.2.0.other_changes" href="javascript:toggleList('v6.2.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(23)
    <ol id="v6.2.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9195">SOLR-9195</a>: Remove unnecessary allocation and null check in UpdateRequestProcessorChain's
getReqProcessors method.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8981">SOLR-8981</a>: Upgraded Extraction module to Apache Tika 1.13.
<br /><span class="attrib">(Tim Allison, Lewis John McGibbney via Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9076">SOLR-9076</a>: Update to Hadoop 2.7.2
<br /><span class="attrib">(Mark Miller, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8787">SOLR-8787</a>: TestAuthenticationFramework should not extend TestMiniSolrCloudCluster.
<br /><span class="attrib">(Trey Cahill via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9180">SOLR-9180</a>: More comprehensive tests of pseudo-fields for RTG and SolrCloud requests
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7930">SOLR-7930</a>: Comment out trappy references to example docs in elevate.xml files
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9277">SOLR-9277</a>: Clean up some more remnants of supporting old and new style solr.xml in tests
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9163">SOLR-9163</a>: Sync up basic_configs and data_driven_schema_configs, removing almost all differences
except what is required for schemaless.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9340">SOLR-9340</a>: Change ZooKeeper disconnect and session expiry related logging from INFO to WARN to
make debugging easier
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9358">SOLR-9358</a>: [AngularUI] In Cloud-&gt;Tree file view area, collapse metadata by default
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9256">SOLR-9256</a>: asserting hasNext() contract in JdbcDataSource in DataImportHandler
<br /><span class="attrib">(Kristine Jetzke via Mikhai Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9209">SOLR-9209</a>: extracting JdbcDataSource.createResultSetIterator() for extension
<br /><span class="attrib">(Kristine Jetzke via Mikhai Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9353">SOLR-9353</a>: Factor out ReRankQParserPlugin.ReRankQueryRescorer private class.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9392">SOLR-9392</a>: Fixed CDCR Test failures which were due to leaked resources.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9385">SOLR-9385</a>: Add QParser.getParser(String,SolrQueryRequest) variant.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9367">SOLR-9367</a>: Improved TestInjection's randomization logic to use LuceneTestCase.random()
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9331">SOLR-9331</a>: Remove ReRankQuery's length constructor argument and member.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9092">SOLR-9092</a>: For the delete replica command we attempt to send the core admin delete request only
if that node is actually up.
<br /><span class="attrib">(Jessica Cheng Mallet, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9410">SOLR-9410</a>: Make ReRankQParserPlugin's private ReRankWeight a public class of its own.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9404">SOLR-9404</a>: Refactor move/renames in JSON FacetProcessor and FacetFieldProcessor.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9421">SOLR-9421</a>: Refactored out OverseerCollectionMessageHandler to smaller classes
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8643">SOLR-8643</a>: BlockJoinFacetComponent is substituted by BlockJoinFacetDocSetComponent. It doesn't need to change solrconfig.xml
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8644">SOLR-8644</a>: Test asserts that block join facets work with parent level fq exclusions.
<br /><span class="attrib">(Dr. Oleg Savrasov via Mikhail Khludnev)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.1.0" href="javascript:toggleList('v6.1.0')">Release 6.1.0  [2016-06-17]</a></h3>
<ul id="v6.1.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v6.1.0.versions_of_major_components" href="javascript:toggleList('v6.1.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v6.1.0.versions_of_major_components.list">
      <li>Apache Tika 1.7
</li>
      <li>Carrot2 3.12.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.3.8.v20160314
</li>
    </ol>
  </li>
  <li><a id="v6.1.0.upgrading_from_solr_any_prior_release" href="javascript:toggleList('v6.1.0.upgrading_from_solr_any_prior_release')">Upgrading from Solr any prior release</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v6.1.0.upgrading_from_solr_any_prior_release.list">
      <li>If you use historical dates, specifically on or before the year 1582, you should re-index.
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v6.1.0.new_features" href="javascript:toggleList('v6.1.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(33)
    <ol id="v6.1.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8782">SOLR-8782</a>: Add asynchronous sugar methods to the SolrJ Collections API.  You
can now call .processAsync() to run a method asynchronously, or
.processAndWait() to wait for a call to finish without holding HTTP
collections open.
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8765">SOLR-8765</a>: Enforce required parameters at query construction time in the SolrJ
Collections API, add static factory methods, and deprecate old setter methods.
<br /><span class="attrib">(Alan Woodward, Jason Gerlowski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8842">SOLR-8842</a>: authorization APIs do not use name as an identifier for a permission
for update, delete commands and 'before' attribute
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8814">SOLR-8814</a>: Support GeoJSON response writer and general spatial formatting.  Adding
   &amp;wt=geojson&amp;geojson.field=&lt;your geometry field&gt;
Will return a FeatureCollection for each SolrDocumentList and a Feature with the
requested geometry for each SolrDocument.  The requested geometry field needs
to either extend AbstractSpatialFieldType or store a GeoJSON string.  This also adds
a [geo] DocumentTransformer that can return the Shape in a variety of formats:
  &amp;fl=[geo f=&lt;your geometry field&gt; w=(GeoJSON|WKT|POLY)]
The default format is GeoJSON.  For information on the supported formats, see:
<a href="https://github.com/locationtech/spatial4j/blob/master/FORMATS.md">https://github.com/locationtech/spatial4j/blob/master/FORMATS.md</a>
To return the FeatureCollection as the root element, add '&amp;omitHeader=true"
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8859">SOLR-8859</a>: Spatial fields like RPT can now be configured to use Spatial4j registered shape formats
e.g. via format="GeoJSON".
<br /><span class="attrib">(ryan, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-445">SOLR-445</a>: new TolerantUpdateProcessorFactory to support skipping update commands that cause
failures when sending multiple updates in a single request.
<br /><span class="attrib">(Erick Erickson, Tomás Fernández Löbbe, Anshum Gupta, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8890">SOLR-8890</a>: New static method in DistributedUpdateProcessorFactory to allow UpdateProcessorFactories
to indicate request params that should be forwarded when DUP distributes updates.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8888">SOLR-8888</a>: Add shortestPath Streaming Expression. This expression performs a breadth first
graph traversal to find the shortest path(s) in an unweighted, directed graph stored in a
SolrCloud collection.
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8938">SOLR-8938</a>: Add optional --excluderegex argument to ZkCLI.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8976">SOLR-8976</a>: Add SolrJ support for REBALANCELEADERS Collections API
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8962">SOLR-8962</a>: Add sort Streaming Expression. The expression takes a single input stream and a
comparator and outputs tuples in stable order of the comparator.
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8349">SOLR-8349</a>: Allow sharing of large in memory data structures across cores
<br /><span class="attrib">(Gus Heck, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9009">SOLR-9009</a>: Adds ability to get an Explanation of a Streaming Expression
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8918">SOLR-8918</a>: Adds Streaming to the admin page under the collections section. Includes
ability to see graphically the expression explanation
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8913">SOLR-8913</a>: When using a shared filesystem we should store data dir and tlog dir locations in
the cluster state.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8809">SOLR-8809</a>: Implement Connection.prepareStatement
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9020">SOLR-9020</a>: Implement StatementImpl/ResultSetImpl get/set fetch* methods and proper errors for traversal methods
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9041">SOLR-9041</a>: 'core-admin-read' and 'core-admin-edit' are well known permissions
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8986">SOLR-8986</a>: Add Random Streaming Expression
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8925">SOLR-8925</a>: Add gatherNodes Streaming Expression to support breadth first traversals
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9027">SOLR-9027</a>: Add GraphTermsQuery to limit traversal on high frequency nodes
<br /><span class="attrib">(Joel Bernstein, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5750">SOLR-5750</a>: Add /admin/collections?action=BACKUP and RESTORE assuming access to a shared file system.
<br /><span class="attrib">(Varun Thacker, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9049">SOLR-9049</a>: RuleBasedAuthorizationPlugin supports regex in param values eg: "command" : "REGEX:(i?)create"
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8972">SOLR-8972</a>: Add GraphHandler and GraphMLResponseWriter to support graph visualizations
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9026">SOLR-9026</a>: Extend facet telemetry support to legacy (non-json) facets under "debug/facet-debug" in
the response.
<br /><span class="attrib">(Michael Sun, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7117">SOLR-7117</a>: Provide an option to limit the maximum number of cores that can be created on a node by the
Auto Add Replica feature. For this you can set a "maxCoresPerNode" property via the Cluster Property API
<br /><span class="attrib">(Varun Thacker, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8208">SOLR-8208</a>: [subquery] document transformer executes separate requests per result document.
<br /><span class="attrib">(Cao Manh Dat  via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8323">SOLR-8323</a>, <a href="http://issues.apache.org/jira/browse/SOLR-9113">SOLR-9113</a>: Add CollectionStateWatcher API
<br /><span class="attrib">(Alan Woodward, Scott Blum)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8988">SOLR-8988</a>: Adds query option facet.distrib.mco which when set to true allows the use of facet.mincount=1 in cloud mode.
<br /><span class="attrib">(Keith Laban, Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8583">SOLR-8583</a>: Apply highlighting to hl.alternateField by default for Default and FastVectorHighlighter.
Turn off with hl.highlightAlternate=false
<br /><span class="attrib">(janhoy, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7123">SOLR-7123</a>: '/update/json/docs' path supports nested documents
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8610">SOLR-8610</a>: Resolve variables in encryptKeyFile of DIH's JdbcDataSource
<br /><span class="attrib">(Kristine Jetzke via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7739">SOLR-7739</a>: Add a new ClassificationUpdateProcessorFactory.
<br /><span class="attrib">(Alessandro Benedetti via Tommaso Teofili)</span></li>
    </ol>
  </li>
  <li><a id="v6.1.0.bug_fixes" href="javascript:toggleList('v6.1.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(18)
    <ol id="v6.1.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8855">SOLR-8855</a>: The HDFS BlockDirectory should not clean up it's cache on shutdown.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8948">SOLR-8948</a>: OverseerTaskQueue.containsTaskWithRequestId encounters json parse error if a
SolrResponse node is in the overseer queue.
<br /><span class="attrib">(Jessica Cheng Mallet via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7729">SOLR-7729</a>: ConcurrentUpdateSolrClient ignores the collection parameter in some methods.
<br /><span class="attrib">(Nicolas Gavalda, Jorge Luis Betancourt Gonzalez via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8662">SOLR-8662</a>: SchemaManager waits correctly for replicas to be notified of a new change.
<br /><span class="attrib">(sarowe, Noble Paul, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8983">SOLR-8983</a>: Cleanup clusterstate and replicas for a failed create collection request
<br /><span class="attrib">(Varun Thacker, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9029">SOLR-9029</a>: fix rare ZkStateReader visibility race during collection state format update
<br /><span class="attrib">(Scott Blum, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9046">SOLR-9046</a>: Fix solr.cmd that wrongly assumes Jetty will always listen on 0.0.0.0.
<br /><span class="attrib">(Bram Van Dam, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9064">SOLR-9064</a>: Adds an explanation of the incoming stream to an UpdateStream's explanation
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9128">SOLR-9128</a>: Fix error handling issues in Streaming classes
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9151">SOLR-9151</a>: Fix SolrCLI so that bin/solr -e cloud example can be run from any CWD
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9141">SOLR-9141</a>: Fix ClassCastException when using the /sql handler count() function with
single-shard collections
<br /><span class="attrib">(Minoru Osuka via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9165">SOLR-9165</a>: Spellcheck does not return collations if "maxCollationTries" is used with "cursorMark".
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8940">SOLR-8940</a>: Fix group.sort option
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8612">SOLR-8612</a>: closing JDBC Statement on failures in DataImportHandler (DIH)
<br /><span class="attrib">(Kristine Jetzke via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8676">SOLR-8676</a>: keep LOG4J_CONFIG in solr.cmd
<br /><span class="attrib">(Kristine Jetzke via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9198">SOLR-9198</a>: config APIs unable to add multiple values with same name
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8812">SOLR-8812</a>: edismax: turn off mm processing if no explicit mm spec is provided
and there are explicit operators (except for AND) - addresses problems caused by <a href="http://issues.apache.org/jira/browse/SOLR-2649">SOLR-2649</a>.
<br /><span class="attrib">(Greg Pendlebury, Jan Høydahl, Erick Erickson, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9176">SOLR-9176</a>: facet method ENUM was sometimes unnecessarily being rewritten to
FCS, causing slowdowns
<br /><span class="attrib">(Alessandro Benedetti, Jesse McLaughlin, Alan Woodward)</span></li>
    </ol>
  </li>
  <li><a id="v6.1.0.optimizations" href="javascript:toggleList('v6.1.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="v6.1.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8722">SOLR-8722</a>: Don't force a full ZkStateReader refresh on every Overseer operation.
<br /><span class="attrib">(Scott Blum via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8745">SOLR-8745</a>: Deprecate costly ZkStateReader.updateClusterState(), replace with a narrow
forceUpdateCollection(collection)
<br /><span class="attrib">(Scott Blum via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8856">SOLR-8856</a>: Do not cache merge or 'read once' contexts in the hdfs block cache.
<br /><span class="attrib">(Mark Miller, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8922">SOLR-8922</a>: Optimize filter creation (DocSetCollector) to minimize the amount of garbage
produced. This resulted in up to 3x throughput when small filter creation was the bottleneck,
as well as orders of magnitude less garbage.
<br /><span class="attrib">(Jeff Wartes, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8937">SOLR-8937</a>: bin/post (SimplePostTool) now streams the standard input instead of buffering fully.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8973">SOLR-8973</a>: Zookeeper frenzy when a core is first created.
<br /><span class="attrib">(Janmejay Singh, Scott Blum, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9014">SOLR-9014</a>: Deprecate and reduce usage of ClusterState methods which may make calls to ZK via
the lazy collection reference.
<br /><span class="attrib">(Scott Blum, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9106">SOLR-9106</a>: Cluster properties are now cached on ZkStateReader.
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9147">SOLR-9147</a>: Upgrade commons-io to 2.5, avoid expensive array resizing in EmbeddedSolrServer
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8744">SOLR-8744</a>: Overseer operations performed with fine grained mutual exclusion
<br /><span class="attrib">(noble, Scott Blum)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9204">SOLR-9204</a>: Improve performance of getting directory size with hdfs.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v6.1.0.other_changes" href="javascript:toggleList('v6.1.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(27)
    <ol id="v6.1.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8860">SOLR-8860</a>: Remove back-compat handling of router format made in <a href="http://issues.apache.org/jira/browse/SOLR-4221">SOLR-4221</a> in 4.5.0.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8866">SOLR-8866</a>: UpdateLog will now throw an exception if it doesn't know how to serialize a value.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8842">SOLR-8842</a>: security rules made more foolproof by asking the requesthandler  about the well known
permission name.  The APIs are also modified to ue 'index' as the unique identifier instead of name.
Name is an optional attribute  now and only to be used when specifying well-known permissions
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5616">SOLR-5616</a>: Simplifies grouping code to use ResponseBuilder.needDocList() to determine if it needs to
generate a doc list for grouped results.
<br /><span class="attrib">(Steven Bower, Keith Laban, Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8869">SOLR-8869</a>: Optionally disable printing field cache entries in SolrFieldCacheMBean
<br /><span class="attrib">(Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8892">SOLR-8892</a>: Allow SolrInfoMBeans to return different statistics for /jmx vs web ui calls.
<br /><span class="attrib">(Gregory Chanan, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8097">SOLR-8097</a>: Implement builder pattern design for constructing SolrJ clients and also deprecate direct construction
of client objects.
<br /><span class="attrib">(Jason Gerlowski, Shawn Heisey, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9015">SOLR-9015</a>: Adds SelectStream as a default function in the StreamHandler
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8929">SOLR-8929</a>: Add an idea module for solr/server to enable launching start.jar
<br /><span class="attrib">(Scott Blum, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8933">SOLR-8933</a>: Solr should not close container streams.
<br /><span class="attrib">(Mike Drob, Uwe Schindler, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9037">SOLR-9037</a>: Replace multiple "/replication" strings with one static constant.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9047">SOLR-9047</a>: zkcli should allow alternative locations for log4j configuration
<br /><span class="attrib">(Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9066">SOLR-9066</a>: Make CountMetric return long instead of double
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9065">SOLR-9065</a>, <a href="http://issues.apache.org/jira/browse/SOLR-9072">SOLR-9072</a>, <a href="http://issues.apache.org/jira/browse/SOLR-9132">SOLR-9132</a>: Migrate some distributed tests to SolrCloudTestCase.
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8184">SOLR-8184</a>: Negative tests for JDBC Connection String
<br /><span class="attrib">(Susheel Kumar, Jason Gerlowski, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8458">SOLR-8458</a>: Add Streaming Expressions tests for parameter substitution
<br /><span class="attrib">(Joel Bernstein, Cao Manh Dat, Dennis Gove, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8467">SOLR-8467</a>: CloudSolrStream and FacetStream should take a SolrParams object rather than a
Map&lt;String, String&gt; to allow more complex Solr queries to be specified.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9083">SOLR-9083</a>: Remove all &lt;types&gt; and &lt;fields&gt; from schemas. NOTE: as in the JIRA I left a few in to insure the (no cost)
back compat.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9105">SOLR-9105</a>: Fix a bunch of typos across 103 files
<br /><span class="attrib">(Bartosz Krasiński via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9159">SOLR-9159</a>: New cloud based concurrent atomic update test
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9119">SOLR-9119</a>: several static methods in ValueSourceParser have been made private
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9110">SOLR-9110</a>: Move JoinFromCollection- SubQueryTransformer- BlockJoinFacet- Distrib Tests to SolrCloudTestCase
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9136">SOLR-9136</a>: Separate out the error statistics into server-side error vs client-side error
<br /><span class="attrib">(Jessica Cheng Mallet via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9107">SOLR-9107</a>: new @RandomizeSSL annotation for more fine grained control of SSL testing
<br /><span class="attrib">(hossman, sarowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9081">SOLR-9081</a>: Make SolrTestCaseJ4.beforeClass() / .afterClass() public so it
works with Mockito
<br /><span class="attrib">(Georg Sorst, Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8445">SOLR-8445</a>: fix line separator in log4j.properties files
<br /><span class="attrib">(Ahmet Arslan via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2199">SOLR-2199</a>: DataImportHandler (DIH) JdbcDataSource supports multiple resultsets per query
<br /><span class="attrib">(Kristine Jetzke, Mark Waddle via Mikhail Khludnev)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.0.1" href="javascript:toggleList('v6.0.1')">Release 6.0.1  [2016-05-28]</a></h3>
<ul id="v6.0.1.list">
  <li><a id="v6.0.1.upgrade_notes" href="javascript:toggleList('v6.0.1.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v6.0.1.upgrade_notes.list">
      <li>If you use historical dates, specifically on or before the year 1582, you should re-index.
<p>
</li>
    </ol>
  </li>
  <li><a id="v6.0.1.bug_fixes" href="javascript:toggleList('v6.0.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(24)
    <ol id="v6.0.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8914">SOLR-8914</a>: ZkStateReader's refreshLiveNodes(Watcher) is not thread safe.
<br /><span class="attrib">(Scott Blum, hoss,
sarowe, Erick Erickson, Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9016">SOLR-9016</a>: Fix SolrIdentifierValidator to not allow empty identifiers.
<br /><span class="attrib">(Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8992">SOLR-8992</a>: Restore Schema API GET method functionality removed in 6.0
<br /><span class="attrib">(noble, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9080">SOLR-9080</a>, <a href="http://issues.apache.org/jira/browse/SOLR-9085">SOLR-9085</a>: (6.0 bug) For years &lt;= 1582, date math (round,add,sub) introduced error.  Range faceting
on such dates was also affected.  With this fixed, this is the first release range faceting works on BC years.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8857">SOLR-8857</a>: HdfsUpdateLog does not use configured or new default number of version buckets and is
hard coded to 256.
<br /><span class="attrib">(Mark Miller, yonik, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8902">SOLR-8902</a>: Make sure ReturnFields only returns the requested fields from (fl=) evn when
DocumentTransformers ask for getExtraRequestFields()
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8875">SOLR-8875</a>: SolrCloud Overseer clusterState could unexpectedly be null resulting in NPE.
<br /><span class="attrib">(Scott Blum via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8946">SOLR-8946</a>: bin/post failed to detect stdin usage on Ubuntu; maybe other unixes.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9004">SOLR-9004</a>: Fix "name" field type definition in films example.
<br /><span class="attrib">(Alexandre Rafalovitch via Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8990">SOLR-8990</a>: Fix top term links from schema browser page to use {!term} parser
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8971">SOLR-8971</a>: Preserve root cause when wrapping exceptions
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9034">SOLR-9034</a>: Atomic updates failed to work when there were copyField targets that had docValues
enabled.
<br /><span class="attrib">(Karthik Ramachandran, Ishan Chattopadhyaya, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9028">SOLR-9028</a>: Fixed some test related bugs preventing SSL + ClientAuth from ever being tested
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9059">SOLR-9059</a>: NPE in SolrClientCache following collection reload
<br /><span class="attrib">(Joel Bernstein, Ryan Yacyshyn)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8792">SOLR-8792</a>: ZooKeeper ACL support fixed.
<br /><span class="attrib">(Esther Quansah, Ishan Chattopadhyaya, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9030">SOLR-9030</a>: The 'downnode' overseer command can trip asserts in ZkStateWriter.
<br /><span class="attrib">(Scott Blum, Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9036">SOLR-9036</a>: Solr slave is doing full replication (entire index) of index after master restart.
<br /><span class="attrib">(Lior Sapir, Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9058">SOLR-9058</a>: Makes HashJoinStream and OuterHashJoinStream support different field names in the
incoming streams, eg. fieldA=fieldB.
<br /><span class="attrib">(Dennis Gove, Stephan Osthold)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9093">SOLR-9093</a>: Fix NullPointerException in TopGroupsShardResponseProcessor.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9118">SOLR-9118</a>: HashQParserPlugin should trim partition keys
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9117">SOLR-9117</a>: The first SolrCore is leaked after reload.
<br /><span class="attrib">(Jessica Cheng Mallet via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9116">SOLR-9116</a>: Race condition causing occasional SolrIndexSearcher leak when SolrCore is reloaded.
<br /><span class="attrib">(Jessica Cheng Mallet via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8801">SOLR-8801</a>: /bin/solr create script always returns exit code 0 when a collection/core already exists.
<br /><span class="attrib">(Khalid Alharbi, Marius Grama via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9134">SOLR-9134</a>: Fix RestManager.addManagedResource return value.
<br /><span class="attrib">(Christine Poerschke)</span></li>
    </ol>
  </li>
  <li><a id="v6.0.1.other_changes" href="javascript:toggleList('v6.0.1.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v6.0.1.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7516">SOLR-7516</a>: Improve javadocs for JavaBinCodec, ObjectResolver and enforce the single-usage policy.
<br /><span class="attrib">(Jason Gerlowski, Benoit Vanalderweireldt, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8967">SOLR-8967</a>: In SolrCloud mode, under the 'Core Selector' dropdown in the UI the Replication tab won't be displayed
anymore. The Replication tab is only beneficial to users running Solr in master-slave mode.
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8985">SOLR-8985</a>: Added back support for 'includeDynamic' flag to /schema/fields endpoint
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9131">SOLR-9131</a>: Fix "start solr" text in cluster.vm Velocity template
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9053">SOLR-9053</a>: Upgrade commons-fileupload to 1.3.1, fixing a potential vulnerability
<br /><span class="attrib">(Jeff Field, Mike Drob via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9115">SOLR-9115</a>: Get rid of javax.xml.bind.DatatypeConverter in SimplePostTool
for Java 9 compatibility.
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5776">SOLR-5776</a>,<a href="http://issues.apache.org/jira/browse/SOLR-9068">SOLR-9068</a>,<a href="http://issues.apache.org/jira/browse/SOLR-8970">SOLR-8970</a>:
<ul class="bulleted-list">
<li class="bulleted-list">
Refactor SSLConfig so that SSLTestConfig can provide SSLContexts using a NullSecureRandom
  to prevent SSL tests from blocking on entropy starved machines.
</li>
<li class="bulleted-list">
SSLTestConfig: Alternate (pseudo random) NullSecureRandom for Constants.SUN_OS.
</li>
<li class="bulleted-list">
SSLTestConfig: Replace NullSecureRandom w/ NotSecurePseudoRandom.
</li>
<li class="bulleted-list">
Change SSLTestConfig to use a keystore file that is included as a resource in the
  test-framework jar so users subclassing SolrTestCaseJ4 don't need to preserve magic paths.
</li>
</ul>
<span class="attrib">(hossman)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v6.0.0" href="javascript:toggleList('v6.0.0')">Release 6.0.0  [2016-04-08]</a></h3>
<ul id="v6.0.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release
</li>
  <li><a id="v6.0.0.versions_of_major_components" href="javascript:toggleList('v6.0.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v6.0.0.versions_of_major_components.list">
      <li>Apache Tika 1.7
</li>
      <li>Carrot2 3.12.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.3.8.v20160314
</li>
    </ol>
  </li>
  <li><a id="v6.0.0.system_requirements" href="javascript:toggleList('v6.0.0.system_requirements')">System Requirements</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v6.0.0.system_requirements.list">
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-5950">LUCENE-5950</a>: Move to Java 8 as minimum Java version.
<br /><span class="attrib">(Ryan Ernst, Uwe Schindler)</span></li>
    </ol>
  </li>
  <li><a id="v6.0.0.upgrading_from_solr_5.x" href="javascript:toggleList('v6.0.0.upgrading_from_solr_5.x')">Upgrading from Solr 5.x</a>&nbsp;&nbsp;&nbsp;(18)
    <ol id="v6.0.0.upgrading_from_solr_5.x.list">
      <li>The deprecated SolrServer and subclasses have been removed, use SolrClient
instead.
<p>
</li>
      <li>The deprecated &lt;nrtMode&gt; configuration in solrconfig.xml has been removed.
Please remove it from solrconfig.xml.
<p>
</li>
      <li>SolrClient.shutdown() has been removed, use SolrClient.close() instead.
<p>
</li>
      <li>The deprecated zkCredientialsProvider element in solrcloud section of solr.xml
is now removed. Use the correct spelling (zkCredentialsProvider) instead.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7957">SOLR-7957</a>: internal/expert - ResultContext was significantly changed and expanded
to allow for multiple full query results (DocLists) per Solr request.
TransformContext was rendered redundant and was removed.
<br /><span class="attrib">(yonik)</span></li>
      <li>Several changes have been made regarding the "Similarity" used in Solr, in order to provide
better default behavior for new users.  There are 3 key impacts of these changes on existing
users who upgrade:
</li>
      <li>DefaultSimilarityFactory has been removed. If you currently have DefaultSimilarityFactory explicitly
referenced in your schema.xml, edit your config to use the functionally identical
ClassicSimilarityFactory.  See <a href="http://issues.apache.org/jira/browse/SOLR-8239">SOLR-8239</a> for more details.
</li>
      <li>The implicit default Similarity used when no &lt;similarity/&gt; is configured in schema.xml has
been changed to SchemaSimilarityFactory.  Users who wish to preserve back-compatible behavior should
either explicitly configure ClassicSimilarityFactory, or ensure that the luceneMatchVersion
for the collection is less then 6.0.  See <a href="http://issues.apache.org/jira/browse/SOLR-8270">SOLR-8270</a> + <a href="http://issues.apache.org/jira/browse/SOLR-8271">SOLR-8271</a> for details.
</li>
      <li>SchemaSimilarityFactory has been modified to use BM25Similarity as the default for fieldTypes that
do not explicitly declare a Similarity.  The legacy behavior of using ClassicSimilarity as the
default will occur if the luceneMatchVersion for the collection is less then 6.0, or the
'defaultSimFromFieldType' configuration option may be used to specify any default of your choosing.
See <a href="http://issues.apache.org/jira/browse/SOLR-8261">SOLR-8261</a> + <a href="http://issues.apache.org/jira/browse/SOLR-8329">SOLR-8329</a> for more details.
<p>
</li>
      <li>If your solrconfig.xml file doesn't explicitly mention the schemaFactory to use then Solr will choose
the ManagedIndexSchemaFactory by default. Previously it would have chosen ClassicIndexSchemaFactory.
This means that the Schema APIs ( /&lt;collection&gt;/schema ) are enabled and the schema is mutable.
When Solr starts your schema.xml file will be renamed to managed-schema. If you want to retain the old behaviour
then please ensure that the solrconfig.xml explicitly uses the ClassicIndexSchemaFactory :
&lt;schemaFactory class="ClassicIndexSchemaFactory"/&gt; or your luceneMatchVersion in the solrconfig.xml is less than 6.0
<p>
</li>
      <li>SolrIndexSearcher.QueryCommand and QueryResult were moved to their own classes. If you reference them
in your code, you should import them under o.a.s.search (or use your IDE's "Organize Imports").
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8698">SOLR-8698</a>: 'useParams' attribute specified in request handler cannot be overridden from request params
<p>
</li>
      <li>When requesting stats in date fields, "sum" is now a double value instead of a date. See <a href="http://issues.apache.org/jira/browse/SOLR-8671">SOLR-8671</a>
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8736">SOLR-8736</a>: The deprecated GET methods for schema are now accessible through the bulk API. The output
has less details and is not backward compatible.
<p>
</li>
      <li>In the past, Solr guaranteed that retrieval of multi-valued fields would preserve the order of values.
Because values may now be retrieved from column-stored fields (docValues="true"), in conjunction with the
fact that docValues do not currently preserve order, means that users should set useDocValuesAsStored="false"
to prevent future optizations from using the column-stored values over the row-stored values when
fields have both stored="true" and docValues="true".
<p>
</li>
      <li>Formatted date-times from Solr have some differences. If the year is more than 4 digits, there is a leading '+'.
When there is a non-zero number of milliseconds, it is padded with zeros to 3 digits. Negative year (BC) dates are
now possible.  Parsing: It is now an error to supply a portion of the date out of its, range, like 67 seconds.
<p>
</li>
      <li>SolrJ no longer includes DateUtil. If for some reason you need to format or parse dates, simply use Instant.format()
and Instant.parse().
<p>
</li>
      <li>If you are using an RPT or other spatial field referencing Spatial4j in its configuration, then replace the string
"com.spatial4j.core" with "org.locationtech.spatial4j".  Consider updating direct to Solr 6.2 which accepts the
old value, albeit with a warning.
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v6.0.0.new_features" href="javascript:toggleList('v6.0.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(33)
    <ol id="v6.0.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3085">SOLR-3085</a>: New edismax param mm.autoRelax which helps in certain cases of the stopwords/zero-hits issue
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7560">SOLR-7560</a>: Parallel SQL Support
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7707">SOLR-7707</a>: Add StreamExpression Support to RollupStream
<br /><span class="attrib">(Dennis Gove, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7903">SOLR-7903</a>: Add the FacetStream to the Streaming API and wire it into the SQLHandler
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7986">SOLR-7986</a>: JDBC Driver for SQL Interface
<br /><span class="attrib">(Uwe Schindler, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8038">SOLR-8038</a>: Add the StatsStream to the Streaming API and wire it into the SQLHandler
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8086">SOLR-8086</a>: Add support for SELECT DISTINCT queries to the SQL interface
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7543">SOLR-7543</a>: Basic graph traversal query
Example: {!graph from="node_id" to="edge_id"}id:doc_1
<br /><span class="attrib">(Kevin Watters, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6273">SOLR-6273</a>: Cross Data Center Replication. Active/passive replication for separate
SolrClouds hosted on separate data centers.
<br /><span class="attrib">(Renaud Delbru, Yonik Seeley via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7938">SOLR-7938</a>: MergeStream now supports merging more than 2 streams together
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8198">SOLR-8198</a>: Change ReducerStream to use StreamEqualitor instead of StreamComparator
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8268">SOLR-8268</a>: StatsStream now implements the Expressible interface
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7584">SOLR-7584</a>: Adds Inner and LeftOuter Joins to the Streaming API and Streaming Expressions
<br /><span class="attrib">(Dennis Gove, Corey Wu)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8188">SOLR-8188</a>: Adds Hash and OuterHash Joins to the Streaming API and Streaming Expressions
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7669">SOLR-7669</a>: Add SelectStream and Tuple Operations to the Streaming API and Streaming Expressions
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8337">SOLR-8337</a>: Add ReduceOperation and wire it into the ReducerStream
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7904">SOLR-7904</a>: Add StreamExpression Support to FacetStream
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6398">SOLR-6398</a>: Add IterativeMergeStrategy to support running Parallel Iterative Algorithms inside of Solr
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8436">SOLR-8436</a>: Real-time get now supports filters.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7535">SOLR-7535</a>: Add UpdateStream to Streaming API and Streaming Expression
<br /><span class="attrib">(Jason Gerlowski, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8479">SOLR-8479</a>: Add JDBCStream to Streaming API and Streaming Expressions for integration with external data sources
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8002">SOLR-8002</a>: Add column alias support to the Parallel SQL Interface
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7525">SOLR-7525</a>: Add ComplementStream and IntersectStream to the Streaming API and Streaming Expressions
<br /><span class="attrib">(Dennis Gove, Jason Gerlowski, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8415">SOLR-8415</a>: Provide command to switch between non/secure mode in ZK
<br /><span class="attrib">(Mike Drob, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8556">SOLR-8556</a>: Add ConcatOperation to be used with the SelectStream
<br /><span class="attrib">(Joel Bernstein, Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8550">SOLR-8550</a>: Add asynchronous DaemonStreams to the Streaming API
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8285">SOLR-8285</a>: Ensure the /export handler works with NULL field values
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8502">SOLR-8502</a>: Improve Solr JDBC Driver to support SQL Clients like DBVisualizer
<br /><span class="attrib">(Kevin Risden, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8588">SOLR-8588</a>: Add TopicStream to the streaming API to support publish/subscribe messaging
<br /><span class="attrib">(Joel Bernstein, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8666">SOLR-8666</a>: Adds header 'zkConnected' to response of SearchHandler and PingRequestHandler to notify the client when
a connection to zookeeper has been lost and there is a possibility of stale data on the node the request is coming
from.
<br /><span class="attrib">(Keith Laban, Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8522">SOLR-8522</a>: Make it possible to use ip fragments in replica placement rules , such as ip_1, ip_2 etc
<br /><span class="attrib">(Arcadius Ahouansou, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8698">SOLR-8698</a>: params.json can now specify 'appends' and 'invariants'
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8831">SOLR-8831</a>: allow _version_ field to be retrievable via docValues
<br /><span class="attrib">(yonik)</span></li>
    </ol>
  </li>
  <li><a id="v6.0.0.bug_fixes" href="javascript:toggleList('v6.0.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(39)
    <ol id="v6.0.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8386">SOLR-8386</a>: Add field option in the new admin UI schema page loads up even when no schemaFactory has been
explicitly specified since the default is ManagedIndexSchemaFactory.
<br /><span class="attrib">(Erick Erickson, Upayavira, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8191">SOLR-8191</a>: Guard against CloudSolrStream close method NullPointerException
<br /><span class="attrib">(Kevin Risden, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8485">SOLR-8485</a>: SelectStream now properly handles non-lowercase and/or quoted select field names
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8525">SOLR-8525</a>: Fix a few places that were failing to pass dimensional
values settings when copying a FieldInfo
<br /><span class="attrib">(Ishan Chattopadhyaya via
Mike McCandless)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8409">SOLR-8409</a>: Ensures that quotes in solr params (eg. q param) are properly handled
<br /><span class="attrib">(Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8640">SOLR-8640</a>: CloudSolrClient does not send credentials for update request
<br /><span class="attrib">(noble, hoss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8461">SOLR-8461</a>: CloudSolrStream and ParallelStream can choose replicas that are not active
<br /><span class="attrib">(Cao Manh Dat, Varun Thacker, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8527">SOLR-8527</a>: Improve JdbcTest to cleanup properly on failures
<br /><span class="attrib">(Kevin Risden, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8578">SOLR-8578</a>: Successful or not, requests are not always fully consumed by Solrj clients and we
count on HttpClient or the JVM.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8683">SOLR-8683</a>: Always consume the full request on the server, not just in the case of an error.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8416">SOLR-8416</a>: The collections create API should return after all replicas are active.
<br /><span class="attrib">(Michael Sun, Mark Miller, Alexey Serba)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8701">SOLR-8701</a>: CloudSolrClient decides that there are no healthy nodes to handle a request too early.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8694">SOLR-8694</a>: DistributedMap/Queue can create too many Watchers and some code simplification.
<br /><span class="attrib">(Scott Blum via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8695">SOLR-8695</a>: Ensure ZK watchers are not triggering our watch logic on connection events and
make this handling more consistent.
<br /><span class="attrib">(Scott Blum via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8633">SOLR-8633</a>: DistributedUpdateProcess processCommit/deleteByQuery call finish on DUP and
SolrCmdDistributor, which violates the lifecycle and can cause bugs.
<br /><span class="attrib">(hossman via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8656">SOLR-8656</a>: PeerSync should use same nUpdates everywhere.
<br /><span class="attrib">(Ramsey Haddad via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8697">SOLR-8697</a>, <a href="http://issues.apache.org/jira/browse/SOLR-8837">SOLR-8837</a>: Scope ZK election nodes by session to prevent elections from interfering with each other
and other small LeaderElector improvements.
<br /><span class="attrib">(Scott Blum via Mark Miller, Alan
Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8599">SOLR-8599</a>: After a failed connection during construction of SolrZkClient attempt to retry until a connection
can be made.
<br /><span class="attrib">(Keith Laban, Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8497">SOLR-8497</a>: Merge index does not mark the Directory objects it creates as 'done' and they are retained in the
Directory cache.
<br /><span class="attrib">(Sivlio Sanchez, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8696">SOLR-8696</a>: Start the Overseer before actions that need the overseer on init and when reconnecting after
zk expiration and improve init logic.
<br /><span class="attrib">(Scott Blum, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8420">SOLR-8420</a>: Fix long overflow in sumOfSquares for Date statistics.
<br /><span class="attrib">(Tom Hill, Christine Poerschke,
Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8748">SOLR-8748</a>: OverseerTaskProcessor limits number of concurrent tasks to just 10 even though the thread pool
size is 100. The limit has now been increased to 100.
<br /><span class="attrib">(Scott Blum, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8375">SOLR-8375</a>: ReplicaAssigner rejects valid nodes
<br /><span class="attrib">(Kelvin Tan, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8738">SOLR-8738</a>: Fixed false success response when invalid deleteByQuery requests intially hit non-leader
cloud nodes
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8771">SOLR-8771</a>: Multi-threaded core shutdown creates executor per core.
<br /><span class="attrib">(Mike Drob via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8145">SOLR-8145</a>: Fix position of OOM killer script when starting Solr in the background
<br /><span class="attrib">(Jurian Broertjes via
Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8769">SOLR-8769</a>: Fix document exclusion in mlt query parser in Cloud mode for schemas that have non-"id"
unique field
<br /><span class="attrib">(Erik Hatcher, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8728">SOLR-8728</a>: ReplicaAssigner throws NPE when a partial list of nodes are only participating in replica
placement. splitshard should preassign nodes using rules, if rules are present
<br /><span class="attrib">(noble, Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8779">SOLR-8779</a>: Fix missing InterruptedException handling in ZkStateReader.java
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8449">SOLR-8449</a>: Fix the core restore functionality to allow restoring multiple times on the same core
<br /><span class="attrib">(Johannes Brucher, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8155">SOLR-8155</a>: JSON Facet API - field faceting on a multi-valued string field without
docValues (i.e. UnInvertedField implementation), but with a prefix or with a sort
other than count, resulted in incorrect results.  This has been fixed, and facet.prefix
support for facet.method=uif has been enabled.
<br /><span class="attrib">(Mikhail Khludnev, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8790">SOLR-8790</a>: Collections API responses contain node name in the core-level responses that are
returned.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8804">SOLR-8804</a>: Fix a race condition in the ClusterStatus API call whereby the call would fail when a concurrent delete
collection api command was executed
<br /><span class="attrib">(Alexey Serba, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8835">SOLR-8835</a>: JSON Facet API: fix faceting exception on multi-valued numeric fields that
have docValues.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8838">SOLR-8838</a>: Returning non-stored docValues is incorrect for negative floats and doubles.
<br /><span class="attrib">(Ishan Chattopadhyaya, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8867">SOLR-8867</a>: {!frange} queries will now avoid matching documents without a value in the
numeric field.  For more complex functions, FunctionValues.exists() must also return true
for the document to match.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8886">SOLR-8886</a>: Fix TrieField.toObject(IndexableField) to work for field with docValues
enabled.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8891">SOLR-8891</a>: Fix StrField.toObject and toExternal to work with docValue IndexableField
instances.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8865">SOLR-8865</a>: Real-time get sometimes fails to retrieve stored fields from docValues.
<br /><span class="attrib">(Ishan Chattopadhyaya, yonik)</span></li>
    </ol>
  </li>
  <li><a id="v6.0.0.optimizations" href="javascript:toggleList('v6.0.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v6.0.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7876">SOLR-7876</a>: Speed up queries and operations that use many terms when timeAllowed has not been
specified.  Speedups of up to 8% were observed.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8037">SOLR-8037</a>: Speed up creation of filters from term range queries (i.e. non-numeric range queries)
and use the filter cache for term range queries that are part of larger queries.  Some observed
speedups were up to 2.5x for production of filters, and up to 10x for query evaluation with
embedded term range queres that resulted in filter cache hits.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8559">SOLR-8559</a>: FCS facet performance optimization which significantly speeds up processing when terms
are high cardinality and the matching docset is small. When facet minCount &gt; 0 and the number of
matching documents is small (or 0) this enhancement prevents considering terms which have a 0
count. Also includes change to move to the next non-zero term value when selecting a segment
position.
<br /><span class="attrib">(Keith Laban, Steve Bower, Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8532">SOLR-8532</a>: Optimize GraphQuery when maxDepth is set by not collecting edges at the maxDepth level.
<br /><span class="attrib">(Kevin Watters via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8669">SOLR-8669</a>: Non binary responses use chunked encoding because we flush the outputstream early.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8720">SOLR-8720</a>: ZkController#publishAndWaitForDownStates should use #publishNodeAsDown.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8082">SOLR-8082</a>: Can't query against negative float or double values when indexed="false"
docValues="true" multiValued="false".
<br /><span class="attrib">(hossman, Ishan Chattopadhyaya, yonik, Steve Rowe)</span></li>
    </ol>
  </li>
  <li><a id="v6.0.0.other_changes" href="javascript:toggleList('v6.0.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(46)
    <ol id="v6.0.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6127">SOLR-6127</a>: Improve example docs, using films data
<br /><span class="attrib">(Varun Thacker via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6895">SOLR-6895</a>: Deprecated SolrServer classes have been removed
<br /><span class="attrib">(Alan Woodward,
Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6954">SOLR-6954</a>: Deprecated SolrClient.shutdown() method removed
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7355">SOLR-7355</a>: Switch from Google's ConcurrentLinkedHashMap to Caffeine.  Only
affects HDFS support.
<br /><span class="attrib">(Ben Manes via Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7624">SOLR-7624</a>: Remove deprecated zkCredientialsProvider element in solrcloud section of solr.xml.
<br /><span class="attrib">(Xu Zhang, Per Steffensen, Ramkumar Aiyengar, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7513">SOLR-7513</a>: Add Equalitors to Streaming Expressions
<br /><span class="attrib">(Dennis Gove, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7528">SOLR-7528</a>: Simplify Interfaces used in Streaming Expressions
<br /><span class="attrib">(Dennis Gove, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7554">SOLR-7554</a>: Add checks in Streams for incoming stream order
<br /><span class="attrib">(Dennis Gove, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7441">SOLR-7441</a>: Improve overall robustness of the Streaming stack: Streaming API,
Streaming Expressions, Parallel SQL
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8153">SOLR-8153</a>: Support upper case and mixed case column identifiers in the SQL interface
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8132">SOLR-8132</a>: HDFSDirectoryFactory now defaults to using the global block cache.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8261">SOLR-8261</a>: Change SchemaSimilarityFactory default to BM25Similarity
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8259">SOLR-8259</a>: Remove deprecated JettySolrRunner.getDispatchFilter()
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8258">SOLR-8258</a>: Change default hdfs tlog replication factor from 1 to 3.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8270">SOLR-8270</a>: Change implicit default Similarity to use BM25 when luceneMatchVersion &gt;= 6
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8271">SOLR-8271</a>: Change implicit default Similarity to use SchemaSimilarityFactory when luceneMatchVersion &gt;= 6
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8179">SOLR-8179</a>: SQL JDBC - DriverImpl loadParams doesn't support keys with no values in the connection string
<br /><span class="attrib">(Kevin Risden, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8131">SOLR-8131</a>: Make ManagedIndexSchemaFactory the default schemaFactory when luceneMatchVersion &gt;= 6
<br /><span class="attrib">(Uwe Schindler, shalin, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8266">SOLR-8266</a>: Remove Java Serialization from the Streaming API. The /stream handler now only accepts
Streaming Expressions.
<br /><span class="attrib">(Jason Gerlowski, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8426">SOLR-8426</a>: Enable /export, /stream and /sql handlers by default and remove them from example configs.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8443">SOLR-8443</a>: Change /stream handler http param from "stream" to "expr"
<br /><span class="attrib">(Joel Bernstein, Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5209">SOLR-5209</a>: Unloading or deleting the last replica of a shard now no longer
cascades to remove the shard from the clusterstate.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8190">SOLR-8190</a>: Implement Closeable on TupleStream
<br /><span class="attrib">(Kevin Risden, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8529">SOLR-8529</a>: Improve JdbcTest to not use plain assert statements
<br /><span class="attrib">(Kevin Risden, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7339">SOLR-7339</a>: Upgrade Jetty to v9.3.8.v20160314.
<br /><span class="attrib">(Gregg Donovan, shalin, Mark Miller, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5730">SOLR-5730</a>: Make Lucene's SortingMergePolicy and EarlyTerminatingSortingCollector configurable in Solr.
<br /><span class="attrib">(Christine Poerschke, hossmann, Tomás Fernández Löbbe, Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8677">SOLR-8677</a>: Prevent shards containing invalid characters from being created.  Checks added server-side
and in SolrJ.
<br /><span class="attrib">(Shai Erera, Jason Gerlowski, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8693">SOLR-8693</a>: Improve ZkStateReader logging.
<br /><span class="attrib">(Scott Blum via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8710">SOLR-8710</a>: Upgrade morfologik-stemming to version 2.1.0.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8711">SOLR-8711</a>: Upgrade Carrot2 clustering dependency to 3.12.0.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8690">SOLR-8690</a>: Make peersync fingerprinting optional with solr.disableFingerprint system
property.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8691">SOLR-8691</a>: Cache index fingerprints per searcher.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8746">SOLR-8746</a>: Renamed Overseer.getInQueue to getStateUpdateQueue, getInternalQueue to getInternalWorkQueue
and added javadocs.
<br /><span class="attrib">(Scott Blum, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8752">SOLR-8752</a>: Add a test for SizeLimitedDistributedMap and improve javadocs.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8671">SOLR-8671</a>: Date statistics: make "sum" a double instead of a long/date
<br /><span class="attrib">(Tom Hill, Christine Poerschke,
Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8713">SOLR-8713</a>: new UI and example solrconfig files point to Reference Guide for Solr Query Syntax instead
of the wiki.
<br /><span class="attrib">(Marius Grama via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8758">SOLR-8758</a>: Add a new SolrCloudTestCase class, using MiniSolrCloudCluster
<br /><span class="attrib">(Alan
Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8736">SOLR-8736</a>: schema GET operations on fields, dynamicFields, fieldTypes, copyField are
reimplemented as a part of the bulk API with less details
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8766">SOLR-8766</a>: Remove deprecated &lt;admin&gt; tag in solrconfig.xml and support for admin/gettableFiles
<br /><span class="attrib">(noble, Jason Gerlowski, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8799">SOLR-8799</a>: Improve error message when tuple can't be read by SolrJ JDBC
<br /><span class="attrib">(Kevin Risden, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8836">SOLR-8836</a>: Return 400, and a SolrException when an invalid json is provided to the update handler
instead of 500.
<br /><span class="attrib">(Jason Gerlowski via Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8740">SOLR-8740</a>: docValues are now enabled by default for most non-text (string, date, and numeric) fields
in the schema templates.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8819">SOLR-8819</a>: Implement DatabaseMetaDataImpl getTables() and fix getSchemas().
<br /><span class="attrib">(Trey Cahill,
Joel Bernstein, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8810">SOLR-8810</a>: Implement Connection.setReadOnly, Statement.set/getFetchSize,
ResultSet.getType
<br /><span class="attrib">(Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8904">SOLR-8904</a>: All dates are formatted via Instant.toString() (ISO-8601); see Solr upgrade notes for differences. Will
now parse (and format) dates with a leading '+' or '-' (BC dates or dates &gt; 4 digit year.
[value] and ms() and contrib/analytics now parse with date math.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8904">SOLR-8904</a>: DateUtil in SolrJ moved to the extraction contrib as ExtractionDateUtil.  Obsolete methods were removed.
<br /><span class="attrib">(David Smiley)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v5.5.5" href="javascript:toggleList('v5.5.5')">Release 5.5.5  [2017-10-24]</a></h3>
<ul id="v5.5.5.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v5.5.5.versions_of_major_components" href="javascript:toggleList('v5.5.5.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v5.5.5.versions_of_major_components.list">
      <li>Apache Tika 1.7
</li>
      <li>Carrot2 3.10.4
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.2.13.v20150730
</li>
    </ol>
  </li>
  <li><a id="v5.5.5.upgrade_notes" href="javascript:toggleList('v5.5.5.upgrade_notes')">Upgrade Notes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v5.5.5.upgrade_notes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11477">SOLR-11477</a>: in the XML query parser (defType=xmlparser or {!xmlparser ... })
the resolving of external entities is now disallowed by default.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11482">SOLR-11482</a>: RunExecutableListener was deprecated and is disabled by default for
security reasons. Legacy applications still using it must explicitely pass
'-Dsolr.enableRunExecutableListener=true' to the Solr command line.
Be aware that you should really disable API-based config editing at the same
time, using '-Ddisable.configEdit=true'!
<br /><span class="attrib">(Uwe Schindler)</span></li>
    </ol>
  </li>
  <li><a id="v5.5.5.bug_fixes" href="javascript:toggleList('v5.5.5.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v5.5.5.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10420">SOLR-10420</a>: Leaking one SolrZkClient instance per second
<br /><span class="attrib">(Scott Blum, Cao Manh Dat, Markus Jelsma, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11477">SOLR-11477</a>: Disallow resolving of external entities in the XML query parser (defType=xmlparser).
<br /><span class="attrib">(Michael Stepankin, Olga Barinova, Uwe Schindler, Christine Poerschke)</span></li>
    </ol>
  </li>
  <li><a id="v5.5.5.other" href="javascript:toggleList('v5.5.5.other')">Other</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v5.5.5.other.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-11486">SOLR-11486</a>: Update jmatio to 1.2 and prevent deserialization inside Matlab files.
<br /><span class="attrib">(Uwe Schindler, Steve Rowe)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v5.5.4" href="javascript:toggleList('v5.5.4')">Release 5.5.4  [2017-02-15]</a></h3>
<ul id="v5.5.4.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v5.5.4.versions_of_major_components" href="javascript:toggleList('v5.5.4.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v5.5.4.versions_of_major_components.list">
      <li>Apache Tika 1.13
</li>
      <li>Carrot2 3.15.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.3.14.v20161028
</li>
    </ol>
  </li>
  <li><a id="v5.5.4.other_changes" href="javascript:toggleList('v5.5.4.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v5.5.4.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9819">SOLR-9819</a>: Upgrade commons-fileupload to 1.3.2, fixing a potential vulnerability CVE-2016-3092
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-10031">SOLR-10031</a>: Validation of filename params in ReplicationHandler
<br /><span class="attrib">(Hrishikesh Gadre, janhoy)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v5.5.3" href="javascript:toggleList('v5.5.3')">Release 5.5.3  [2016-09-09]</a></h3>
<ul id="v5.5.3.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v5.5.3.versions_of_major_components" href="javascript:toggleList('v5.5.3.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v5.5.3.versions_of_major_components.list">
      <li>Apache Tika 1.13
</li>
      <li>Carrot2 3.12.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.3.8.v20160314
</li>
      <li>(No Changes)
</li>
    </ol>
  </li>
</ul>
<h3><a id="v5.5.2" href="javascript:toggleList('v5.5.2')">Release 5.5.2  [2016-06-25]</a></h3>
<ul id="v5.5.2.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
  <li><a id="v5.5.2.versions_of_major_components" href="javascript:toggleList('v5.5.2.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v5.5.2.versions_of_major_components.list">
      <li>Apache Tika 1.7
</li>
      <li>Carrot2 3.10.4
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.2.13.v20150730
</li>
    </ol>
  </li>
  <li><a id="v5.5.2.bug_fixes" href="javascript:toggleList('v5.5.2.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(26)
    <ol id="v5.5.2.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8695">SOLR-8695</a>: Ensure ZK watchers are not triggering our watch logic on connection events and
make this handling more consistent.
<br /><span class="attrib">(Scott Blum via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9198">SOLR-9198</a>: config APIs unable to add multiple values with same name
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9191">SOLR-9191</a>: OverseerTaskQueue.peekTopN() fatally flawed
<br /><span class="attrib">(Scott Blum, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8812">SOLR-8812</a>: edismax: turn off mm processing if no explicit mm spec is provided
and there are explicit operators (except for AND) - addresses problems caused by <a href="http://issues.apache.org/jira/browse/SOLR-2649">SOLR-2649</a>.
<br /><span class="attrib">(Greg Pendlebury, Jan Høydahl, Erick Erickson, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9034">SOLR-9034</a>: Atomic updates failed to work when there were copyField targets that had docValues
enabled.
<br /><span class="attrib">(Karthik Ramachandran, Ishan Chattopadhyaya, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8940">SOLR-8940</a>: Fix group.sort option
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8857">SOLR-8857</a>: HdfsUpdateLog does not use configured or new default number of version buckets and is
hard coded to 256.
<br /><span class="attrib">(Mark Miller, yonik, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8875">SOLR-8875</a>: SolrCloud Overseer clusterState could unexpectedly be null resulting in NPE.
<br /><span class="attrib">(Scott Blum via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8946">SOLR-8946</a>: bin/post failed to detect stdin usage on Ubuntu; maybe other unixes.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9004">SOLR-9004</a>: Fix "name" field type definition in films example.
<br /><span class="attrib">(Alexandre Rafalovitch via Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8990">SOLR-8990</a>: Fix top term links from schema browser page to use {!term} parser
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8971">SOLR-8971</a>: Preserve root cause when wrapping exceptions
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8792">SOLR-8792</a>: ZooKeeper ACL support fixed.
<br /><span class="attrib">(Esther Quansah, Ishan Chattopadhyaya, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9030">SOLR-9030</a>: The 'downnode' overseer command can trip asserts in ZkStateWriter.
<br /><span class="attrib">(Scott Blum, Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9036">SOLR-9036</a>: Solr slave is doing full replication (entire index) of index after master restart.
<br /><span class="attrib">(Lior Sapir, Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9093">SOLR-9093</a>: Fix NullPointerException in TopGroupsShardResponseProcessor.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9118">SOLR-9118</a>: HashQParserPlugin should trim partition keys
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9117">SOLR-9117</a>: The first SolrCore is leaked after reload.
<br /><span class="attrib">(Jessica Cheng Mallet via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9116">SOLR-9116</a>: Race condition causing occasional SolrIndexSearcher leak when SolrCore is reloaded.
<br /><span class="attrib">(Jessica Cheng Mallet via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8801">SOLR-8801</a>: /bin/solr create script always returns exit code 0 when a collection/core already exists.
<br /><span class="attrib">(Khalid Alharbi, Marius Grama via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9134">SOLR-9134</a>: Fix RestManager.addManagedResource return value.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9151">SOLR-9151</a>: Fix SolrCLI so that bin/solr -e cloud example can be run from any CWD
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9165">SOLR-9165</a>: Spellcheck does not return collations if "maxCollationTries" is used with "cursorMark".
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8612">SOLR-8612</a>: closing JDBC Statement on failures in DataImportHandler (DIH)
<br /><span class="attrib">(Kristine Jetzke via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8676">SOLR-8676</a>: keep LOG4J_CONFIG in solr.cmd
<br /><span class="attrib">(Kristine Jetzke via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9176">SOLR-9176</a>: facet method ENUM was sometimes unnecessarily being rewritten to
FCS, causing slowdowns
<br /><span class="attrib">(Alessandro Benedetti, Jesse McLaughlin, Alan Woodward)</span></li>
    </ol>
  </li>
  <li><a id="v5.5.2.other_changes" href="javascript:toggleList('v5.5.2.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="v5.5.2.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7516">SOLR-7516</a>: Improve javadocs for JavaBinCodec, ObjectResolver and enforce the single-usage policy.
<br /><span class="attrib">(Jason Gerlowski, Benoit Vanalderweireldt, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8967">SOLR-8967</a>: In SolrCloud mode, under the 'Core Selector' dropdown in the UI the Replication tab won't be displayed
anymore. The Replication tab is only beneficial to users running Solr in master-slave mode.
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9131">SOLR-9131</a>: Fix "start solr" text in cluster.vm Velocity template
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9053">SOLR-9053</a>: Upgrade commons-fileupload to 1.3.1, fixing a potential vulnerability
<br /><span class="attrib">(Jeff Field, Mike Drob via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8866">SOLR-8866</a>: UpdateLog will now throw an exception if it doesn't know how to serialize a value.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8933">SOLR-8933</a>: Solr should not close container streams.
<br /><span class="attrib">(Mike Drob, Uwe Schindler, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9037">SOLR-9037</a>: Replace multiple "/replication" strings with one static constant.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9047">SOLR-9047</a>: zkcli should allow alternative locations for log4j configuration
<br /><span class="attrib">(Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9105">SOLR-9105</a>: Fix a bunch of typos across 103 files
<br /><span class="attrib">(Bartosz Krasiński via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8445">SOLR-8445</a>: fix line separator in log4j.properties files
<br /><span class="attrib">(Ahmet Arslan via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8674">SOLR-8674</a>: Stop ignoring sysprop solr.tests.mergePolicy, and make tests randomly choose between
setting &lt;mergePolicy&gt; and &lt;mergePolicyFactory&gt;, which was added in <a href="http://issues.apache.org/jira/browse/SOLR-8621">SOLR-8621</a>.
<br /><span class="attrib">(Christine Poerschke)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v5.5.1" href="javascript:toggleList('v5.5.1')">Release 5.5.1  [2016-05-05]</a></h3>
<ul id="v5.5.1.list">
  <li><a id="v5.5.1.bug_fixes" href="javascript:toggleList('v5.5.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(42)
    <ol id="v5.5.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8737">SOLR-8737</a>: Managed synonym lists do not include the original term in the expand
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8734">SOLR-8734</a>: fix (maxMergeDocs|mergeFactor) deprecation warnings: in solrconfig.xml
&lt;maxMergeDocs|mergeFactor&gt; may not be combined with &lt;mergePolicyFactory&gt; and
&lt;maxMergeDocs|mergeFactor&gt; on their own or combined with &lt;mergePolicy&gt; is a warning.
<br /><span class="attrib">(Christine Poerschke, Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8712">SOLR-8712</a>: Variable solr.core.instanceDir was not being resolved
<br /><span class="attrib">(Kristine
Jetzke, Shawn Heisey, Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8793">SOLR-8793</a>: Fix Core admin status API to not fail when computing the size of the segments_N
file if the file no longer exists (for example, if a commit happened and the IndexReader
hasn't refreshed yet). In this case the reported size of the file is -1.
<br /><span class="attrib">(Shai Erera, Alexey Serba, Richard Coggins)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8728">SOLR-8728</a>: ReplicaAssigner throws NPE when a partial list of nodes are only participating in replica
placement. splitshard should preassign nodes using rules, if rules are present
<br /><span class="attrib">(noble, Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8838">SOLR-8838</a>: Returning non-stored docValues is incorrect for negative floats and doubles.
<br /><span class="attrib">(Ishan Chattopadhyaya, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8870">SOLR-8870</a>: AngularJS Query tab no longer URL-encodes the /select part of the request, fixing possible 404 issue
when Solr is behind a proxy. Also, now supports old-style &amp;qt param when handler not prefixed with "/"
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8725">SOLR-8725</a>: Allow hyphen in collection, core, shard, and alias name as the non-first character
(Anshum Gupta)
<br /><span class="attrib">(from 6.0)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8155">SOLR-8155</a>: JSON Facet API - field faceting on a multi-valued string field without
docValues (i.e. UnInvertedField implementation), but with a prefix or with a sort
other than count, resulted in incorrect results.  This has been fixed, and facet.prefix
support for facet.method=uif has been enabled.
<br /><span class="attrib">(Mikhail Khludnev, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8835">SOLR-8835</a>: JSON Facet API: fix faceting exception on multi-valued numeric fields that
have docValues.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8908">SOLR-8908</a>: Fix to OnReconnect listener registration to allow listeners to deregister, such
as when a core is reloaded or deleted to avoid a memory leak.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8662">SOLR-8662</a>: SchemaManager waits correctly for replicas to be notified of a new change
<br /><span class="attrib">(sarowe, Noble Paul, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9007">SOLR-9007</a>: Remove mention of the managed_schema_configs as valid config directory when creating
the collection for the SolrCloud example.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8983">SOLR-8983</a>: Cleanup clusterstate and replicas for a failed create collection request
<br /><span class="attrib">(Varun Thacker, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8578">SOLR-8578</a>: Successful or not, requests are not always fully consumed by Solrj clients and we
count on HttpClient or the JVM.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8683">SOLR-8683</a>: Always consume the full request on the server, not just in the case of an error.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8701">SOLR-8701</a>: CloudSolrClient decides that there are no healthy nodes to handle a request too early.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8416">SOLR-8416</a>: The collections create API should return after all replicas are active.
<br /><span class="attrib">(Michael Sun, Mark Miller, Alexey Serba)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8914">SOLR-8914</a>: ZkStateReader's refreshLiveNodes(Watcher) is not thread safe.
<br /><span class="attrib">(Scott Blum, hoss,
sarowe, Erick Erickson, Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8973">SOLR-8973</a>: Zookeeper frenzy when a core is first created.
<br /><span class="attrib">(Janmejay Singh, Scott Blum, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8694">SOLR-8694</a>: DistributedMap/Queue can create too many Watchers and some code simplification.
<br /><span class="attrib">(Scott Blum via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8633">SOLR-8633</a>: DistributedUpdateProcess processCommit/deleteByQuery call finish on DUP and
SolrCmdDistributor, which violates the lifecycle and can cause bugs.
<br /><span class="attrib">(hossman via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8656">SOLR-8656</a>: PeerSync should use same nUpdates everywhere.
<br /><span class="attrib">(Ramsey Haddad via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8697">SOLR-8697</a>, <a href="http://issues.apache.org/jira/browse/SOLR-8837">SOLR-8837</a>: Scope ZK election nodes by session to prevent elections from interfering with each other
and other small LeaderElector improvements.
<br /><span class="attrib">(Scott Blum via Mark Miller, Alan
Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8599">SOLR-8599</a>: After a failed connection during construction of SolrZkClient attempt to retry until a connection
can be made.
<br /><span class="attrib">(Keith Laban, Dennis Gove)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8420">SOLR-8420</a>: Fix long overflow in sumOfSquares for Date statistics.
<br /><span class="attrib">(Tom Hill, Christine Poerschke,
Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8748">SOLR-8748</a>: OverseerTaskProcessor limits number of concurrent tasks to just 10 even though the thread pool
size is 100. The limit has now been increased to 100.
<br /><span class="attrib">(Scott Blum, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8375">SOLR-8375</a>: ReplicaAssigner rejects valid nodes
<br /><span class="attrib">(Kelvin Tan, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8738">SOLR-8738</a>: Fixed false success response when invalid deleteByQuery requests intially hit non-leader
cloud nodes
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8771">SOLR-8771</a>: Multi-threaded core shutdown creates executor per core.
<br /><span class="attrib">(Mike Drob via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8145">SOLR-8145</a>: Fix position of OOM killer script when starting Solr in the background
<br /><span class="attrib">(Jurian Broertjes via
Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8769">SOLR-8769</a>: Fix document exclusion in mlt query parser in Cloud mode for schemas that have non-"id"
unique field
<br /><span class="attrib">(Erik Hatcher, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8728">SOLR-8728</a>: ReplicaAssigner throws NPE when a partial list of nodes are only participating in replica
placement. splitshard should preassign nodes using rules, if rules are present
<br /><span class="attrib">(noble, Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8779">SOLR-8779</a>: Fix missing InterruptedException handling in ZkStateReader.java
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8449">SOLR-8449</a>: Fix the core restore functionality to allow restoring multiple times on the same core
<br /><span class="attrib">(Johannes Brucher, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8790">SOLR-8790</a>: Collections API responses contain node name in the core-level responses that are
returned.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8804">SOLR-8804</a>: Fix a race condition in the ClusterStatus API call whereby the call would fail when a concurrent delete
collection api command was executed
<br /><span class="attrib">(Alexey Serba, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9016">SOLR-9016</a>: Fix SolrIdentifierValidator to not allow empty identifiers.
<br /><span class="attrib">(Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8886">SOLR-8886</a>: Fix TrieField.toObject(IndexableField) to work for field with docValues
enabled.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8891">SOLR-8891</a>: Fix StrField.toObject and toExternal to work with docValue IndexableField
instances.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8865">SOLR-8865</a>: Real-time get sometimes fails to retrieve stored fields from docValues.
<br /><span class="attrib">(Ishan Chattopadhyaya, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9046">SOLR-9046</a>: Fix solr.cmd that wrongly assumes Jetty will always listen on 0.0.0.0.
<br /><span class="attrib">(Bram Van Dam, Uwe Schindler)</span></li>
    </ol>
  </li>
  <li><a id="v5.5.1.other_changes" href="javascript:toggleList('v5.5.1.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v5.5.1.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8758">SOLR-8758</a>: Add a new SolrCloudTestCase class, using MiniSolrCloudCluster
<br /><span class="attrib">(Alan
Woodward)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v5.5.0" href="javascript:toggleList('v5.5.0')">Release 5.5.0  [2016-02-22]</a></h3>
<ul id="v5.5.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release
</li>
  <li><a id="v5.5.0.versions_of_major_components" href="javascript:toggleList('v5.5.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v5.5.0.versions_of_major_components.list">
      <li>Apache Tika 1.7
</li>
      <li>Carrot2 3.10.4
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.2.13.v20150730
</li>
    </ol>
  </li>
  <li><a id="v5.5.0.upgrading_from_solr_5.4" href="javascript:toggleList('v5.5.0.upgrading_from_solr_5.4')">Upgrading from Solr 5.4</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v5.5.0.upgrading_from_solr_5.4.list">
      <li>The Solr schema version has been increased to 1.6. Since schema version 1.6, all non-stored docValues fields
will be returned along with other stored fields when all fields (or pattern matching globs) are specified
to be returned (e.g. fl=*) for search queries. This behavior can be turned on and off by setting
'useDocValuesAsStored' parameter for a field or a field type to true (default since schema version 1.6)
or false (default till schema version 1.5).
Note that enabling this property has performance implications because DocValues are column-oriented and may
therefore incur additional cost to retrieve for each returned document. All example schema are upgraded to
version 1.6 but any older schemas will default to useDocValuesAsStored=false and continue to work as in
older versions of Solr. If this new behavior is desirable, then you should set version attribute in your
schema file to '1.6'. Re-indexing is not necessary to upgrade the schema version.
Also note that while returning non-stored fields from docValues (default in schema versions 1.6+, unless
useDocValuesAsStored is false), the values of a multi-valued field are returned in sorted order.
If you require the multi-valued fields to be returned in the original insertion order, then make your
multi-valued field as stored. This requires re-indexing.
See <a href="http://issues.apache.org/jira/browse/SOLR-8220">SOLR-8220</a> for more details.
<p>
</li>
      <li>All protected methods from CoreAdminHandler other than handleCustomAction() is removed by <a href="http://issues.apache.org/jira/browse/SOLR-8476">SOLR-8476</a> and can
no more be overridden. If you still wish to override those methods, override the handleRequestBody()
<p>
</li>
      <li>The PERSIST CoreAdmin action which was a NOOP and returned a deprecated message has been removed. See <a href="http://issues.apache.org/jira/browse/SOLR-8476">SOLR-8476</a>
for more details. The corresponding SolrJ action has also been removed.
<p>
</li>
      <li>bin/post now defaults application/json files to the /update/json/docs end-point.  Use `-format solr` to force
files to the /update end-point.   See <a href="http://issues.apache.org/jira/browse/SOLR-7042">SOLR-7042</a> for more details.
<p>
</li>
      <li>In solrconfig.xml the &lt;mergePolicy&gt; element is deprecated in favor of a similar &lt;mergePolicyFactory&gt; element,
the &lt;mergeFactor&gt; and &lt;maxMergeDocs&gt; elements are also deprecated, please see <a href="http://issues.apache.org/jira/browse/SOLR-8621">SOLR-8621</a> for full details.
<p>
To migrate your existing solrconfig.xml, you can replace elements as follows:
<p>
&lt;!-- TieredMergePolicy example --&gt;
&lt;!-- deprecated --&gt;
&lt;mergeFactor&gt;??&lt;/mergeFactor&gt;
&lt;mergePolicy class="org.apache.lucene.index.TieredMergePolicy"&gt;
  &lt;bool name="useCompoundFile"&gt;???&lt;/bool&gt; &lt;!-- deprecated since Lucene/Solr 4.4.0 --&gt;
  ...
&lt;/mergePolicy&gt;
&lt;!-- replacement --&gt;
&lt;useCompoundFile&gt;???&lt;/useCompoundFile&gt; &lt;!-- since Lucene/Solr 4.4.0 --&gt;
&lt;mergePolicyFactory class="org.apache.solr.index.TieredMergePolicyFactory"&gt;
  &lt;int name="maxMergeAtOnce"&gt;??&lt;/int&gt; &lt;!-- formerly the &lt;mergeFactor&gt; element implicitly set this --&gt;
  &lt;int name="segmentsPerTier"&gt;??&lt;/int&gt; &lt;!-- formerly the &lt;mergeFactor&gt; element implicitly set this --&gt;
  ...
&lt;/mergePolicyFactory&gt;
<p>
&lt;!-- Log(ByteSize|Doc)MergePolicy example --&gt;
&lt;!-- deprecated --&gt;
&lt;maxMergeDocs&gt;????&lt;/maxMergeDocs&gt;
&lt;mergeFactor&gt;??&lt;/mergeFactor&gt;
&lt;mergePolicy class="org.apache.lucene.index.Log?MergePolicy"&gt;
  &lt;bool name="useCompoundFile"&gt;???&lt;/bool&gt; &lt;!-- deprecated since Lucene/Solr 4.4.0 --&gt;
  ...
&lt;/mergePolicy&gt;
&lt;!-- replacement --&gt;
&lt;useCompoundFile&gt;???&lt;/useCompoundFile&gt; &lt;!-- since Lucene/Solr 4.4.0 --&gt;
&lt;mergePolicyFactory class="org.apache.solr.index.Log?MergePolicyFactory"&gt;
  &lt;int name="maxMergeDocs"&gt;????&lt;/int&gt; &lt;!-- formerly the &lt;maxMergeDocs&gt; element set this --&gt;
  &lt;int name="mergeFactor"&gt;??&lt;/int&gt; &lt;!-- formerly the &lt;mergeFactor&gt; element set this --&gt;
  ...
&lt;/mergePolicyFactory&gt;
<p>
</li>
      <li>Clearing up stored async collection api responses via REQUESTSTATUS call is now deprecated and would be
removed in 6.0. See <a href="http://issues.apache.org/jira/browse/SOLR-8648">SOLR-8648</a> for more details.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6594">SOLR-6594</a>: Deprecated the old schema API which will be removed in a later major release
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v5.5.0.new_features" href="javascript:toggleList('v5.5.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(22)
    <ol id="v5.5.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7928">SOLR-7928</a>: Improve CheckIndex to work against HdfsDirectory
<br /><span class="attrib">(Mike Drob, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8378">SOLR-8378</a>: Add upconfig and downconfig commands to the bin/solr script
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8434">SOLR-8434</a>: Add wildcard support to role, to match any role in RuleBasedAuthorizationPlugin
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4280">SOLR-4280</a>: Allow specifying "spellcheck.maxResultsForSuggest" as a percentage of filter
query results
<br /><span class="attrib">(Markus Jelsma via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8429">SOLR-8429</a>: Add a flag 'blockUnknown' to BasicAuthPlugin to block unauthenticated requests
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8230">SOLR-8230</a>: JSON Facet API: add "facet-info" into debug section of response when debugQuery=true
<br /><span class="attrib">(Michael Sun, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8428">SOLR-8428</a>: RuleBasedAuthorizationPlugin adds an 'all' permission
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5743">SOLR-5743</a>: BlockJoinFacetComponent and BlockJoinDocSetFacetComponent for calculating facets by
child.facet.field parameter with {!parent ..}.. query. They count facets on children documents
aggregating (deduplicating) counts by parent documents
<br /><span class="attrib">(Dr. Oleg Savrasov via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8220">SOLR-8220</a>: Read field from DocValues for non stored fields.
<br /><span class="attrib">(Keith Laban, yonik, Erick Erickson, Ishan Chattopadhyaya, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8470">SOLR-8470</a>: Make TTL of PKIAuthenticationPlugin's tokens configurable through a system property
(pkiauth.ttl)
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8477">SOLR-8477</a>: Let users choose compression mode in SchemaCodecFactory
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-839">SOLR-839</a>: XML QueryParser support (defType=xmlparser)
Lucene includes a queryparser that supports the creation of Lucene queries from XML.
The queries supported by lucene.queryparser.xml.CoreParser are now supported by the newly
created solr.search.SolrCoreParser and in future SolrCoreParser could support additional
queries also.
Example: &lt;BooleanQuery fieldName="description"&gt;
           &lt;Clause occurs="must"&gt; &lt;TermQuery&gt;shirt&lt;/TermQuery&gt; &lt;/Clause&gt;
           &lt;Clause occurs="mustnot"&gt; &lt;TermQuery&gt;plain&lt;/TermQuery&gt; &lt;/Clause&gt;
           &lt;Clause occurs="should"&gt; &lt;TermQuery&gt;cotton&lt;/TermQuery&gt; &lt;/Clause&gt;
           &lt;Clause occurs="must"&gt;
             &lt;BooleanQuery fieldName="size"&gt;
               &lt;Clause occurs="should"&gt; &lt;TermsQuery&gt;S M L&lt;/TermsQuery&gt; &lt;/Clause&gt;
             &lt;/BooleanQuery&gt;
           &lt;/Clause&gt;
         &lt;/BooleanQuery&gt;
<br /><span class="attrib">(Erik Hatcher, Karl Wettin, Daniel Collins, Nathan Visagan, Ahmet Arslan, Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8312">SOLR-8312</a>: Add domain size and numBuckets to facet telemetry info (facet debug info
for the new Facet Module).
<br /><span class="attrib">(Michael Sun, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8534">SOLR-8534</a>: Add generic support for collection APIs to be async. Thus more actions benefit from having async
support. The commands that additionally get async support are: delete/reload collection, create/delete alias,
create/delete shard, delete replica, add/delete replica property, add/remove role,
overseer status, balance shard unique, rebalance leaders, modify collection, migrate state format
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4619">SOLR-4619</a>: Improve PreAnalyzedField query analysis.
<br /><span class="attrib">(Andrzej Bialecki, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8560">SOLR-8560</a>: Added RequestStatusState enum which can be used when comparing states of
asynchronous requests.
<br /><span class="attrib">(Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8586">SOLR-8586</a>: added index fingerprint, a hash over all versions currently in the index.
PeerSync now uses this to check if replicas are in sync.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8500">SOLR-8500</a>: Allow the number of threads ConcurrentUpdateSolrClient StreamingSolrClients configurable by a
system property. NOTE: this is an expert option and can result in more often needing to do full index replication
for recovery, the sweet spot for using this is very high volume, leader-only indexing.
<br /><span class="attrib">(Tim Potter, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8642">SOLR-8642</a>: SOLR allows creation of collections with invalid names
<br /><span class="attrib">(Jason Gerlowski via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8621">SOLR-8621</a>: Deprecate &lt;mergePolicy&gt; in favor of &lt;mergePolicyFactory&gt;. It allows to configure
both the "simple" merge policies, but also more advanced ones, e.g. UpgradeIndexMergePolicy.
<br /><span class="attrib">(Christine Poerschke, Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8648">SOLR-8648</a>: DELETESTATUS API for selective deletion and flushing of stored async collection API responses.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8466">SOLR-8466</a>: adding facet.method=uif to bring back UnInvertedField faceting which is used to work on
facet.method=fc. It's more performant for rarely changing indexes. Note: it ignores prefix and contains yet.
<br /><span class="attrib">(Jamie Johnson via Mikhail Khludnev)</span></li>
    </ol>
  </li>
  <li><a id="v5.5.0.bug_fixes" href="javascript:toggleList('v5.5.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(35)
    <ol id="v5.5.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8175">SOLR-8175</a>: Word Break Spellchecker would throw AIOOBE with certain queries containing
 "should" clauses.
<br /><span class="attrib">(Ryan Josal via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2556">SOLR-2556</a>: The default spellcheck query converter was ignoring terms consisting entirely
of digits.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8366">SOLR-8366</a>: ConcurrentUpdateSolrClient attempts to use response's content type as charset encoding
for parsing exception.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6271">SOLR-6271</a>: Fix ConjunctionSolrSpellChecker to not compare StringDistance by instance.
<br /><span class="attrib">(Igor Kostromin via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7304">SOLR-7304</a>: Fix Spellcheck Collate to not invalidate range queries.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8373">SOLR-8373</a>: KerberosPlugin: Using multiple nodes on same machine leads clients to
fetch TGT for every request
<br /><span class="attrib">(Ishan Chattopadhyaya via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8367">SOLR-8367</a>: Fix the LeaderInitiatedRecovery 'all replicas participate' fail-safe.
<br /><span class="attrib">(Mark Miller, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8401">SOLR-8401</a>: Windows start script fails when executed from a different drive.
<br /><span class="attrib">(Nicolas Gavalda via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6992">SOLR-6992</a>: Fix "Files" UI to show the managed-schema file as well.
<br /><span class="attrib">(Shawn Heisey, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2649">SOLR-2649</a>: MM ignored in edismax queries with operators.
<br /><span class="attrib">(Greg Pendlebury, Jan Høydahl et. al. via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8372">SOLR-8372</a>: Canceled recovery can rarely lead to inconsistent shards:
If a replica is recovering via index replication, and that recovery fails
(for example if the leader goes down), and then some more updates are received
(there could be a few left to be processed from the leader that just went down),
and then that replica is brought down, it will think it is up-to-date when
restarted.
<br /><span class="attrib">(shalin, Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8419">SOLR-8419</a>: TermVectorComponent for distributed search when distrib.singlePass could include term
vectors for documents that matched the query yet weren't in the returned documents.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8015">SOLR-8015</a>: HdfsLock may fail to close a FileSystem instance if it cannot immediately
obtain an index lock.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8422">SOLR-8422</a>: When authentication enabled, requests fail if sent to a node that doesn't host
the collection
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8059">SOLR-8059</a>: &amp;debug=results for distributed search when distrib.singlePass (sometimes activated
automatically) could result in an NPE.
<br /><span class="attrib">(David Smiley, Markus Jelsma)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8460">SOLR-8460</a>: /analysis/field could throw exceptions for custom attributes.
<br /><span class="attrib">(David Smiley, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8276">SOLR-8276</a>: Atomic updates and realtime-get do not work with non-stored docvalues.
<br /><span class="attrib">(Ishan Chattopadhyaya, yonik via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7462">SOLR-7462</a>: AIOOBE in RecordingJSONParser
<br /><span class="attrib">(Scott Dawson, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8494">SOLR-8494</a>: SimplePostTool and therefore the bin/post script cannot upload files larger than 2.1GB.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8451">SOLR-8451</a>: We should not call method.abort in HttpSolrClient or HttpSolrCall#remoteQuery and
HttpSolrCall#remoteQuery should not close streams.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8450">SOLR-8450</a>: Our HttpClient retry policy is too permissive.
<br /><span class="attrib">(Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8533">SOLR-8533</a>: Raise default maxUpdateConnections and maxUpdateConnectionsPerHost to 100k each.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8453">SOLR-8453</a>: Solr should attempt to consume the request inputstream on errors as we cannot
count on the container to do it.
<br /><span class="attrib">(Mark Miller, Greg Wilkins, yonik, Joakim Erdfelt)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6279">SOLR-6279</a>: cores?action=UNLOAD now waits for the core to close before unregistering it from ZK.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2798">SOLR-2798</a>: Fixed local params to work correctly with multivalued params
<br /><span class="attrib">(Demian Katz via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8541">SOLR-8541</a>: Highlighting a geo RPT field would throw an NPE instead of doing nothing.
<br /><span class="attrib">(Pawel Rog via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8548">SOLR-8548</a>: Core discovery was not following symlinks
<br /><span class="attrib">(Aaron LaBella via Alan
Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8564">SOLR-8564</a>: Fix Embedded ZooKeeper to use &lt;solrHome&gt;/zoo_data for it's data directory
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8371">SOLR-8371</a>: Try and prevent too many recovery requests from stacking up and clean up some faulty
cancel recovery logic.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8582">SOLR-8582</a> : memory leak in JsonRecordReader affecting /update/json/docs. Large payloads
cause OOM
<br /><span class="attrib">(noble, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8605">SOLR-8605</a>: Regular expression queries starting with escaped forward slash caused
an exception.
<br /><span class="attrib">(Scott Blum, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8607">SOLR-8607</a>: The Schema API refuses to add new fields that match existing dynamic fields.
<br /><span class="attrib">(Jan Høydahl, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8575">SOLR-8575</a>: Fix HDFSLogReader replay status numbers, a performance bug where we can reopen
FSDataInputStream much too often, and an hdfs tlog data integrity bug.
<br /><span class="attrib">(Mark Miller, Patrick Dvorack, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8651">SOLR-8651</a>: The commitWithin parameter is not passed on for deleteById in UpdateRequest in
distributed queries
<br /><span class="attrib">(Jessica Cheng Mallet via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8551">SOLR-8551</a>: Make collection deletion more robust.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v5.5.0.optimizations" href="javascript:toggleList('v5.5.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v5.5.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8501">SOLR-8501</a>: Specify the entity request size when known in HttpSolrClient.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8615">SOLR-8615</a>: Just like creating cores, we should use multiple threads when closing cores.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7281">SOLR-7281</a>: Add an overseer action to publish an entire node as 'down'.
<br /><span class="attrib">(Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8669">SOLR-8669</a>: Non binary responses use chunked encoding because we flush the outputstream early.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v5.5.0.other_changes" href="javascript:toggleList('v5.5.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(54)
    <ol id="v5.5.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-6900">LUCENE-6900</a>: Added test for score ordered grouping, and refactored TopGroupsResultTransformer.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8336">SOLR-8336</a>: CoreDescriptor now takes a Path for its instance directory, rather
than a String
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8351">SOLR-8351</a>: Improve HdfsDirectory toString representation
<br /><span class="attrib">(Mike Drob via Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8321">SOLR-8321</a>: add a (SolrQueryRequest free) SortSpecParsing.parseSortSpec variant
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8338">SOLR-8338</a>: in OverseerTest replace strings such as "collection1" and "state" with variable
or enum equivalent
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8333">SOLR-8333</a>: Several API tweaks so that public APIs were no longer refering to private classes
<br /><span class="attrib">(ehatcher, Shawn Heisey, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8357">SOLR-8357</a>: UpdateLog.RecentUpdates now implements Closeable
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8339">SOLR-8339</a>: Refactor SolrDocument and SolrInputDocument to have a common base abstract class
called SolrDocumentBase. Deprecated methods toSolrInputDocument and toSolrDocument in ClientUtils.
<br /><span class="attrib">(Ishan Chattopadhyaya via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8353">SOLR-8353</a>: Support regex for skipping license checksums
<br /><span class="attrib">(Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8313">SOLR-8313</a>: SimpleQueryParser doesn't use MultiTermAnalysis for Fuzzy Queries
<br /><span class="attrib">(Tom Hill via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8359">SOLR-8359</a>: Restrict child classes from using parent logger's state
<br /><span class="attrib">(Jason Gerlowski, Mike Drob, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8131">SOLR-8131</a>: All example config sets now explicitly use the ManagedIndexSchemaFactory
instead of ClassicIndexSchemaFactory. This means that the Schema APIs ( /&lt;collection&gt;/schema )
are enabled by default and the schema is mutable. The schema file will be called managed-schema
<br /><span class="attrib">(Uwe Schindler, shalin, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8381">SOLR-8381</a>: Cleanup data_driven managed-schema and solrconfig.xml files. Commented out copyFields are removed
and solrconfig.xml doesn't refer to field which are not defined.
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7774">SOLR-7774</a>: revise BasicDistributedZkTest.test logic w.r.t. 'commitWithin did not work on some nodes'
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8360">SOLR-8360</a>: simplify ExternalFileField.getValueSource implementation
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8387">SOLR-8387</a>: All example configs shipped with Solr explicitly use ManagedIndexSchemaFactory, the schema file will
be called managed-schema instead of schema.xml . It is not advised to use hand edit the managed-schema. You should
use the schema APIs instead ( /&lt;collection&gt;/schema ) . If you do not want this behaviour in the example configs,
before you start solr rename managed-schema to schema.xml and change the schemaFactory in solrconfig.xml file
to explicitly use ClassicIndexSchemaFactory instead : &lt;schemaFactory class="ClassicIndexSchemaFactory"/&gt;
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8305">SOLR-8305</a>: replace LatLonType.getValueSource's QParser use
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8388">SOLR-8388</a>: factor out response/TestSolrQueryResponse.java from servlet/ResponseHeaderTest.java
more TestSolrQueryResponse.java tests; add SolrReturnFields.toString method, ReturnFieldsTest.testToString test;
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8383">SOLR-8383</a>: SolrCore.java + QParserPlugin.java container initialCapacity tweaks
<br /><span class="attrib">(Christine Poerschke, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-6925">LUCENE-6925</a>: add RandomForceMergePolicy class in test-framework
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8404">SOLR-8404</a>: tweak SolrQueryResponse.getToLogAsString, add TestSolrQueryResponse.testToLog
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8352">SOLR-8352</a>: randomise unload order in UnloadDistributedZkTest.testUnloadShardAndCollection
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8414">SOLR-8414</a>: AbstractDistribZkTestBase.verifyReplicaStatus could throw NPE
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8410">SOLR-8410</a>: Add all read paths to 'read' permission in RuleBasedAuthorizationPlugin
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8279">SOLR-8279</a>: Add a new test fault injection approach and a new SolrCloud test that stops and starts the cluster
while indexing data and with random faults.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8419">SOLR-8419</a>: TermVectorComponent for distributed search now requires a uniqueKey in the schema.  Also, it no longer
returns "uniqueKeyField" in the response.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8317">SOLR-8317</a>: add &amp; use responseHeader and response accessors to SolrQueryResponse.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8452">SOLR-8452</a>: replace "partialResults" occurrences with SolrQueryResponse.RESPONSE_HEADER_PARTIAL_RESULTS_KEY
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8454">SOLR-8454</a>: ZkStateReader logging improvements and cleanup of dead code
<br /><span class="attrib">(Shai Erera, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8455">SOLR-8455</a>: RecovertStrategy logging improvements and sleep-between-recovery-attempts bug fix.
<br /><span class="attrib">(Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8481">SOLR-8481</a>: TestSearchPerf no longer needs to duplicate SolrIndexSearcher.(NO_CHECK_QCACHE|NO_CHECK_FILTERCACHE)
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8486">SOLR-8486</a>: No longer require jar/unzip for bin/solr
<br /><span class="attrib">(Steven E. Harris, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8483">SOLR-8483</a>: relocate 'IMPORTANT NOTE' in open-exchange-rates.json test-file to avoid
OpenExchangeRatesOrgProvider.java warnings
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8489">SOLR-8489</a>: TestMiniSolrCloudCluster.createCollection to support extra &amp; alternative collectionProperties
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8482">SOLR-8482</a>: add &amp; use QueryCommand.[gs]etTerminateEarly accessors.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8498">SOLR-8498</a>: Improve error message when a large value is stored in an indexed string field.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8484">SOLR-8484</a>: refactor update/SolrIndexConfig.LOCK_TYPE_* into core/DirectoryFactory.LOCK_TYPE_*
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8504">SOLR-8504</a>: (IndexSchema|SolrIndexConfig)Test: private static finals for
solrconfig.xml and schema.xml String literals.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8505">SOLR-8505</a>: core/DirectoryFactory.LOCK_TYPE_HDFS - add &amp; use it instead of String literals
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7042">SOLR-7042</a>: bin/post now uses /update/json/docs for application/json content types, including support for
.jsonl (JSON Lines) files.
<br /><span class="attrib">(Erik Hatcher and shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8476">SOLR-8476</a>: Refactor and cleanup CoreAdminHandler
<br /><span class="attrib">(noble, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8535">SOLR-8535</a>: Support forcing define-lucene-javadoc-url to be local
<br /><span class="attrib">(Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8549">SOLR-8549</a>: Solr start script checks for cores which have failed to load as well before attempting to
create a core with the same name
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8555">SOLR-8555</a>: SearchGroupShardResponseProcessor (initialCapacity) tweaks
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-6978">LUCENE-6978</a>: Refactor several code places that lookup locales
by string name to use BCP47 locale tag instead. LuceneTestCase
now also prints locales on failing tests this way. In addition,
several places in Solr now additionally support BCP47 in config
files.
<br /><span class="attrib">(Uwe Schindler, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7907">SOLR-7907</a>: Remove CLUSTERSTATUS related exclusivity checks while running commands in the Overseer because the
CLUSTERSTATUS request is served by the individual nodes itself and not via the Overseer node
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8566">SOLR-8566</a>: various initialCapacity tweaks (Fix Versions: trunk 5.5)
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8565">SOLR-8565</a>: add &amp; use CommonParams.(ROWS|START)_DEFAULT constants
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8595">SOLR-8595</a>: Use BinaryRequestWriter by default in HttpSolrClient and ConcurrentUpdateSolrClient.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8597">SOLR-8597</a>: add default, no-op QParserPlugin.init(NamedList) method
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7968">SOLR-7968</a>: Make QueryComponent more extensible.
<br /><span class="attrib">(Markus Jelsma via David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8600">SOLR-8600</a>: add &amp; use ReRankQParserPlugin parameter [default] constants,
changed ReRankQuery.toString to use StringBuilder.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8308">SOLR-8308</a>: Core gets inaccessible after RENAME operation with special characters
<br /><span class="attrib">(Erik Hatcher, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3141">SOLR-3141</a>: Warn in logs when expensive optimize calls are made
<br /><span class="attrib">(yonik, janhoy)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v5.4.1" href="javascript:toggleList('v5.4.1')">Release 5.4.1  [2016-01-23]</a></h3>
<ul id="v5.4.1.list">
  <li><a id="v5.4.1.bug_fixes" href="javascript:toggleList('v5.4.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v5.4.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8460">SOLR-8460</a>: /analysis/field could throw exceptions for custom attributes.
<br /><span class="attrib">(David Smiley, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8373">SOLR-8373</a>: KerberosPlugin: Using multiple nodes on same machine leads clients to
fetch TGT for every request
<br /><span class="attrib">(Ishan Chattopadhyaya via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8059">SOLR-8059</a>: &amp;debug=results for distributed search when distrib.singlePass (sometimes activated
automatically) could result in an NPE.
<br /><span class="attrib">(David Smiley, Markus Jelsma)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8422">SOLR-8422</a>: When authentication enabled, requests fail if sent to a node that doesn't host
the collection
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7462">SOLR-7462</a>: AIOOBE in RecordingJSONParser
<br /><span class="attrib">(Scott Dawson, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8496">SOLR-8496</a>: SolrIndexSearcher.getDocSet(List&lt;Query&gt;) incorrectly included deleted documents
when all of the queries were uncached (or there was no filter cache).  This caused
multi-select faceting (including the JSON Facet API) to include deleted doc counts
when the remaining non-excluded filters were all uncached.  This bug was first introduced in 5.3.0
<br /><span class="attrib">(Andreas Müller, Vasiliy Bout, Erick Erickson, Shawn Heisey, Hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8418">SOLR-8418</a>: Adapt to changes in <a href="http://issues.apache.org/jira/browse/LUCENE-6590">LUCENE-6590</a> for use of boosts with MLTHandler and
Simple/CloudMLTQParser
<br /><span class="attrib">(Jens Wille, Ramkumar Aiyengar)</span></li>
    </ol>
  </li>
  <li><a id="v5.4.1.new_features" href="javascript:toggleList('v5.4.1.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v5.4.1.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8470">SOLR-8470</a>: Make TTL of PKIAuthenticationPlugin's tokens configurable through a system property
(pkiauth.ttl)
<br /><span class="attrib">(noble)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v5.4.0" href="javascript:toggleList('v5.4.0')">Release 5.4.0  [2015-12-14]</a></h3>
<ul id="v5.4.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release
</li>
  <li><a id="v5.4.0.versions_of_major_components" href="javascript:toggleList('v5.4.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v5.4.0.versions_of_major_components.list">
      <li>Apache Tika 1.7
</li>
      <li>Carrot2 3.10.4
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.2.13.v20150730
</li>
    </ol>
  </li>
  <li><a id="v5.4.0.upgrading_from_solr_5.3" href="javascript:toggleList('v5.4.0.upgrading_from_solr_5.3')">Upgrading from Solr 5.3</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v5.4.0.upgrading_from_solr_5.3.list">
      <li>DefaultSimilarityFactory has been renamed to ClassicSimilarityFactory to match the underlying rename of
DefaultSimilarity to ClassicSimilarity and the (eventual) move away from using it as a default.
If you currently have DefaultSimilarityFactory explicitly referenced in your schema.xml, you will now get
a warning urging you to edit your config to use the functionally identical ClassicSimilarityFactory.
DefaultSimilarityFactory will be removed completely in Solr 6.  See <a href="http://issues.apache.org/jira/browse/SOLR-8239">SOLR-8239</a> for more details.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7859">SOLR-7859</a>: The following APIs are now deprecated:
<ul class="bulleted-list">
<li class="bulleted-list">
SolrCore.getStartTime: Use SolrCore.getStartTimeStamp instead.
</li>
<li class="bulleted-list">
SolrIndexSearcher.getOpenTime: Use SolrIndexSearcher.getOpenTimeStamp instead.
</li>
</ul>
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8307">SOLR-8307</a>: EmptyEntityResolver was moved from core to solrj, and moved from the org.apache.solr.util
package to org.apache.solr.common.  If you are using this class, you will need to adjust the import package.
<p>
</li>
      <li>Logger declarations in most source files have changed to code that
no longer needs to explicitly state the class name.  This fixes situations
where a logger for a different class was incorrectly used. See <a href="http://issues.apache.org/jira/browse/SOLR-8324">SOLR-8324</a>
and its sub-issues for details.
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v5.4.0.new_features" href="javascript:toggleList('v5.4.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(21)
    <ol id="v5.4.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5756">SOLR-5756</a>: A utility Collection API to move a collection from shared clusterstate.json (stateFormat=1,
default until 4.x) to the per-collection state.json stored in ZooKeeper (stateFormat=2,
default since 5.0) seamlessly without any application down-time.
Example:
http://localhost:8983/solr/admin/collections?action=MIGRATESTATEFORMAT&amp;collection=&lt;collection_name&gt;
<br /><span class="attrib">(Noble Paul, Scott Blum, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7219">SOLR-7219</a>: filterCache access added to the solr query syntax.
Example: description:HDTV OR filter(+promotion:tv +promotion_date:[NOW/DAY TO NOW/DAY+7DAY])
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7775">SOLR-7775</a>: Allow fromIndex parameter to ScoreJoinQParserPlugin {!join score=.. fromIndex=..}..
 to refer to a single-sharded collection that has a replica on all nodes where there is a
 replica in the to index
<br /><span class="attrib">(Andrei Beliakov via Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7961">SOLR-7961</a>: Print Solr's version with command bin/solr version
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7789">SOLR-7789</a>: Introduce a ConfigSet management API
<br /><span class="attrib">(Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4316">SOLR-4316</a>: Add a collections dropdown to angular admin UI
<br /><span class="attrib">(Upayavira, Shalin Shekhar Mangar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7915">SOLR-7915</a>: Provide pluggable context tool support for VelocityResponseWriter
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-6795">LUCENE-6795</a>: SystemInfoHandler was improved to also show detailed operating
system statistics on IBM J9 virtual machines. It also no longer fails on Java 9
with Jigsaw module system.
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8053">SOLR-8053</a>: Basic auth support in SolrJ
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7995">SOLR-7995</a>: Add a LIST command to ConfigSets API
<br /><span class="attrib">(Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4388">SOLR-4388</a>: In Angular UI, add a Collections UI when in cloud mode
<br /><span class="attrib">(Upayavira)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7858">SOLR-7858</a>, <a href="http://issues.apache.org/jira/browse/SOLR-8199">SOLR-8199</a>: Add links between original and new Admin UIs
<br /><span class="attrib">(Upayavira)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7888">SOLR-7888</a>: Analyzing suggesters can now filter suggestions by a context field
<br /><span class="attrib">(Arcadius Ahouansou, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8217">SOLR-8217</a>: JSON Facet API: add "method" param to terms/field facets to give an execution
hint for what method should be used to facet.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8113">SOLR-8113</a>: CloneFieldUpdateProcessorFactory now supports choosing a "dest" field name based on a regex
pattern and replacement init options.
<br /><span class="attrib">(Gus Heck, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8139">SOLR-8139</a>: Create/delete fields/dynamic fields/copy fields via schema tab on Angular UI
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8166">SOLR-8166</a>: Introduce possibility to configure ParseContext in
ExtractingRequestHandler/ExtractingDocumentLoader
<br /><span class="attrib">(Andriy Binetsky
via Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7569">SOLR-7569</a>: A collection API to force elect a leader, called FORCELEADER, when all replicas in a shard are down
<br /><span class="attrib">(Ishan Chattopadhyaya, Mark Miller, shalin, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6168">SOLR-6168</a>: Add a 'sort' local param to the collapse QParser to support using complex sort options
to select the representitive doc for each collapsed group.
<br /><span class="attrib">(Umesh Prasad, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8329">SOLR-8329</a>: SchemaSimilarityFactory now supports a 'defaultSimFromFieldType' init option for using
a fieldType name to identify which Similarity to use as a default.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7912">SOLR-7912</a>: Add boost support, and also exclude the queried document in MoreLikeThis QParser
<br /><span class="attrib">(Jens Wille via Anshum Gupta)</span></li>
    </ol>
  </li>
  <li><a id="v5.4.0.bug_fixes" href="javascript:toggleList('v5.4.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(59)
    <ol id="v5.4.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7859">SOLR-7859</a>: Fix usage of currentTimeMillis instead of nanoTime in multiple places,
whitelist valid uses of currentTimeMillis
<br /><span class="attrib">(Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7836">SOLR-7836</a>: Possible deadlock when closing refcounted index writers.
<br /><span class="attrib">(Jessica Cheng Mallet, Erick Erickson, Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7869">SOLR-7869</a>: Overseer does not handle BadVersionException correctly and, in some cases,
can go into an infinite loop if cluster state in ZooKeeper is modified externally.
<br /><span class="attrib">(Scott Blum, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7920">SOLR-7920</a>: Resolve XSS issue in Admin UI Schema Browser
<br /><span class="attrib">(David Chiu via Upayavira)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7935">SOLR-7935</a>: Fix very rare race condition that can cause an update to fail
via NullPointerException during a core reload.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7941">SOLR-7941</a>: multivalued params are concatenated when using config API
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7956">SOLR-7956</a>: There are interrupts on shutdown in places that can cause ChannelAlreadyClosed
exceptions which prevents proper closing of transaction logs, interfere with the IndexWriter,
the hdfs client and other things.
<br /><span class="attrib">(Mark Miller, Scott Blum)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7954">SOLR-7954</a>: Fixed an integer overflow bug in the HyperLogLog code used by the 'cardinality' option
of stats.field to prevent ArrayIndexOutOfBoundsException in a distributed search when a large precision
is selected and a large number of values exist in each shard
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7844">SOLR-7844</a>: Zookeeper session expiry during shard leader election can cause multiple leaders.
<br /><span class="attrib">(Mike Roberts, Mark Miller, Jessica Cheng)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7984">SOLR-7984</a>: wrong and misleading error message 'no default request handler is registered'
<br /><span class="attrib">(noble, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8001">SOLR-8001</a>: Fixed bugs in field(foo,min) and field(foo,max) when some docs have no values
<br /><span class="attrib">(David Smiley, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7819">SOLR-7819</a>: ZK connection loss or session timeout do not stall indexing threads anymore. All activity
related to leader initiated recovery is performed by a dedicated LIR thread in the background.
<br /><span class="attrib">(Ramkumar Aiyengar, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7746">SOLR-7746</a>: Ping requests stopped working with distrib=true in Solr 5.2.1.
<br /><span class="attrib">(Alexey Serba, Michael Sun via Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6547">SOLR-6547</a>: ClassCastException in SolrResponseBase.getQTime on update response from CloudSolrClient
when parallelUpdates is enabled (default) and multiple docs are sent as a single update.
<br /><span class="attrib">(kevin, hossman, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8058">SOLR-8058</a>: Fix the exclusion filter so that collections that start with js, css, img, tpl
can be accessed.
<br /><span class="attrib">(Upayavira, Steve Rowe, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8069">SOLR-8069</a>: Ensure that only the valid ZooKeeper registered leader can put a replica into Leader
Initiated Recovery.
<br /><span class="attrib">(Mark Miller, Jessica Cheng, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8077">SOLR-8077</a>: Replication can still cause index corruption.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8104">SOLR-8104</a>: Config API does not work for spellchecker
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8095">SOLR-8095</a>: Allow disabling HDFS Locality Metrics and disable by default as it may have performance
implications on rapidly changing indexes.
<br /><span class="attrib">(Mike Drob via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8085">SOLR-8085</a>: Fix a variety of issues that can result in replicas getting out of sync.
<br /><span class="attrib">(yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8094">SOLR-8094</a>: HdfsUpdateLog should not replay buffered documents as a replacement to dropping them.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8075">SOLR-8075</a>: Leader Initiated Recovery should not stop a leader that participated in an election with all
of it's replicas from becoming a valid leader.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8072">SOLR-8072</a>: Rebalance leaders feature does not set CloudDescriptor#isLeader to false when bumping leaders.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7666">SOLR-7666</a>: Many small fixes to Angular UI
<br /><span class="attrib">(Upayavira, Alexandre Rafalovitch)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7967">SOLR-7967</a>: AddSchemaFieldsUpdateProcessorFactory does not check if the ConfigSet is immutable
<br /><span class="attrib">(Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6188">SOLR-6188</a>: Skip the automatic loading of resources in the "lib" subdirectory
by SolrResourceLoader, but only if we are loading resources from the solr
home directory.  Fixes the inability to use ICU analysis components with a
"solr." prefix on the classname.
<br /><span class="attrib">(Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8130">SOLR-8130</a>: Solr's hdfs safe mode detection does not catch all cases of being in safe mode.
<br /><span class="attrib">(Mark Miller, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8128">SOLR-8128</a>: Set v.locale specified locale for all LocaleConfig extending VelocityResponseWriter tools.
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8152">SOLR-8152</a>: Overseer Task Processor/Queue can miss responses, leading to timeouts.
<br /><span class="attrib">(Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8107">SOLR-8107</a>: bin/solr -f should use exec to start the JVM
<br /><span class="attrib">(Martijn Koster via Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8050">SOLR-8050</a>: Partial update on document with multivalued date field fails to parse date and can
also fail to remove dates in some cases.
<br /><span class="attrib">(Burkhard Buelte, Luc Vanlerberghe, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8167">SOLR-8167</a>: Authorization framework does not work with POST params
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8162">SOLR-8162</a>: JmxMonitoredMap#clear triggers a query on all the MBeans thus generating lots of warnings.
<br /><span class="attrib">(Marius Dumitru Florea, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7843">SOLR-7843</a>: DataImportHandler's delta imports leak memory because the delta keys are kept in memory
and not cleared after the process is finished.
<br /><span class="attrib">(Pablo Lozano via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8189">SOLR-8189</a>: eTag calculation during HTTP Cache Validation uses unsynchronized WeakHashMap causing
threads to be stuck in runnable state.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7993">SOLR-7993</a>: Raw json output for fields stopped working in 5.3.0 when requested fields do not include
the unique key field name.
<br /><span class="attrib">(Bill Bell, Ryan McKinley via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8192">SOLR-8192</a>: JSON Facet API allBuckets:true did not work correctly when faceting
on a multi-valued field with sub-facets / facet functions.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8206">SOLR-8206</a>: JSON Facet API limit:0 did not always work correctly.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8126">SOLR-8126</a>: update-&lt;component-name&gt; does not work if the component is only
present in solrconfig.xml
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8203">SOLR-8203</a>: Stop processing updates more quickly on node shutdown.  When a node
is shut down, streaming updates would continue, but new update requests would
be aborted.  This can cause big update reorders that can cause replicas to
get out of sync.
<br /><span class="attrib">(Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6406">SOLR-6406</a>: ConcurrentUpdateSolrClient hang in blockUntilFinished. If updates are still
flowing and shutdown is called on the executor service used by ConcurrentUpdateSolrClient,
a race condition can cause that client to hang in blockUntilFinished.
<br /><span class="attrib">(Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8215">SOLR-8215</a>: Only active replicas should handle incoming requests against a collection
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8223">SOLR-8223</a>: Avoid accidentally swallowing OutOfMemoryError (in LeaderInitiatedRecoveryThread.java
or CoreContainer.java)
<br /><span class="attrib">(Mike Drob via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8255">SOLR-8255</a>: MiniSolrCloudCluster needs to use a thread-safe list to keep track
of its child nodes
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8254">SOLR-8254</a>: HttpSolrCore.getCoreByCollection() can throw NPE
<br /><span class="attrib">(Alan Woodward,
Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8262">SOLR-8262</a>: Comment out /stream handler from sample solrconfig.xml's for security reasons
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7989">SOLR-7989</a>: After a new leader is elected it should change it's state to ACTIVE even
if the last published state is something else if it has already registered with ZK.
<br /><span class="attrib">(Ishan Chattopadhyaya, Mark Miller via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8287">SOLR-8287</a>: TrieDoubleField and TrieLongField now override toNativeType
<br /><span class="attrib">(Ishan Chattopadhyaya via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8284">SOLR-8284</a>: JSON Facet API - fix NPEs when short form "sort:index" or "sort:count"
are used.
<br /><span class="attrib">(Michael Sun via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8295">SOLR-8295</a>: Fix NPE in collapse QParser when collapse field is missing from all docs in a segment
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8280">SOLR-8280</a>: Fixed bug in SimilarityFactory initialization that prevented SolrCoreAware factories -- such
as SchemaSimilarityFactory -- from functioning properly with managed schema features.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5971">SOLR-5971</a>: Fix error 'Illegal character in query' when proxying request.
<br /><span class="attrib">(Uwe Schindler, Ishan Chattopadhyaya, Eric Bus)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8307">SOLR-8307</a>: Fix XXE vulnerability in MBeansHandler "diff" feature
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8073">SOLR-8073</a>: Solr fails to start on Windows with obscure errors when using relative path.
<br /><span class="attrib">(Alexandre Rafalovitch, Ishan Chattopadhyaya via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7169">SOLR-7169</a>: bin/solr status should return exit code 3, not 0 if Solr is not running
<br /><span class="attrib">(Dominik Siebel via Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8341">SOLR-8341</a>: Fix JSON Facet API excludeTags when specified in the
form of domain:{excludeTags:mytag}
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8326">SOLR-8326</a>: If BasicAuth enabled, inter node requests fail after node restart
<br /><span class="attrib">(noble, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8340">SOLR-8340</a>: Fixed NullPointerException in HighlightComponent.
<br /><span class="attrib">(zengjie via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8355">SOLR-8355</a>: update permissions were failing node recovery
<br /><span class="attrib">(noble , Anshum Gupta)</span></li>
    </ol>
  </li>
  <li><a id="v5.4.0.optimizations" href="javascript:toggleList('v5.4.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v5.4.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7918">SOLR-7918</a>: Filter (DocSet) production from term queries has been optimized and
is anywhere from 20% to over 100% faster and produces less garbage on average.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6760">SOLR-6760</a>: New optimized DistributedQueue implementation for overseer increases
message processing performance by ~470%.
<br /><span class="attrib">(Noble Paul, Scott Blum, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6629">SOLR-6629</a>: Watch /collections zk node on all nodes so that cluster state updates
are more efficient especially when cluster has a mix of collections in stateFormat=1
and stateFormat=2.
<br /><span class="attrib">(Scott Blum, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7971">SOLR-7971</a>: Reduce memory allocated by JavaBinCodec to encode small strings by an amount
equal to the string.length(). JavaBinCodec now uses a double pass approach to write strings
larger than 64KB to avoid allocating buffer memory equal to string's UTF8 size.
<br /><span class="attrib">(yonik, Steve Rowe, Mikhail Khludnev, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7983">SOLR-7983</a>: Utils.toUTF8 uses larger buffer than necessary for holding UTF8 data.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8222">SOLR-8222</a>: JSON Facet API optimization to faceting by count on docvalue fields (or indexed fields
with method=dv) when there are multiple hits expected for enoug buckets. For example, this
more than doubled the performance of faceting 5M documents over a field with 1M unique values.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8288">SOLR-8288</a>: DistributedUpdateProcessor#doFinish should explicitly check and ensure it
does not try to put itself into LIR.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v5.4.0.other_changes" href="javascript:toggleList('v5.4.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(52)
    <ol id="v5.4.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8294">SOLR-8294</a>: Cleanup solrconfig.xmls under solr/example/example-DIH/solr (removed
obsolete clustering handler sections).
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7969">SOLR-7969</a>: Unavailable clustering engines should not fail the core.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7790">SOLR-7790</a>, <a href="http://issues.apache.org/jira/browse/SOLR-7791">SOLR-7791</a>: Update Carrot2 clustering component to
version 3.10.4. Upgrade HPPC library to version 0.7.1.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7831">SOLR-7831</a>: Start Scripts: Allow a configurable stack size [-Xss]
<br /><span class="attrib">(Steve Davids via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7870">SOLR-7870</a>: Write a test which asserts that requests to stateFormat=2 collection succeed on a node
even after all local replicas of that collection have been removed.
<br /><span class="attrib">(Scott Blum via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7902">SOLR-7902</a>: Split out use of child timers from RTimer to a sub-class
<br /><span class="attrib">(Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7943">SOLR-7943</a>: Upgrade Jetty to 9.2.13.v20150730.
<br /><span class="attrib">(Bill Bell, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7007">SOLR-7007</a>: DistributedUpdateProcessor now logs replay flag as boolean instead of int
<br /><span class="attrib">(Mike Drob via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7960">SOLR-7960</a>: Start scripts now gives generic help for bin/solr -h and bin/solr --help
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7970">SOLR-7970</a>: Factor out a SearchGroupsFieldCommandResult class.
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7942">SOLR-7942</a>: Previously removed unlockOnStartup option (<a href="http://issues.apache.org/jira/browse/LUCENE-6508">LUCENE-6508</a>) now logs warning if configured,
will be an error in 6.0.  Also improved error msg if an index is locked on startup
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7979">SOLR-7979</a>: Fix two typos (in a CoreAdminHandler log message and a TestCloudPivotFacet comment).
<br /><span class="attrib">(Mike Drob via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7966">SOLR-7966</a>: Solr Admin UI Solr now sets the HTTP header X-Frame-Options to DENY
to avoid clickjacking.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7999">SOLR-7999</a>: SolrRequestParser tests no longer depend on external URLs
that may fail to work.
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8034">SOLR-8034</a>: Leader no longer puts replicas in recovery in case of a failed update, when minRF
isn't achieved.
<br /><span class="attrib">(Jessica Cheng, Timothy Potter, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8066">SOLR-8066</a>: SolrCore.checkStale method doesn't restore interrupt status.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8068">SOLR-8068</a>: Throw a SolrException if the core container has initialization errors or is
shutting down
<br /><span class="attrib">(Ishan Chattopadhyaya, Noble Paul, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8083">SOLR-8083</a>: Convert the ZookeeperInfoServlet to a handler at /admin/zookeeper
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8025">SOLR-8025</a>: remove unnecessary ResponseBuilder.getQueryCommand() calls
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8150">SOLR-8150</a>: Fix build failure due to too much output from QueryResponseTest
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8151">SOLR-8151</a>: OverseerCollectionMessageHandler was logging info data as WARN
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8116">SOLR-8116</a>: SearchGroupsResultTransformer tweaks (String literals, list/map initialCapacity)
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8114">SOLR-8114</a>: in Grouping.java rename groupSort and sort to withinGroupSort and groupSort
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8074">SOLR-8074</a>: LoadAdminUIServlet directly references admin.html
<br /><span class="attrib">(Mark Miller, Upayavira)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8195">SOLR-8195</a>: IndexFetcher download trace now includes bytes-downloaded[-per-second]
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4854">SOLR-4854</a>: Add a test to assert that [elevated] DocTransfer works correctly with javabin
response format.
<br /><span class="attrib">(Ray, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8196">SOLR-8196</a>: TestMiniSolrCloudCluster.testStopAllStartAll case plus necessary
MiniSolrCloudCluster tweak
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8221">SOLR-8221</a>: MiniSolrCloudCluster should create subdirectories for its nodes
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8218">SOLR-8218</a>: DistributedUpdateProcessor (initialCapacity) tweaks
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8147">SOLR-8147</a>: contrib/analytics FieldFacetAccumulator now throws IOException instead of SolrException
<br /><span class="attrib">(Scott Stults via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8239">SOLR-8239</a>: Added ClassicSimilarityFactory, marked DefaultSimilarityFactory as deprecated.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8253">SOLR-8253</a>: AbstractDistribZkTestBase can sometimes fail to shut down its
ZKServer
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8260">SOLR-8260</a>: Use NIO2 APIs in core discovery
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8259">SOLR-8259</a>: Deprecate JettySolrRunner.getDispatchFilter(), add
.getSolrDispatchFilter() and .getCoreContainer()
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8278">SOLR-8278</a>: Use NIO2 APIs in ConfigSetService
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8286">SOLR-8286</a>: Remove instances of solr.hdfs.blockcache.write.enabled from tests
and docs
<br /><span class="attrib">(Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8269">SOLR-8269</a>: Upgrade commons-collections to 3.2.2. This fixes a known serialization vulnerability
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8246">SOLR-8246</a>: Fix SolrCLI to clean the config directory in case creating a core failed.
<br /><span class="attrib">(Jason Gerlowski via Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8290">SOLR-8290</a>: remove SchemaField.checkFieldCacheSource's unused QParser argument
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8300">SOLR-8300</a>: Use constants for the /overseer_elect znode
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8283">SOLR-8283</a>: factor out StrParser from QueryParsing.StrParser and SortSpecParsing[Test]
from QueryParsing[Test]
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8298">SOLR-8298</a>: small preferLocalShards implementation refactor
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8315">SOLR-8315</a>: Removed default core checks in the dispatch filter since we don't have a default
core anymore
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8302">SOLR-8302</a>: SolrResourceLoader now takes a Path as its instance directory
<br /><span class="attrib">(Alan
Woodward, Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8303">SOLR-8303</a>: CustomBufferedIndexInput now includes resource description when
throwing EOFException.
<br /><span class="attrib">(Mike Drob via Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8194">SOLR-8194</a>: Improve error reporting for null documents in UpdateRequest
<br /><span class="attrib">(Markus
Jelsma, Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8277">SOLR-8277</a>: (Search|Top)GroupsFieldCommand tweaks
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8299">SOLR-8299</a>: ConfigSet DELETE operation no longer allows deletion of config sets that
are currently in use by other collections
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8101">SOLR-8101</a>: Improve Linux service installation script
<br /><span class="attrib">(Sergey Urushkin via Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8180">SOLR-8180</a>: jcl-over-slf4j should have officially been a SolrJ dependency; it now is.
<br /><span class="attrib">(David Smiley, Kevin Risden)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8330">SOLR-8330</a>: Standardize and fix logger creation and usage so that they aren't shared
across source files.(Jason Gerlowski, Uwe Schindler, Anshum Gupta)
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8363">SOLR-8363</a>: Fix check-example-lucene-match-version Ant task and addVersion.py script to
check and update luceneMatchVersion under solr/example/ configs as well logic.
<br /><span class="attrib">(Varun Thacker)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v5.3.2" href="javascript:toggleList('v5.3.2')">Release 5.3.2  [2016-01-23]</a></h3>
<ul id="v5.3.2.list">
  <li><a id="v5.3.2.bug_fixes" href="javascript:toggleList('v5.3.2.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(10)
    <ol id="v5.3.2.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8460">SOLR-8460</a>: /analysis/field could throw exceptions for custom attributes.
<br /><span class="attrib">(David Smiley, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8373">SOLR-8373</a>: KerberosPlugin: Using multiple nodes on same machine leads clients to
fetch TGT for every request
<br /><span class="attrib">(Ishan Chattopadhyaya via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8340">SOLR-8340</a>: Fixed NullPointerException in HighlightComponent.
<br /><span class="attrib">(zengjie via Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8059">SOLR-8059</a>: &amp;debug=results for distributed search when distrib.singlePass (sometimes activated
automatically) could result in an NPE.
<br /><span class="attrib">(David Smiley, Markus Jelsma)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8167">SOLR-8167</a>: Authorization framework does not work with POST params
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8355">SOLR-8355</a>: update permissions were failing node recovery
<br /><span class="attrib">(noble , Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8326">SOLR-8326</a>: If BasicAuth enabled, inter node requests fail after node restart
<br /><span class="attrib">(noble, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8269">SOLR-8269</a>: Upgrade commons-collections to 3.2.2. This fixes a known serialization vulnerability
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8422">SOLR-8422</a>: When authentication enabled, requests fail if sent to a node that doesn't host
the collection
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8496">SOLR-8496</a>: SolrIndexSearcher.getDocSet(List&lt;Query&gt;) incorrectly included deleted documents
when all of the queries were uncached (or there was no filter cache).  This caused
multi-select faceting (including the JSON Facet API) to include deleted doc counts
when the remaining non-excluded filters were all uncached.  This bug was first introduced in 5.3.0
<br /><span class="attrib">(Andreas Müller, Vasiliy Bout, Erick Erickson, Shawn Heisey, Hossman, yonik)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v5.3.1" href="javascript:toggleList('v5.3.1')">Release 5.3.1  [2015-09-24]</a></h3>
<ul id="v5.3.1.list">
  <li><a id="v5.3.1.bug_fixes" href="javascript:toggleList('v5.3.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(9)
    <ol id="v5.3.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7949">SOLR-7949</a>: Resolve XSS issue in Admin UI stats page
<br /><span class="attrib">(David Chiu via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8000">SOLR-8000</a>: security.json is not loaded on server start
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8004">SOLR-8004</a>: RuleBasedAuthorization plugin does not work for the collection-admin-edit permission
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7972">SOLR-7972</a>: Fix VelocityResponseWriter template encoding issue.
Templates must be UTF-8 encoded.
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7929">SOLR-7929</a>: SimplePostTool (also bin/post) -filetypes "*" now works properly in 'web' mode
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7978">SOLR-7978</a>: Fixed example/files update-script.js to be Java 7 and 8 compatible.
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7988">SOLR-7988</a>: SolrJ could not make requests to handlers with '/admin/' prefix
<br /><span class="attrib">(noble , ludovic Boutros)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7990">SOLR-7990</a>: Use of timeAllowed can cause incomplete filters to be cached and incorrect
results to be returned on subsequent requests.
<br /><span class="attrib">(Erick Erickson, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-8041">SOLR-8041</a>: Fix VelocityResponseWriter's $resource.get(key,baseName,locale) to use specified locale.
<br /><span class="attrib">(Erik Hatcher)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v5.3.0" href="javascript:toggleList('v5.3.0')">Release 5.3.0  [2015-08-21]</a></h3>
<ul id="v5.3.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release
</li>
  <li><a id="v5.3.0.versions_of_major_components" href="javascript:toggleList('v5.3.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v5.3.0.versions_of_major_components.list">
      <li>Apache Tika 1.7
</li>
      <li>Carrot2 3.9.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.2.11.v20150529
</li>
    </ol>
  </li>
  <li><a id="v5.3.0.upgrading_from_solr_5.2" href="javascript:toggleList('v5.3.0.upgrading_from_solr_5.2')">Upgrading from Solr 5.2</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v5.3.0.upgrading_from_solr_5.2.list">
      <li>SolrJ's CollectionAdminRequest class is now marked as abstract. Use one of its concrete
sub-classes instead.
<p>
</li>
      <li>Solr no longer supports forcefully unlocking an index.
This is no longer supported by the underlying Lucene locking
framework. The setting in solrconfig.xml has no effect anymore.
Background: If you use native lock factory, unlocking should
not be needed, because the locks are cleared after process
shutdown automatically by the operating system. If you are
using simple lock factory (not recommended) or hdfs lock
factory, you may need to manually unlock by deleting the lock
file from filesystem / HDFS.
<p>
</li>
      <li>The zkCredientialsProvider element in solrcloud section of solr.xml is now deprecated.
Use the correct spelling (zkCredentialsProvider) instead.
<p>
</li>
      <li>class TransformerWithContext is deprecated . Use DocTransformer directly
<p>
</li>
      <li>The "name" parameter in ADDREPLICA Collections API call has be deprecated. One cannot specify
the core name for a replica. See <a href="http://issues.apache.org/jira/browse/SOLR-7499">SOLR-7499</a> for more info.
<p>
</li>
      <li>The ShardHandler interface has changed. The interface used to provide a
`checkDistributed` function which doubled up in purpose to determine if the
request is distributed, and to prepare for distributed requests. This unfortunately
meant that the object had to be instantiated even when the request is not
distributed. The task of initially determining if the request is distributed
is now done by SearchHandler using the distrib/shards parameters, and a
ShardHandler object is created only if the request is distributed. The interface
now has a `prepDistributed` function instead of the `checkDistributed` function,
which can then be used to prepare for the distributed request. Users with custom
ShardHandler implementations would need to modify their code to this effect.
<p>
</li>
      <li>The system property "solr.solrxml.location" is not supported any more. Now, solr.xml is first
looked up in zookeeper, and if not found, fallback to SOLR_HOME. See <a href="http://issues.apache.org/jira/browse/SOLR-7735">SOLR-7735</a> for more info.
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v5.3.0.new_features" href="javascript:toggleList('v5.3.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(23)
    <ol id="v5.3.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7724">SOLR-7724</a>: SolrJ now supports parsing the output of the clustering component.
<br /><span class="attrib">(Alessandro Benedetti via Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7389">SOLR-7389</a>: Expose znodeVersion property for each of the collections returned for the clusterstatus
operation in the collections API
<br /><span class="attrib">(Marius Grama via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7622">SOLR-7622</a>: A DocTransformer can now request fields from the SolrIndexSearcher that are not
necessarily returned in the file SolrDocument by returning a list of fields from
DocTransformer#getExtraRequestFields
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7458">SOLR-7458</a>: Expose HDFS Block Locality Metrics via JMX
<br /><span class="attrib">(Mike Drob via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7676">SOLR-7676</a>: Faceting on nested objects / Block-join faceting with the new JSON Facet API.
Example: Assuming books with nested pages and an input domain of pages, the following
will switch the domain to books before faceting on the author field:
  authors:{ type:terms, field:author, domain:{toParent:"type:book"} }
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7668">SOLR-7668</a>: Add 'port' tag support in replica placement rules
<br /><span class="attrib">(Adam McElwee, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5886">SOLR-5886</a>: Response for an async call is now stored in zk so that it can be returned by the REQUESTSTATUS API.
Also, the number of stored (failed and successful) responses are now restricted to 10,000 each as a safety net.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7639">SOLR-7639</a>: MoreLikeThis QParser now supports all options provided by the MLT Handler i.e. mintf, mindf,
minwl, maxwl, maxqt, and maxntp.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7182">SOLR-7182</a>: Make the Schema-API a first class citizen of SolrJ. The new SchemaRequest and its inner
classes can be used to make requests to the Schema API.
<br /><span class="attrib">(Sven Windisch, Marius Grama via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7651">SOLR-7651</a>: New response format added wt=smile
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4212">SOLR-4212</a>: <a href="http://issues.apache.org/jira/browse/SOLR-6353">SOLR-6353</a>: Let facet queries and facet ranges hang off of pivots. Example:
facet.range={!tag=r1}price&amp;facet.query={!tag=q1}somequery&amp;facet.pivot={!range=r1 query=q1}category,manufacturer
<br /><span class="attrib">(Steve Molloy, hossman, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7742">SOLR-7742</a>: Support for Immutable ConfigSets
<br /><span class="attrib">(Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2522">SOLR-2522</a>: new two argument option for the existing field() function; picks the min/max value of a
docValues field to use as a ValueSource: "field(field_name,min)" and "field(field_name,max)"
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6234">SOLR-6234</a>: Scoring for query time join
<br /><span class="attrib">(Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5882">SOLR-5882</a>: score local parameter for block join query parser {!parent}
<br /><span class="attrib">(Andrey Kudryavtsev, Mikhail Khludnev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7799">SOLR-7799</a>: Added includeIndexFieldFlags (backwards compatible default is true) to /admin/luke.
When there are many fields in the index, setting this flag to false can dramatically speed up requests.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7769">SOLR-7769</a>: Add bin/post -p alias for -port parameter.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7766">SOLR-7766</a>: support creation of a coreless collection via createNodeSet=EMPTY
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7849">SOLR-7849</a>: Solr-managed inter-node authentication when authentication enabled
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7220">SOLR-7220</a>: Nested C-style comments in queries.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7757">SOLR-7757</a>: Improved security framework where security components can be edited/reloaded, Solr
now watches /security.json. Components can choose to make their config editable
<br /><span class="attrib">(Noble Paul, Anshum Gupta, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7838">SOLR-7838</a>: An authorizationPlugin interface where the access control rules are stored/managed in
ZooKeeper
<br /><span class="attrib">(Noble Paul, Anshum Gupta, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7837">SOLR-7837</a>: An AuthenticationPlugin which implements the HTTP BasicAuth protocol and stores credentials
securely in ZooKeeper
<br /><span class="attrib">(Noble Paul, Anshum Gupta,Ishan Chattopadhyaya)</span></li>
    </ol>
  </li>
  <li><a id="v5.3.0.bug_fixes" href="javascript:toggleList('v5.3.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(36)
    <ol id="v5.3.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7361">SOLR-7361</a>: Slow loading SolrCores should not hold up all other SolrCores that have finished loading from serving
requests.
<br /><span class="attrib">(Mark Miller, Timothy Potter, Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4506">SOLR-4506</a>: Clean-up old (unused) index directories in the background after initializing a new index;
previously, Solr would leave old index.yyyyMMddHHmmssSSS directories left behind after failed recoveries
in the data directory, which unnecessarily consumes disk space.
<br /><span class="attrib">(Mark Miller, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7108">SOLR-7108</a>: Change default query used by /admin/ping to not rely on other parameters such as query parser or
default field.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6835">SOLR-6835</a>: ReRankQueryParserPlugin checks now whether the reRankQuery parameter is present and not empty.
<br /><span class="attrib">(帅广应, Marius Grama via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7566">SOLR-7566</a>: Search requests should return the shard name that is down.
<br /><span class="attrib">(Marius Grama, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7675">SOLR-7675</a>: Add missing _root_ field to managed-schema template so that the default data driven
config set can index nested documents by default.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7635">SOLR-7635</a>: Limit lsof port check in bin/solr to just listening ports
<br /><span class="attrib">(Upayavira, Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7091">SOLR-7091</a>: Nested documents with unknown fields don't work in schemaless mode.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7682">SOLR-7682</a>: Schema API: add-copy-field should accept the maxChars parameter.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7693">SOLR-7693</a>: Fix the bin/solr -e cloud example to work if lsof is not installed
on the local machine by waiting for 10 seconds before starting the second node.
<br /><span class="attrib">(hossman, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7689">SOLR-7689</a>: ReRankQuery rewrite method can change the QueryResultKey causing cache misses.
<br /><span class="attrib">(Emad Nashed, Yonik Seeley, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7697">SOLR-7697</a>: Schema API doesn't take class or luceneMatchVersion attributes into
account for the analyzer when adding a new field type.
<br /><span class="attrib">(Marius Grama, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7679">SOLR-7679</a>: Schema API doesn't take similarity attribute into account when adding
field types.
<br /><span class="attrib">(Marius Grama, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7664">SOLR-7664</a>: Throw correct exception (RemoteSolrException) on receiving a HTTP 413.
<br /><span class="attrib">(Ramkumar Aiyengar, Eirik Lygre)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6686">SOLR-6686</a>: facet.threads can return wrong results when using facet.prefix multiple
times on same field.
<br /><span class="attrib">(Michael Ryan, Tim Underwood via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7673">SOLR-7673</a>: Race condition in shard splitting can cause operation to hang indefinitely
or sub-shards to never become active.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7741">SOLR-7741</a>: Add missing fields to SolrIndexerConfig.toMap
<br /><span class="attrib">(Mike Drob, Christine Poerschke via Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7748">SOLR-7748</a>: Fix bin/solr to start on IBM J9.
<br /><span class="attrib">(Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7143">SOLR-7143</a>: MoreLikeThis Query parser should handle multiple field names
<br /><span class="attrib">(Jens Wille, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7132">SOLR-7132</a>: The Collections API ADDREPLICA command property.name is not reflected
in the clusterstate until after Solr restarts
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7172">SOLR-7172</a>: addreplica API fails with incorrect error msg "cannot create collection"
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7705">SOLR-7705</a>: CoreAdminHandler Unload no longer handles null core name and throws NPE
instead of a bad request error.
<br /><span class="attrib">(John Call, Edward Ribeiro via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7529">SOLR-7529</a>: CoreAdminHandler Reload throws NPE on null core name instead of a bad
request error.
<br /><span class="attrib">(Jellyfrog, Edward Ribeiro via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7781">SOLR-7781</a>: JSON Facet API: Terms facet on string/text fields with sub-facets caused
a bug that resulted in filter cache lookup misses as well as the filter cache
exceeding it's configured size.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7810">SOLR-7810</a>: map-reduce contrib script to set classpath for convenience refers to example
rather than server.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7765">SOLR-7765</a>: Hardened the behavior of TokenizerChain when null arguments are used in constructor.
This prevents NPEs in some code paths.
<br /><span class="attrib">(Konstantin Gribov, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7829">SOLR-7829</a>: Fixed a bug in distributed pivot faceting that could result in a facet.missing=true count
which was lower then the correct count if facet.sort=index and facet.pivot.mincount &gt; 1
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7842">SOLR-7842</a>: ZK connection loss or session expiry events should not fire config directory listeners.
<br /><span class="attrib">(noble, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6357">SOLR-6357</a>: Allow delete documents by doing a score join query.
<br /><span class="attrib">(Mikhail Khludnev, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7756">SOLR-7756</a>: Fixed ExactStatsCache and LRUStatsCache to not throw an NPE when a term is not present on a shard.
<br /><span class="attrib">(Varun Thacker, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7818">SOLR-7818</a>: Fixed distributed stats to be calculated for all the query terms. Earlier the stats were calculated with
the terms that are present in the last shard of a distributed request.
<br /><span class="attrib">(Varun Thacker, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7866">SOLR-7866</a>: VersionInfo caused an unhandled NPE when trying to determine the max value for the
version field.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7666">SOLR-7666</a> (and linked tickets): Many fixes to AngularJS Admin UI bringing it close to feature
parity with existing UI.
<br /><span class="attrib">(Upayavira)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7908">SOLR-7908</a>: SegmentsInfoRequestHandler gets a ref counted IndexWriter and does not properly release it.
<br /><span class="attrib">(Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7921">SOLR-7921</a>: The techproducts example fails when running in a directory that contains spaces.
<br /><span class="attrib">(Ishan Chattopadhyaya via Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7934">SOLR-7934</a>: SolrCLI masks underlying cause of create collection failure.
<br /><span class="attrib">(Timothy Potter)</span></li>
    </ol>
  </li>
  <li><a id="v5.3.0.optimizations" href="javascript:toggleList('v5.3.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v5.3.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7660">SOLR-7660</a>: Avoid redundant 'exists' calls made to ZK while fetching cluster state updates.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7714">SOLR-7714</a>: Reduce SearchHandler's use of ShardHandler objects across shards in a search,
from one for each shard and the federator, to just one for the federator.
<br /><span class="attrib">(Christine Poerschke via Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7751">SOLR-7751</a>: Minor optimizations to QueryComponent.process (reduce eager instantiations,
cache method calls)
<br /><span class="attrib">(Christine Poerschke via Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7455">SOLR-7455</a>: Terms facets with the JSON Facet API now defer calculating non-sorting stats
until a second phase, after the top N facets are found. This improves performance
proportional to the number of non-sorting statistics being calculated in addition to
the number of buckets and domain documents.
For Example: The facet request  {type:terms, field:field1, facet:{x:"unique(field2)"}}
saw a 7x improvement when field1 and 1M unique terms and field2 had 1000 unique terms.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7840">SOLR-7840</a>: ZkStateReader.updateClusterState fetches watched collections twice from ZK.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7875">SOLR-7875</a>: Speedup SolrQueryTimeoutImpl. Avoid setting a timeout time when timeAllowed
parameter is not set.
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
    </ol>
  </li>
  <li><a id="v5.3.0.other_changes" href="javascript:toggleList('v5.3.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(41)
    <ol id="v5.3.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7787">SOLR-7787</a>: Removed fastutil and java-hll dependency, integrated HyperLogLog from java-hll
into Solr core.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7595">SOLR-7595</a>: Allow method chaining for all CollectionAdminRequests in Solrj.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7146">SOLR-7146</a>: MiniSolrCloudCluster based tests can fail with ZooKeeperException NoNode for /live_nodes.
<br /><span class="attrib">(Vamsee Yarlagadda via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7590">SOLR-7590</a>: Finish and improve MDC context logging support.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7599">SOLR-7599</a>: Remove cruft from SolrCloud tests.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7636">SOLR-7636</a>: CLUSTERSTATUS API is executed at CollectionsHandler
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-6508">LUCENE-6508</a>: Remove ability to forcefully unlock an index.
This is no longer supported by the underlying Lucene locking
framework.
<br /><span class="attrib">(Uwe Schindler, Mike McCandless, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3719">SOLR-3719</a>: Add as-you-type "instant search" to example/files /browse.
<br /><span class="attrib">(Esther Quansah, ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7645">SOLR-7645</a>: Remove explicitly defined request handlers from example and test solrconfig's that are
already defined implicitly, such as /admin/ping, /admin/system, and several others.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7603">SOLR-7603</a>: Fix test only bug in UpdateRequestProcessorFactoryTest
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7634">SOLR-7634</a>: Upgrade Jetty to 9.2.11.v20150529
<br /><span class="attrib">(Bill Bell, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7659">SOLR-7659</a>: Rename releaseCommitPointAndExtendReserve in DirectoryFileStream
to extendReserveAndReleaseCommitPoint, and reverse the code to match.
<br /><span class="attrib">(shalin, Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7624">SOLR-7624</a>: Add correct spelling (zkCredentialsProvider) as an alternative to
zkCredientialsProvider element in solrcloud section of solr.xml.
<br /><span class="attrib">(Xu Zhang, Per Steffensen, Ramkumar Aiyengar, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7619">SOLR-7619</a>: Fix SegmentsInfoRequestHandlerTest when more than one segment is created.
<br /><span class="attrib">(Ramkumar Aiyengar, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7678">SOLR-7678</a>: Switch RTimer to use nanoTime (improves accuracy of QTime, and other times
returned by Solr handlers)
<br /><span class="attrib">(Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7680">SOLR-7680</a>: Use POST instead of GET when finding versions for mismatches with
CloudInspectUtil for tests
<br /><span class="attrib">(Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7665">SOLR-7665</a>: deprecate the class TransformerWithContext
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7629">SOLR-7629</a>: Have RulesTest consider disk space limitations of where the test is
being run
<br /><span class="attrib">(Christine Poerschke via Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7499">SOLR-7499</a>: The "name" parameter in ADDREPLICA Collections API call has be deprecated. One cannot specify
the core name for a replica
<br /><span class="attrib">(Varun Thacker, noble, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7711">SOLR-7711</a>: Correct initial capacity for the list that holds the default components for the SearchHandler
<br /><span class="attrib">(Christine Poerschke via Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7485">SOLR-7485</a>: Replace shards.info occurrences with ShardParams.SHARDS_INFO
<br /><span class="attrib">(Christine Poerschke via Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7710">SOLR-7710</a>: Replace async occurrences with CommonAdminParams.ASYNC
<br /><span class="attrib">(Christine Poerschke, Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7712">SOLR-7712</a>: fixed test to account for aggregate floating point precision loss
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7740">SOLR-7740</a>: Fix typo bug with TestConfigOverlay
<br /><span class="attrib">(Christine Poerschke via Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7750">SOLR-7750</a>: Change TestConfig.testDefaults to cover all SolrIndexConfig fields
<br /><span class="attrib">(Christine Poerschke via Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7703">SOLR-7703</a>: Authentication plugin is now loaded using the ResourceLoader.
<br /><span class="attrib">(Avi Digmi via Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7800">SOLR-7800</a>: JSON Facet API: the avg() facet function now skips missing values
rather than treating them as a 0 value.  The def() function can be used to
treat missing values as 0 if that is desired.
Example:  facet:{ mean:"avg(def(myfield,0))" }
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7805">SOLR-7805</a>: Update Kite Morphlines to 1.1.0
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7803">SOLR-7803</a>: Prevent class loading deadlock in TrieDateField; refactor date
formatting and parsing out of TrieDateField and move to static utility class
DateFormatUtil.
<br /><span class="attrib">(Markus Heiden, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7825">SOLR-7825</a>: Forbid all usages of log4j and java.util.logging classes in Solr except
classes which are specific to logging implementations. Remove accidental usage of log4j
logger from a few places. The default log level for org.apache.zookeeper is changed from
ERROR to WARN for zkcli.{sh,cmd} only.
<br /><span class="attrib">(Oliver Schrenk, Tim Potter, Uwe Schindler, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7735">SOLR-7735</a>: Look for solr.xml in Zookeeper by default in SolrCloud mode. If not found, it will be loaded
from $SOLR_HOME/solr.xml as before. Sysprop solr.solrxml.location is now gone.
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7227">SOLR-7227</a>: Ship Solr with the Web application directory exploded into
server/solr-webapp, solr.war is no longer included in the distribution
bundles.
<br /><span class="attrib">(Timothy Potter, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6625">SOLR-6625</a>: Enable registering interceptors for the calls made using HttpClient and make the
request object available at the interceptor context
<br /><span class="attrib">( Ishan Chattopadhyay, Gregory Chanan, noble, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5022">SOLR-5022</a>: On Java 7 raise permgen for running tests.
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7823">SOLR-7823</a>: TestMiniSolrCloudCluster.testCollectionCreateSearchDelete async collection-creation (sometimes)
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7854">SOLR-7854</a>: Remove unused ZkStateReader.updateClusterState(false) method.
<br /><span class="attrib">(Scott Blum via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7863">SOLR-7863</a>: Lowercase the CLUSTERPROP command in ZkCLI for consistency, print error for unknown cmd
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7832">SOLR-7832</a>: bin/post now allows either -url or -c, rather than requiring both.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7847">SOLR-7847</a>: Implement run example logic in Java instead of OS-specific scripts in
bin/solr and bin\solr.cmd
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7877">SOLR-7877</a>: TestAuthenticationFramework.testBasics to preserve/restore the original request(Username|Password)
<br /><span class="attrib">(Christine Poerschke)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7900">SOLR-7900</a>: example/files improvements - added language detection and faceting, added title field, relocated .js files.
<br /><span class="attrib">(Esther Quansah and Erik Hatcher)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v5.2.1" href="javascript:toggleList('v5.2.1')">Release 5.2.1  [2015-06-15]</a></h3>
<ul id="v5.2.1.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release
</li>
  <li><a id="v5.2.1.versions_of_major_components" href="javascript:toggleList('v5.2.1.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v5.2.1.versions_of_major_components.list">
      <li>Apache Tika 1.7
</li>
      <li>Carrot2 3.9.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.2.10.v20150310
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v5.2.1.bug_fixes" href="javascript:toggleList('v5.2.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(9)
    <ol id="v5.2.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7588">SOLR-7588</a>: Fix javascript bug introduced by <a href="http://issues.apache.org/jira/browse/SOLR-7409">SOLR-7409</a> that breaks the
dataimport screen in the admin UI.
<br /><span class="attrib">(Bill Bell via Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7616">SOLR-7616</a>: Faceting on a numeric field with a unique() subfacet function on another numeric field
can result in incorrect results or an exception.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7518">SOLR-7518</a>: New Facet Module should respect shards.tolerant and process all non-failing shards
instead of throwing an exception.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7574">SOLR-7574</a>: A request with a json content type but no body caused a null pointer exception
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7512">SOLR-7512</a>: SolrOutputFormat creates an invalid solr.xml in the solr home zip for MapReduceIndexerTool.
<br /><span class="attrib">(Mark Miller, Adam McElwee)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7652">SOLR-7652</a>: Fix example/files update-script.js to work with Java 7
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7638">SOLR-7638</a>: Fix new (Angular-based) admin UI Cloud pane
<br /><span class="attrib">(Upayavira via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7655">SOLR-7655</a>: The DefaultSolrHighlighter since 5.0 was determining if payloads were present in a way
that was slow, especially when lots of fields were highlighted.  It's now fast.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7493">SOLR-7493</a>: Requests aren't distributed evenly if the collection isn't present locally.
<br /><span class="attrib">(Jeff Wartes, shalin)</span></li>
    </ol>
  </li>
  <li><a id="v5.2.1.other_changes" href="javascript:toggleList('v5.2.1.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v5.2.1.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7623">SOLR-7623</a>: Fix regression from <a href="http://issues.apache.org/jira/browse/SOLR-7484">SOLR-7484</a> that made it impossible to override
SolrDispatchFilter#execute() and SolrDispatchFilter#sendError().  You can now override these
functions in HttpSolrCall.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7648">SOLR-7648</a>: Expose remote IP and Host via the AuthorizationContext to be used by the authorization plugin.
<br /><span class="attrib">(Ishan Chattopadhyaya via Anshum Gupta)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v5.2.0" href="javascript:toggleList('v5.2.0')">Release 5.2.0  [2015-06-07]</a></h3>
<ul id="v5.2.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release
</li>
  <li><a id="v5.2.0.versions_of_major_components" href="javascript:toggleList('v5.2.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v5.2.0.versions_of_major_components.list">
      <li>Apache Tika 1.7
</li>
      <li>Carrot2 3.9.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 9.2.10.v20150310
</li>
    </ol>
  </li>
  <li><a id="v5.2.0.upgrading_from_solr_5.1" href="javascript:toggleList('v5.2.0.upgrading_from_solr_5.1')">Upgrading from Solr 5.1</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v5.2.0.upgrading_from_solr_5.1.list">
      <li>A bug was introduced in Solr 4.10 that caused index time document boosts to trigger excessive field
boosts in multivalued fields -- the result being that some field norms might be excessively large.
This bug has now been fixed, but users of document boosts are strongly encouraged to re-index.
See <a href="http://issues.apache.org/jira/browse/SOLR-7335">SOLR-7335</a> for more details.
<p>
</li>
      <li>The Slice and Replica classes have been changed to use State enums instead of string constants
to track the respective stats.  Advanced users with client code manipulating these objects will
need to update their code accordingly.  See <a href="http://issues.apache.org/jira/browse/SOLR-7325">SOLR-7325</a> and <a href="http://issues.apache.org/jira/browse/SOLR-7336">SOLR-7336</a> for more info.
<p>
</li>
      <li>Solr has internally been upgraded to use Jetty 9. See <a href="http://issues.apache.org/jira/browse/SOLR-4839">SOLR-4839</a> for full details, but there are
a few key details all Solr users should know when upgrading:
<ul class="bulleted-list">
<li class="bulleted-list">
It is no longer possible to run "java -jar start.jar" from inside the server directory.
  The bin/solr script is the only supported way to run Solr. This is necessary to support
  HTTP and HTTPS modules in Jetty which can be selectively enabled by the bin/solr scripts.
  In case you have a pressing need to run solr the old way, you can run
  "java -jar start.jar --module=http" to get the same behavior as before.
</li>
<li
 class="bulleted-list">
The way SSL support is configured has been changed. Before this release,
  the SOLR_SSL_OPTS property configured in solr.in.sh (linux/mac) or solr.in.cmd (windows)
  was used to enable/disable SSL but starting in 5.2.0, new properties named as
  SOLR_SSL_KEY_STORE, SOLR_SSL_KEY_STORE_PASSWORD, SOLR_SSL_TRUST_STORE,
  SOLR_SSL_TRUST_STORE_PASSWORD, SOLR_SSL_NEED_CLIENT_AUTH and SOLR_SSL_WANT_CLIENT_AUTH
  have been introduced. The bin/solr scripts configure the SOLR_SSL_OPTS property
  automatically based on the above new properties.
  You should *not* configure the SOLR_SSL_OPTS property directly inside solr.in.{sh,cmd}.
</li>
<li
 class="bulleted-list">
Support for SOLR_SSL_PORT property has been removed. Instead use the regular SOLR_PORT
  property or specify the port while invoking the bin/solr script using the "-p" switch.
</li>
<li
 class="bulleted-list">
Furthermore, it is now possible to configure the HTTP client with
  different SSL properties than the ones used for Jetty using the same files.
</li>
<li
 class="bulleted-list">
Please refer to the "Enabling SSL" section in the Solr Reference Guide for complete details.
</li>
</ul>
<p>
</li>
      <li>Support for pathPrefix has been completely removed from Solr. Since 5.0, Solr no longer officially
supports being run as a webapp but allowed users to play around with the web.xml to have a path prefix.
That would no longer be true. See <a href="http://issues.apache.org/jira/browse/SOLR-7500">SOLR-7500</a> for more info.
<p>
</li>
      <li>The package structure under org.apache.solr.client.solrj.io has been changed to support
the Streaming Expression Language (<a href="http://issues.apache.org/jira/browse/SOLR-7377">SOLR-7377</a>). Any code written with the 5.1 Streaming API will have to
be updated to reflect these changes.
<p>
</li>
      <li>Merge Policy's "noCFSRatio" is no longer set based on &lt;useCompoundFile&gt; element in the indexConfig section
of solrconfig.xml. This means that Solr will start using Lucene's default for MP "noCFSRatio", with this
new default Solr will decide if a segment should use cfs or not based on the size of the segment in relation
the size of the complete index. For TieredMergePolicy for example (current default), segments will use cfs
if they are less than 10% of the index, otherwise cfs is disabled. Old values for this setting
(1.0 for useCompoundFile=true and 0.0 for useCompoundFile=false) as well as any other value can be set
inside the &lt;mergePolicy&gt; element in solrconfig.xml. &lt;useCompoundFile&gt; will only apply to newly created
segments. See <a href="http://issues.apache.org/jira/browse/SOLR-7463">SOLR-7463</a>.
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v5.2.0.new_features" href="javascript:toggleList('v5.2.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(25)
    <ol id="v5.2.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6637">SOLR-6637</a>: Restore a Solr core from a backed up index.
Restore API Example -
  http://localhost:8983/solr/techproducts/replication?command=restore&amp;name=backup_name
Restore Status API Example -
  http://localhost:8983/solr/techproducts/replication?command=restorestatus
<br /><span class="attrib">(Varun Thacker, noble, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7241">SOLR-7241</a>, <a href="http://issues.apache.org/jira/browse/SOLR-7263">SOLR-7263</a>, <a href="http://issues.apache.org/jira/browse/SOLR-7279">SOLR-7279</a>, <a href="http://issues.apache.org/jira/browse/SOLR-7300">SOLR-7300</a>, <a href="http://issues.apache.org/jira/browse/SOLR-7396">SOLR-7396</a>, <a href="http://issues.apache.org/jira/browse/SOLR-7397">SOLR-7397</a>, <a href="http://issues.apache.org/jira/browse/SOLR-7492">SOLR-7492</a>:
Admin UI - Refactoring using AngularJS. More functionality moving the Admin
UI to Angular JS
<br /><span class="attrib">(Upayavira via Erick)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7372">SOLR-7372</a>: Limit memory consumed by LRUCache with a new 'maxRamMB' config parameter.
<br /><span class="attrib">(yonik, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7376">SOLR-7376</a>: Return raw XML or JSON (in the appropriate writer) using DocumentTransformers.
  ?fl=id,name,json_s:[json],xml_s:[xml]
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7422">SOLR-7422</a>: Optional flatter form for the JSON Facet API via a "type" parameter:
  top_authors : { type:terms, field:author, limit:5 } is equivalent to
  top_authors : { terms : { field:author, limit:5  } }
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7176">SOLR-7176</a>: zkcli script can perfrom the CLUSTERPROP command without a running Solr cluster
<br /><span class="attrib">(Hrishikesh Gadre, Per Steffensen, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7417">SOLR-7417</a>: JSON Facet API - unique() is now implemented for numeric and date fields.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7406">SOLR-7406</a>: Add a new "facet.range.method" parameter to let users choose how to do range
faceting between an implementation based on filters (previous algorithm, using
"facet.range.method=filter") or DocValues ("facet.range.method=dv").
Input parameters and output of both methods are the same.
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7473">SOLR-7473</a>: Facet Module (Json Facet API) range faceting now supports the "mincount"
parameter in range facets to supress buckets less than that count.  The default
for "mincount" remains 0 for range faceting.
Example: prices:{ type:range, field:price, mincount:1, start:0, end:100, gap:10 }
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7437">SOLR-7437</a>: Make HDFS transaction log replication factor configurable.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7477">SOLR-7477</a>: Multi-select faceting support for the Facet Module via the "excludeTags"
parameter which disregards any matching tagged filters for that facet.  Example:
&amp; q=shoes
&amp; fq={!tag=COLOR}color:blue
&amp; json.facet={ colors:{type:terms, field:color, excludeTags=COLOR} }
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7231">SOLR-7231</a>: DIH-TikaEntityprocessor, create lat-lon field from Metadata
<br /><span class="attrib">(Tim Allison via Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6220">SOLR-6220</a>: Rule Based Replica Assignment during collection, shard creation
and replica creation
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6968">SOLR-6968</a>: New 'cardinality' option for stats.field, uses HyperLogLog to efficiently
estimate the cardinality of a field w/bounded RAM.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4392">SOLR-4392</a>: Make it possible to specify AES encrypted password in dataconfig.xml
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7461">SOLR-7461</a>: stats.field now supports individual local params for 'countDistinct' and 'distinctValues'.
'calcdistinct' is still supported as an alias for both options
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7522">SOLR-7522</a>: Facet Module - Implement field/terms faceting over single-valued
numeric fields.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7275">SOLR-7275</a>: Authorization framework for Solr. It defines an interface and a mechanism to create,
load, and use an Authorization plugin.
<br /><span class="attrib">(Noble Paul, Ishan Chattopadhyaya, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7377">SOLR-7377</a>: Solr Streaming Expressions
<br /><span class="attrib">(Dennis Gove, Joel Bernstein, Steven Bower)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7553">SOLR-7553</a>: Facet Analytics Module: new "hll" function that uses HyperLogLog to calculate
distributed cardinality.  The original "unique" function is still available.
Example:  json.facet={ numProducts : "hll(product_id)" }
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7546">SOLR-7546</a>: bin/post (and SimplePostTool in -Dauto=yes mode) now sends rather than skips files
without a known content type, as "application/octet-stream", provided it still is in the
allowed filetypes setting.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7274">SOLR-7274</a>: Pluggable authentication module in Solr. This defines an interface and a mechanism to create,
load, and use an Authentication plugin.
<br /><span class="attrib">(Noble Paul, Ishan Chattopadhyaya, Gregory Chanan, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7379">SOLR-7379</a>: (experimental) New spatial RptWithGeometrySpatialField, based on CompositeSpatialStrategy,
which blends RPT indexes for speed with serialized geometry for accuracy.  Includes a Lucene segment based
in-memory shape cache.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7465">SOLR-7465</a>, <a href="http://issues.apache.org/jira/browse/SOLR-7610">SOLR-7610</a>: New file indexing example, under example/files.
<br /><span class="attrib">(Esther Quansah, Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7468">SOLR-7468</a>: Kerberos authenticaion plugin for Solr. This would allow running a Kerberized Solr.
<br /><span class="attrib">(Noble Paul, Ishan Chattopadhyaya, Gregory Chanan, Anshum Gupta)</span></li>
    </ol>
  </li>
  <li><a id="v5.2.0.bug_fixes" href="javascript:toggleList('v5.2.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(38)
    <ol id="v5.2.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6709">SOLR-6709</a>: Fix QueryResponse to deal with the "expanded" section when using the XMLResponseParser
<br /><span class="attrib">(Varun Thacker, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7066">SOLR-7066</a>: autoAddReplicas feature has bug when selecting replacement nodes.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7370">SOLR-7370</a>: FSHDFSUtils#recoverFileLease tries to recover the lease every one second after
the first four second wait.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7369">SOLR-7369</a>: AngularJS UI insufficient URLDecoding in cloud/tree view
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7380">SOLR-7380</a>: SearchHandler should not try to load runtime components in inform()
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7385">SOLR-7385</a>: The clusterstatus API now returns the config set used to create a collection
inside a 'configName' key.
<br /><span class="attrib">(Shai Erera, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7401">SOLR-7401</a>: Fixed a NullPointerException when concurrently creating and deleting collections,
while accessing other collections.
<br /><span class="attrib">(Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7412">SOLR-7412</a>: Fixed range.facet.other parameter for distributed requests.
<br /><span class="attrib">(Will Miller, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6087">SOLR-6087</a>: SolrIndexSearcher makes no DelegatingCollector.finish() call when IndexSearcher
throws an expected exception.
<br /><span class="attrib">(Christine Poerschke via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7420">SOLR-7420</a>: Overseer stats are not reset on loss of ZK connection.
<br /><span class="attrib">(Jessica Cheng, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7392">SOLR-7392</a>: Fix SOLR_JAVA_MEM and SOLR_OPTS customizations in solr.in.sh being ignored
<br /><span class="attrib">(Ramkumar Aiyengar, Ere Maijala)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7426">SOLR-7426</a>: SolrConfig#getConfigOverlay does not clean up it's resources.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6665">SOLR-6665</a>: ZkController.publishAndWaitForDownStates can return before all local cores are
marked as 'down' if multiple replicas with the same core name exist in the cluster.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7418">SOLR-7418</a>: Check and raise a SolrException instead of an NPE when an invalid doc id is sent
 to the MLTQParser.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7443">SOLR-7443</a>: Implemented range faceting over date fields in the new facet module
(JSON Facet API).
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7440">SOLR-7440</a>: DebugComponent does not return the right requestPurpose for pivot facet refinements.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7408">SOLR-7408</a>: Listeners set by SolrCores on config directories in ZK could be removed if collections
are created/deleted in paralle against the same config set.
<br /><span class="attrib">(Shai Erera, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7450">SOLR-7450</a>: Fix edge case which could cause `bin/solr stop` to hang forever
<br /><span class="attrib">(Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7157">SOLR-7157</a>: initParams must support tags other than appends, defaults and, invariants
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7387">SOLR-7387</a>: Facet Module - distributed search didn't work when sorting terms
facet by min, max, avg, or unique functions.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7469">SOLR-7469</a>: Fix check-licenses to correctly detect if start.jar.sha1 is incorrect
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7449">SOLR-7449</a>: solr/server/etc/jetty-https-ssl.xml hard codes the key store file and password rather
than pulling them from the sysprops defined in solr/bin/solr.in.{sh,cmd}
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7470">SOLR-7470</a>: Fix sample data to eliminate file order dependency for successful indexing, also
fixed SolrCloudExampleTest to help catch this in the future.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7478">SOLR-7478</a>: UpdateLog#close shuts down it's executor with interrupts before running it's close logic,
possibly preventing a clean close.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7494">SOLR-7494</a>: Facet Module - unique() facet function was wildly inaccurate for high cardinality
fields.
<br /><span class="attrib">(Andy Crossen, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7502">SOLR-7502</a>: start script should not try to create configset for .system collection
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7514">SOLR-7514</a>: SolrClient.getByIds fails with ClassCastException
<br /><span class="attrib">(Tom Farnworth, Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7531">SOLR-7531</a>: config API shows a few keys merged together
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7542">SOLR-7542</a>: Schema API: Can't remove single dynamic copy field directive
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7472">SOLR-7472</a>: SortingResponseWriter does not log fl parameters that don't exist.
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7545">SOLR-7545</a>: Honour SOLR_HOST parameter with bin/solr{,.cmd}
<br /><span class="attrib">(Ishan Chattopadhyaya via Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7503">SOLR-7503</a>: Recovery after ZK session expiration should happen in parallel for all cores
using the thread-pool managed by ZkContainer instead of a single thread.
<br /><span class="attrib">(Jessica Cheng Mallet, Timothy Potter, shalin, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7335">SOLR-7335</a>: Fix doc boosts to no longer be multiplied in each field value in multivalued fields that
are not used in copyFields
<br /><span class="attrib">(Shingo Sasaki via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7585">SOLR-7585</a>: Fix NoSuchElementException in LFUCache resulting from heavy writes
making concurrent put() calls.
<br /><span class="attrib">(Maciej Zasada via Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7587">SOLR-7587</a>: Seeding bucket versions from index when the firstSearcher event fires has a race condition
that leads to an infinite wait on VersionInfo's ReentrantReadWriteLock because the read-lock acquired
during a commit cannot be upgraded to a write-lock needed to block updates; solution is to move the
call out of the firstSearcher event path and into the SolrCore constructor.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7625">SOLR-7625</a>: Ensure that the max value for seeding version buckets is updated after recovery even if
the UpdateLog is not replayed.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7610">SOLR-7610</a>: Fix VelocityResponseWriter's $resource.locale to accurately report locale in use.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7614">SOLR-7614</a>: Distributed pivot facet refinement was broken due to a single correlation counter
used across multiple requests as if it was private to each request.
<br /><span class="attrib">(yonik)</span></li>
    </ol>
  </li>
  <li><a id="v5.2.0.optimizations" href="javascript:toggleList('v5.2.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v5.2.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7324">SOLR-7324</a>: IndexFetcher does not need to call isIndexStale if full copy is already needed
<br /><span class="attrib">(Stephan Lagraulet via Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7547">SOLR-7547</a>: Short circuit SolrDisptachFilter for static content request. Right now it creates
a new HttpSolrCall object and tries to process it.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7333">SOLR-7333</a>: Make the poll queue time a leader uses when distributing updates to replicas
configurable and use knowledge that a batch is being processed to poll efficiently.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7332">SOLR-7332</a>: Initialize the highest value for all version buckets with the max value from
the index or recent updates to avoid unnecessary lookups to the index to check for reordered
updates when processing new documents.
<br /><span class="attrib">(Timothy Potter, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5855">SOLR-5855</a>: DefaultSolrHighlighter now re-uses the document's term vectors instance when highlighting
more than one field. Applies to the standard and FVH highlighters.
<br /><span class="attrib">(David Smiley, Daniel Debray)</span></li>
    </ol>
  </li>
  <li><a id="v5.2.0.other_changes" href="javascript:toggleList('v5.2.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(34)
    <ol id="v5.2.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6865">SOLR-6865</a>: Upgrade HttpClient to 4.4.1
<br /><span class="attrib">(Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7358">SOLR-7358</a>: TestRestoreCore fails in Windows
<br /><span class="attrib">(Ishan Chattopadhyaya via Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7371">SOLR-7371</a>: Make DocSet implement Accountable to estimate memory usage.
<br /><span class="attrib">(yonik, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7381">SOLR-7381</a>: Improve logging by adding node name in MDC in SolrCloud mode and adding MDC to
all thread pools. A new MDCAwareThreadPoolExecutor is introduced and usages of
Executors#newFixedThreadPool, #newSingleThreadExecutor, #newCachedThreadPool as well as
ThreadPoolExecutor directly is now forbidden in Solr. MDC keys are now exposed in thread
names automatically so that a thread dump can give hints on what the thread was doing.
Uncaught exceptions thrown by tasks in the pool are logged along with submitter's stack trace.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7384">SOLR-7384</a>: Fix spurious failures in FullSolrCloudDistribCmdsTest.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6692">SOLR-6692</a>: Default highlighter changes:
<ul class="bulleted-list">
<li class="bulleted-list">
hl.maxAnalyzedChars now applies cumulatively on a multi-valied field.
</li>
<li class="bulleted-list">
fragment ranking on a multi-valued field should be more relevant.
</li>
<li class="bulleted-list">
hl.usePhraseHighlighter is now toggleable on a per-field basis.
</li>
<li class="bulleted-list">
Much more extensible (get values from another source; return snippet scores and offsets).
</li>
<li class="bulleted-list">
When using hl.maxMultiValuedToMatch with hl.preserveMulti, only count matched snippets.
</li>
</ul>
<span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6886">SOLR-6886</a>: Removed redundant size check and added missing calls to
DelegatingCollection.finish inside Grouping code.
<br /><span class="attrib">(Christine Poerschke via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7421">SOLR-7421</a>: RecoveryAfterSoftCommitTest fails frequently on Jenkins due to full index
replication taking longer than 30 seconds.
<br /><span class="attrib">(Timothy Potter, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7081">SOLR-7081</a>: Add new test case to test if create/delete/re-create collections work.
<br /><span class="attrib">(Christine Poerschke via Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7467">SOLR-7467</a>: Upgrade t-digest to 3.1
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7471">SOLR-7471</a>: Stop requiring docValues for interval faceting
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7391">SOLR-7391</a>: Use a time based expiration cache for one off HDFS FileSystem instances.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5213">SOLR-5213</a>: Log when shard splitting unexpectedly leads to documents going to
no or multiple shards
<br /><span class="attrib">(Christine Poerschke, Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7425">SOLR-7425</a>: Improve MDC based logging format.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4839">SOLR-4839</a>: Upgrade Jetty to 9.2.10.v20150310 and restlet-jee to 2.3.0
<br /><span class="attrib">(Bill Bell, Timothy Potter, Uwe Schindler, Mark Miller, Steve Rowe, Steve Davids, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7457">SOLR-7457</a>: Make DirectoryFactory publishing MBeanInfo extensible.
<br /><span class="attrib">(Mike Drob via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7325">SOLR-7325</a>: Slice.getState() now returns a State enum instead of a String. This helps
clarify the states a Slice can be in, as well comparing the state of a Slice.
<br /><span class="attrib">(Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7336">SOLR-7336</a>: Added Replica.getState() and removed ZkStateReader state-related constants.
You should use Replica.State to compare a replica's state.
<br /><span class="attrib">(Shai Erera)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7487">SOLR-7487</a>: Fix check-example-lucene-match-version Ant task to check luceneMatchVersion
in solr/server/solr/configsets instead of example and harden error checking / validation
logic.
<br /><span class="attrib">(hossman, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7409">SOLR-7409</a>: When there are multiple dataimport handlers defined, the admin UI
was listing them in a random order.  Now they are sorted in a natural order
that handles numbers properly.
<br /><span class="attrib">(Jellyfrog via Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7484">SOLR-7484</a>: Refactor SolrDispatchFilter to extract all Solr specific implementation detail
to HttpSolrCall and also extract methods from within the current SDF.doFilter(..) logic
making things easier to manage. HttpSolrCall converts the processing to a 3-step process
i.e. Construct, Init, and Call so the context of the request would be available after Init
 and before the actual call operation.
<br /><span class="attrib">(Anshum Gupta, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6878">SOLR-6878</a>: Allow symmetric lists of synonyms to be added using the managed synonym REST
API to support legacy expand=true type mappings; previously the API only allowed adding
explicit mappings, with this feature you can now add a list and have the mappings
expanded when the update is applied
<br /><span class="attrib">(Timothy Potter, Vitaliy Zhovtyuk, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7102">SOLR-7102</a>: bin/solr should activate cloud mode if ZK_HOST is set
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7500">SOLR-7500</a>: Remove pathPrefix from SolrDispatchFilter as Solr no longer runs as a part
of a bigger webapp.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7243">SOLR-7243</a>: CloudSolrClient was always returning SERVER_ERROR for exceptions,
even when a more relevant ErrorCode was available, via SolrException.  Now
the actual ErrorCode is used when available.
<br /><span class="attrib">(Hrishikesh Gadre via Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7544">SOLR-7544</a>: CollectionsHandler refactored to be more modular
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7532">SOLR-7532</a>: Removed occurrences of the unused 'commitIntervalLowerBound' property for
updateHandler elements from Solr configuration.
<br /><span class="attrib">(Marius Grama via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7541">SOLR-7541</a>: Removed CollectionsHandler#createNodeIfNotExists. All calls made to this method now call
ZkCmdExecutor#ensureExists as they were doing the same thing. Also ZkCmdExecutor#ensureExists now respects the
CreateMode passed to it.
<br /><span class="attrib">(Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6820">SOLR-6820</a>: Make the number of version buckets used by the UpdateLog configurable as
increasing beyond the default 256 has been shown to help with high volume indexing
performance in SolrCloud; helps overcome a limitation where Lucene uses the request
thread to perform expensive index housekeeping work.
<br /><span class="attrib">(Mark Miller, yonik, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7463">SOLR-7463</a>: Stop forcing MergePolicy's "NoCFSRatio" based on the IWC "useCompoundFile" configuration
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7582">SOLR-7582</a>: Allow auto-commit to be set with system properties in data_driven_schema_configs and
enable auto soft-commits for the bin/solr -e cloud example using the Config API.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7183">SOLR-7183</a>: Fix Locale blacklisting for Minikdc based tests.
<br /><span class="attrib">(Ishan Chattopadhyaya, hossman
via Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7662">SOLR-7662</a>: Refactored response writing to consolidate the logic in  one place
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7110">SOLR-7110</a>: Added option to optimize JavaBinCodec to minimize string Object creation
<br /><span class="attrib">(Noble Paul)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v5.1.0" href="javascript:toggleList('v5.1.0')">Release 5.1.0  [2015-04-14]</a></h3>
<ul id="v5.1.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release
</li>
  <li><a id="v5.1.0.versions_of_major_components" href="javascript:toggleList('v5.1.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v5.1.0.versions_of_major_components.list">
      <li>Apache Tika 1.7
</li>
      <li>Carrot2 3.9.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 8.1.10.v20130312
</li>
    </ol>
  </li>
  <li><a id="v5.1.0.upgrading_from_solr_5.0" href="javascript:toggleList('v5.1.0.upgrading_from_solr_5.0')">Upgrading from Solr 5.0</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v5.1.0.upgrading_from_solr_5.0.list">
      <li>SolrClient query functions now declare themselves as throwing IOException in
addition to SolrServerException, to bring them in line with the update
functions.
<p>
</li>
      <li>SolrRequest.process() is now final.  Subclasses should instead be parameterized
by their corresponding SolrResponse type, and implement createResponse()
<p>
</li>
      <li>The signature of SolrDispatchFilter.createCoreContainer() has changed to take
(String,Properties) arguments
<p>
</li>
      <li>Deprecated the 'lib' option added to create-requesthandler as part of <a href="http://issues.apache.org/jira/browse/SOLR-6801">SOLR-6801</a> in 5.0 release.
Please use the add-runtimelib command
<p>
</li>
      <li>Tika's runtime dependency of 'jhighlight' was removed as the latter was found to
contain some LGPL-only code. Until that's resolved by Tika, you can download the
.jar yourself and place it under contrib/extraction/lib.
<p>
</li>
      <li>The _text catch-all field in data_driven_schema_configs has been renamed to _text_.
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v5.1.0.new_features" href="javascript:toggleList('v5.1.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(40)
    <ol id="v5.1.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6909">SOLR-6909</a>: Extract atomic update handling logic into AtomicUpdateDocumentMerger class
and enable subclassing.
<br /><span class="attrib">(Steve Davids, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6845">SOLR-6845</a>: Add a “buildOnStartup” option for suggesters.
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6449">SOLR-6449</a>: Add first class support for Real Time Get in Solrj.
<br /><span class="attrib">(Anurag Sharma, Steve Davids via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6954">SOLR-6954</a>: SolrClient now implements Closeable, and shutdown() has been
deprecated in favour of close().
<br /><span class="attrib">(Mark Miller, Tomás Fernández Löbbe, Alan
Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4905">SOLR-4905</a>: Allow fromIndex parameter to JoinQParserPlugin to refer to a single-sharded
collection that has a replica on all nodes where there is a replica in the to index
<br /><span class="attrib">(Jack Lo, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6648">SOLR-6648</a>: Add support in AnalyzingInfixLookupFactory and BlendedInfixLookupFactory
for setting 'highlight' and 'allTermsRequired' in the suggester configuration.
<br /><span class="attrib">(Boon Low, Varun Thacker via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7083">SOLR-7083</a>: Support managing all named components in solrconfig such as
requestHandler, queryParser, queryResponseWriter, valueSourceParser,
transformer, queryConverter
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7005">SOLR-7005</a>: Spatial 2D heatmap faceting on RPT fields via new facet.heatmap with PNG and
2D int array formats.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7019">SOLR-7019</a>: Support changing field key when using interval faceting.
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6832">SOLR-6832</a>: Queries be served locally rather than being forwarded to another replica.
<br /><span class="attrib">(Sachin Goyal, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1945">SOLR-1945</a>: Add support for child docs in DocumentObjectBinder
<br /><span class="attrib">(Noble Paul, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7125">SOLR-7125</a>, <a href="http://issues.apache.org/jira/browse/SOLR-7158">SOLR-7158</a>: You can upload and download configurations via CloudSolrClient
<br /><span class="attrib">(Alan Woodward, Ishan Chattopadhyaya)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5507">SOLR-5507</a>: Admin UI - Refactoring using AngularJS, first part
<br /><span class="attrib">(Upayavira via
Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7164">SOLR-7164</a>: BBoxField defaults sub fields to not-stored
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7155">SOLR-7155</a>,<a href="http://issues.apache.org/jira/browse/SOLR-7201">SOLR-7201</a>: All SolrClient methods now take an optional 'collection' argument
<br /><span class="attrib">(Alan Woodward, Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6359">SOLR-6359</a>: Allow number of logs and records kept by UpdateLog to be configured
<br /><span class="attrib">(Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7189">SOLR-7189</a>: Allow DIH to extract content from embedded documents via Tika.
<br /><span class="attrib">(Tim Allison via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6841">SOLR-6841</a>: Visualize lucene segment information in Admin UI.
<br /><span class="attrib">(Alexey Kozhemiakin, Michal Bienkowski, hossman, Shawn Heisey, Varun Thacker via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5846">SOLR-5846</a>: EnumField supports DocValues functionality.
<br /><span class="attrib">(Elran Dvir, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4044">SOLR-4044</a>: CloudSolrClient.connect() throws a more useful exception if the
  cluster is not ready, and can now take an optional timeout argument to wait
  for the cluster.
<br /><span class="attrib">(Alan Woodward, shalin, yonik, Mark Miller, Vitaliy Zhovtyuk)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7073">SOLR-7073</a>: Support adding a jar to a collections classpath
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7126">SOLR-7126</a>: Secure loading of runtime external jars
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6349">SOLR-6349</a>: Added support for stats.field localparams to enable/disable individual stats to
limit the amount of computation done and the amount of data returned.
eg: stats.field={!min=true max=true}field_name
<br /><span class="attrib">(Tomas Fernandez-Lobbe, Xu Zhang, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7218">SOLR-7218</a>: lucene/solr query syntax to give any query clause a constant score.
General Form: &lt;clause&gt;^=&lt;constant_score&gt;
Example: (color:blue color:green)^=2.0 text:shoes
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7214">SOLR-7214</a>: New Facet module with a JSON API, facet functions, aggregations, and analytics.
Any facet type can have sub facets, and facets can be sorted by arbitrary aggregation functions.
Examples:
  json.facet={x:'avg(price)', y:'unique(color)'}
  json.facet={count1:{query:"price:[10 TO 20]"}, count2:{query:"color:blue AND popularity:[0 TO 50]"} }
  json.facet={categories:{terms:{field:cat, sort:"x desc", facet:{x:"avg(price)", y:"sum(price)"}}}}
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6141">SOLR-6141</a>: Schema API: Remove fields, dynamic fields, field types and copy
fields; and replace fields, dynamic fields and field types.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7217">SOLR-7217</a>: HTTP POST body is auto-detected when the client is curl and the content
type is form data (curl's default), allowing users to use curl to send
JSON or XML without having to specify the content type.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6892">SOLR-6892</a>: Update processors can now be top-level components and they can be
specified in request to create a new custom update chain
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7216">SOLR-7216</a>: Solr JSON Request API:
<ul class="bulleted-list">
<li class="bulleted-list">
HTTP search requests can have a JSON body.
</li>
<li class="bulleted-list">
JSON request can also be passed via the "json" parameter.
</li>
<li class="bulleted-list">
Smart merging of multiple JSON parameters: ruery parameters starting with "json."
  will be merged into the JSON request.
</li>
<li class="bulleted-list">
Legacy query parameters can also be passed in the "params" block of
  the JSON request.
</li>
</ul>
<span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7245">SOLR-7245</a>: Temporary ZK election or connection loss should not stall indexing
due to leader initiated recovery
<br /><span class="attrib">(Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6350">SOLR-6350</a>: StatsComponent now supports Percentiles
<br /><span class="attrib">(Xu Zhang, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7306">SOLR-7306</a>: Percentiles support for the new facet module.  Percentiles
can be calculated for all facet buckets and field faceting can sort
by percentile values.
Examples:
  json.facet={ median_age : "percentile(age,50)" }
  json.facet={ salary_percentiles : "percentile(salary,25,50,75)" }
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7307">SOLR-7307</a>: EmbeddedSolrServer can now be started up by passing a path to a
solr home directory, or a NodeConfig object
<br /><span class="attrib">(Alan Woodward, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1387">SOLR-1387</a>: Add facet.contains and facet.contains.ignoreCase options
<br /><span class="attrib">(Tom Winch
via Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7082">SOLR-7082</a>: Streaming Aggregation for SolrCloud
<br /><span class="attrib">(Joel bernstein, Yonik Seeley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7212">SOLR-7212</a>: Parameter substitution / macro expansion across entire request.
Substitution can contain further expansions and default values are supported.
Example: q=price:[ ${low:0} TO ${high} ]&amp;low=100&amp;high=200
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7226">SOLR-7226</a>: Make /query/* jmx/* , requestDispatcher/*, &lt;listener&gt; &lt;initParams&gt;
properties in solrconfig.xml editable
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7240">SOLR-7240</a>: '/' redirects to '/solr/' for convenience
<br /><span class="attrib">(Martijn Koster, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5911">SOLR-5911</a>: Added payload support for term vectors. New "termPayloads" option for fields
/ types in the schema, and "tv.payloads" param for the term vector component.
<br /><span class="attrib">(Mike McCandless, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5132">SOLR-5132</a>: Added a new collection action MODIFYCOLLECTION
<br /><span class="attrib">(Noble Paul)</span></li>
    </ol>
  </li>
  <li><a id="v5.1.0.bug_fixes" href="javascript:toggleList('v5.1.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(41)
    <ol id="v5.1.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7046">SOLR-7046</a>: NullPointerException when group.function uses query() function.
<br /><span class="attrib">(Jim Musil via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7072">SOLR-7072</a>: Multiple mlt.fl does not work.
<br /><span class="attrib">(Constantin Mitocaru, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6775">SOLR-6775</a>: Creating backup snapshot results in null pointer exception.
<br /><span class="attrib">(Ryan Hesson, Varun Thacker via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5890">SOLR-5890</a>: Delete silently fails if not sent to shard where document was
added
<br /><span class="attrib">(Ishan Chattopadhyaya, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7101">SOLR-7101</a>: JmxMonitoredMap can throw an exception in clear when queryNames fails.
<br /><span class="attrib">(Mark Miller, Wolfgang Hoschek)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6214">SOLR-6214</a>: Snapshots numberToKeep param only keeps n-1 backups.
<br /><span class="attrib">(Mathias H., Ramana, Varun Thacker via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7084">SOLR-7084</a>: FreeTextSuggester: Better error message when doing a lookup
during dictionary build. Used to be nullpointer
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6956">SOLR-6956</a>: OverseerCollectionProcessor and replicas on the overseer node can sometimes
operate on stale cluster state due to overseer holding the state update lock for a
long time.
<br /><span class="attrib">(Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7104">SOLR-7104</a>: Propagate property prefix parameters for ADDREPLICA Collections API call.
<br /><span class="attrib">(Varun Thacker via Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7113">SOLR-7113</a>: Multiple calls to UpdateLog#init is not thread safe with respect to the
HDFS FileSystem client object usage.
<br /><span class="attrib">(Mark Miller, Vamsee Yarlagadda)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7128">SOLR-7128</a>: Two phase distributed search is fetching extra fields in GET_TOP_IDS phase.
<br /><span class="attrib">(Pablo Queixalos, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7139">SOLR-7139</a>: Fix SolrContentHandler for TIKA to ignore multiple startDocument events.
<br /><span class="attrib">(Chris A. Mattmann, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7178">SOLR-7178</a>: OverseerAutoReplicaFailoverThread compares Integer objects using ==
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7171">SOLR-7171</a>: BaseDistributedSearchTestCase now clones getSolrHome() for each subclass,
and consistently uses getSolrXml().
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6657">SOLR-6657</a>:  DocumentDictionaryFactory requires weightField to be mandatory, but it shouldn't
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7206">SOLR-7206</a>: MiniSolrCloudCluster wasn't dealing with SSL mode correctly
<br /><span class="attrib">(Alan
Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4464">SOLR-4464</a>: DIH Processed documents counter resets to zero after first entity is processed.
<br /><span class="attrib">(Dave Cook, Shawn Heisey, Aaron Greenspan, Thomas Champagne via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7209">SOLR-7209</a>: /update/json/docs carry forward fields from previous records
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7195">SOLR-7195</a>: Fixed a bug where the bin/solr shell script would incorrectly
detect another Solr process listening on the same port number.  If the
requested listen port was 8983, it would match on another Solr using port
18983 for any purpose.  Also escapes the dot character in all grep commands
looking for start.jar.
<br /><span class="attrib">(Xu Zhang via Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6682">SOLR-6682</a>: Fix response when using EnumField with StatsComponent
<br /><span class="attrib">(Xu Zhang via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7109">SOLR-7109</a>: Indexing threads stuck during network partition can put leader into down state.
<br /><span class="attrib">(Mark Miller, Anshum Gupta, Ramkumar Aiyengar, yonik, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7092">SOLR-7092</a>: Stop the HDFS lease recovery retries in HdfsTransactionLog on close and try
to avoid lease recovery on closed files.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7285">SOLR-7285</a>: ActionThrottle will not pause if getNanoTime first returns 0.
<br /><span class="attrib">(Mark Miller, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7141">SOLR-7141</a>: RecoveryStrategy: Raise time that we wait for any updates from the leader before
they saw the recovery state to have finished.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7248">SOLR-7248</a>: In legacyCloud=false mode we should check if the core was hosted on the same node before registering it
<br /><span class="attrib">(Varun Thacker, Noble Paul, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7294">SOLR-7294</a>: Migrate API fails with 'Invalid status request: notfoundretried 6times' message.
<br /><span class="attrib">(Jessica Cheng Mallet, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7254">SOLR-7254</a>: Make an invalid negative start/rows throw a HTTP 400 error (Bad Request) instead
of causing a 500 error.
<br /><span class="attrib">(Ramkumar Aiyengar, Hrishikesh Gadre, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7305">SOLR-7305</a>: BlendedInfixLookupFactory swallows root IOException when it occurs.
<br /><span class="attrib">(Stephan Lagraulet via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7293">SOLR-7293</a>: Fix bug that Solr server does not listen on IPv6 interfaces by default.
<br /><span class="attrib">(Uwe Schindler, Sebastian Pesman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7298">SOLR-7298</a>: Fix Collections API calls (SolrJ) to not add name parameter when not needed.
<br /><span class="attrib">(Shai Erera, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7134">SOLR-7134</a>: Replication can still cause index corruption.
<br /><span class="attrib">(Mark Miller, shalin, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7309">SOLR-7309</a>: Make bin/solr, bin/post work when Solr installation directory contains spaces
<br /><span class="attrib">(Ramkumar Aiyengar, Martijn Koster)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6924">SOLR-6924</a>: The config API forcefully refreshes all replicas in the collection to ensure all are
updated
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7266">SOLR-7266</a>: The IgnoreCommitOptimizeUpdateProcessor blocks commit requests from
replicas needing to recover.
<br /><span class="attrib">(Jessica Cheng Mallet, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7299">SOLR-7299</a>: bin\solr.cmd doesn't use jetty SSL configuration.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7334">SOLR-7334</a>: Admin UI does not show "Num Docs" and "Deleted Docs".
<br /><span class="attrib">(Erick Erickson, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7338">SOLR-7338</a>, <a href="http://issues.apache.org/jira/browse/SOLR-6583">SOLR-6583</a>: A reloaded core will never register itself as active after a ZK session expiration
<br /><span class="attrib">(Mark Miller, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7366">SOLR-7366</a>: Can't index example XML docs into the cloud example using bin/post due to regression in
ManagedIndexSchema's handling of ResourceLoaderAware objects used by field types
<br /><span class="attrib">(Steve Rowe, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7284">SOLR-7284</a>: HdfsUpdateLog is using hdfs FileSystem.get without turning off the cache.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7286">SOLR-7286</a>: Using HDFS's FileSystem.newInstance does not guarantee a new instance.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7508">SOLR-7508</a>: SolrParams.toMultiMap() does not handle arrays
<br /><span class="attrib">(Thomas Scheffler , Noble Paul)</span></li>
    </ol>
  </li>
  <li><a id="v5.1.0.optimizations" href="javascript:toggleList('v5.1.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v5.1.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7049">SOLR-7049</a>: Move work done by the LIST Collections API call to the Collections
Handler
<br /><span class="attrib">(Varun Thacker via Anshum Gupta)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7116">SOLR-7116</a>: Distributed facet refinement requests would needlessly compute other types
of faceting that have already been computed.
<br /><span class="attrib">(David Smiley, Hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7239">SOLR-7239</a>: improved performance of min &amp; max in StatsComponent, as well as situations
where local params disable all stats
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7050">SOLR-7050</a>: realtime get should internally load only fields specified in fl.
<br /><span class="attrib">(yonik, Noble Paul)</span></li>
    </ol>
  </li>
  <li><a id="v5.1.0.other_changes" href="javascript:toggleList('v5.1.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(33)
    <ol id="v5.1.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7014">SOLR-7014</a>: Collapse identical catch branches in try-catch statements.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6500">SOLR-6500</a>: Refactor FileFetcher in SnapPuller, add debug logging.
<br /><span class="attrib">(Ramkumar Aiyengar via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7076">SOLR-7076</a>: In DIH, TikaEntityProcessor should have support for onError=skip
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7094">SOLR-7094</a>: Better error reporting of JSON parse issues when indexing docs
<br /><span class="attrib">(Ishan Chattopadhyaya via Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7103">SOLR-7103</a>: Remove unused method params in faceting code.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6311">SOLR-6311</a>: When performing distributed queries, SearchHandler should use path
when no qt or shard.qt parameter is specified; fix also resolves <a href="http://issues.apache.org/jira/browse/SOLR-4479">SOLR-4479</a>.
<br /><span class="attrib">(Steve Molloy, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7112">SOLR-7112</a>: Fix DeleteInactiveReplicaTest.deleteLiveReplicaTest test failures.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6902">SOLR-6902</a>: Use JUnit rules instead of inheritance with distributed Solr
tests to allow for multiple tests without the same class.
<br /><span class="attrib">(Ramkumar Aiyengar, Erick Erickson, Mike McCandless)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7032">SOLR-7032</a>: Clean up test remnants of old-style solr.xml
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7145">SOLR-7145</a>: SolrRequest is now parametrized by its response type
<br /><span class="attrib">(Alan
Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7142">SOLR-7142</a>: Fix TestFaceting.testFacets.
<br /><span class="attrib">(Michal Kroliczek via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7156">SOLR-7156</a>: Fix test failures due to resource leaks on windows.
<br /><span class="attrib">(Ishan Chattopadhyaya via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7147">SOLR-7147</a>: Introduce new TrackingShardHandlerFactory for monitoring what requests
are sent to shards during tests.
<br /><span class="attrib">(hossman, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7160">SOLR-7160</a>: Rename ConfigSolr to NodeConfig, and decouple it from xml
representation
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7166">SOLR-7166</a>: Encapsulate JettySolrRunner configuration
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7130">SOLR-7130</a>: Make stale state notification work without failing the requests
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7151">SOLR-7151</a>: SolrClient query methods throw IOException
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7179">SOLR-7179</a>: JettySolrRunner no longer passes configuration to
SolrDispatchFilter via system properties, but instead uses a Properties
object in the servlet context
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6275">SOLR-6275</a>: Improve accuracy of QTime reporting
<br /><span class="attrib">(Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7174">SOLR-7174</a>: DIH should reset TikaEntityProcessor so that it is capable
of re-use
<br /><span class="attrib">(Alexandre Rafalovitch , Gary Taylor via Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6804">SOLR-6804</a>: Untangle SnapPuller and ReplicationHandler
<br /><span class="attrib">(Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7180">SOLR-7180</a>: MiniSolrCloudCluster will startup and shutdown its jetties in
parallel
<br /><span class="attrib">(Alan Woodward, Tomás Fernández Löbbe, Vamsee Yarlagadda)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7173">SOLR-7173</a>: Fix ReplicationFactorTest on Windows by adding better retry
support after seeing no response exceptions.
<br /><span class="attrib">(Ishan Chattopadhyaya via Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7246">SOLR-7246</a>: Speed up BasicZkTest, TestManagedResourceStorage
<br /><span class="attrib">(Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7258">SOLR-7258</a>: Forbid MessageFormat.format and MessageFormat single-arg constructor.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7162">SOLR-7162</a>: Remove unused SolrSortField interface.
<br /><span class="attrib">(yonik, Connor Warrington via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6414">SOLR-6414</a>: Update to Hadoop 2.6.0.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6673">SOLR-6673</a>: MDC based logging of collection, shard, replica, core
<br /><span class="attrib">(Ishan Chattopadhyaya , Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7291">SOLR-7291</a>: Test indexing on ZK disconnect with ChaosMonkey tests
<br /><span class="attrib">(Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7203">SOLR-7203</a>: Remove buggy no-op retry code in HttpSolrClient
<br /><span class="attrib">(Alan Woodward,
Mark Miller, Greg Solovyev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7202">SOLR-7202</a>: Remove deprecated string action types in Overseer and OverseerCollectionProcessor -
"deletecollection", "createcollection", "reloadcollection", "removecollection", "removeshard".
<br /><span class="attrib">(Varun Thacker, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7290">SOLR-7290</a>: Rename catchall _text field in data_driven_schema_configs
to _text_
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7346">SOLR-7346</a>: Stored XSS in Admin UI Schema-Browser page and Analysis page
<br /><span class="attrib">(Mei Wang via Timothy Potter)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v5.0.0" href="javascript:toggleList('v5.0.0')">Release 5.0.0  [2015-02-20]</a></h3>
<ul id="v5.0.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release.
</li>
      <li>NOTE: Solr 5.0 only supports creating and removing SolrCloud collections through
      the collections API, unlike previous versions. While not using the
      collections API may still work in 5.0, it is unsupported, not recommended,
      and the behavior will change in a 5.x release.
</li>
  <li><a id="v5.0.0.versions_of_major_components" href="javascript:toggleList('v5.0.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v5.0.0.versions_of_major_components.list">
      <li>Apache Tika 1.7
</li>
      <li>Carrot2 3.9.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
      <li>Jetty 8.1.10.v20130312
</li>
    </ol>
  </li>
  <li><a id="v5.0.0.upgrading_from_solr_4.x" href="javascript:toggleList('v5.0.0.upgrading_from_solr_4.x')">Upgrading from Solr 4.x</a>&nbsp;&nbsp;&nbsp;(31)
    <ol id="v5.0.0.upgrading_from_solr_4.x.list">
      <li>Apache Solr has no support for Lucene/Solr 3.x and earlier indexes anymore.
Be sure to run Lucene's IndexUpgrader on the previous 4.10 version if you might
still have old segments in your index. Alternatively fully optimize your index
with Solr 4.10 to make sure it consists only of one up-to-date index segment.
<p>
</li>
      <li>The "file" attribute of infoStream in solrconfig.xml is removed. Control this
via your logging configuration (org.apache.solr.update.LoggingInfoStream) instead.
<p>
</li>
      <li>UniqFieldsUpdateProcessorFactory no longer supports the &lt;lst named="fields"&gt; init
param style that was deprecated in Solr 4.5.  If you are still using this syntax,
update your configs to use &lt;arr name="fieldName"&gt; instead. See <a href="http://issues.apache.org/jira/browse/SOLR-4249">SOLR-4249</a> for more
details.
<p>
</li>
      <li>The following legacy numeric and date field types, deprecated in Solr 4.8, are no
longer supported: BCDIntField, BCDLongField, BCDStrField, IntField, LongField,
FloatField, DoubleField, SortableIntField, SortableLongField, SortableFloatField,
SortableDoubleField, and DateField.  Convert these types in your schema to the
corresponding Trie-based field type and then re-index.  See <a href="http://issues.apache.org/jira/browse/SOLR-5936">SOLR-5936</a> for more
information.
<p>
</li>
      <li>getAnalyzer() in IndexSchema and FieldType that was deprecated in Solr 4.9 has
been removed.  Use getIndexAnalyzer() instead. See <a href="http://issues.apache.org/jira/browse/SOLR-6022">SOLR-6022</a> for more information.
<p>
</li>
      <li>The spellcheck response format has changed, affecting xml and json clients.  In
particular, the "correctlySpelled" and "collations" subsections have been moved outside
the "suggestions" subsection, and now are directly under "spellcheck".
See <a href="http://issues.apache.org/jira/browse/SOLR-3029">SOLR-3029</a> for more information.
<p>
</li>
      <li>The CollectionsAPI SolrJ calls createCollection(), reloadCollection(),
deleteCollection(), requestStatus(), createShard(), splitShard(), deleteShard(),
createAlias() and deleteAlias() which were deprecated in 4.11 have been removed.
The new usage involves a builder style construction of the call.
<p>
</li>
      <li>The OVERSEERSTATUS API returns new key names for operations such as "create"
for "createcollection", "delete" for "removecollection" and "deleteshard" for
"removeshard".
<p>
</li>
      <li>If you have been using the /update/json/docs to index documents, <a href="http://issues.apache.org/jira/browse/SOLR-6617">SOLR-6617</a> introduces
backward incompatible change. the key names created are fully qualified paths of keys .
If you need the old functionality back , please add an extra parameter f=/**
example: /update/json/docs?f=/**
<p>
</li>
      <li>Bugs fixed in several ValueSource functions may result in different behavior in
situations where some documents do not have values for fields wrapped in other value
sources.  Users who want to preserve the previous behavior may need to wrap fields
in the "def()" function. Example: changing "fl=sum(fieldA,fieldB)" to
"fl=sum(def(fieldA,0.0),def(fieldB,0.0))".  See <a href="http://issues.apache.org/jira/browse/LUCENE-5961">LUCENE-5961</a> for more details.
<p>
</li>
      <li>AdminHandlers is deprecated, /admin/* are implicitly defined, /get, /replication and
handlers are also implicitly registered
<br /><span class="attrib">(refer to <a href="http://issues.apache.org/jira/browse/SOLR-6792">SOLR-6792</a>)</span></li>
      <li>SolrCore.reload(ConfigSet coreConfig, SolrCore prev) was deprecated in 4.10.3 and
removed in 5.0. use SolrCore.reload(ConfigSet coreConfig). See <a href="http://issues.apache.org/jira/browse/SOLR-5864">SOLR-5864</a>.
<p>
</li>
      <li>The "termIndexInterval" option in solrconfig.xml has been a No-Op in the default codec
since Solr 4.0, and has been removed completely in 5.0.  If you get an "Illegal parameter
'termIndexInterval'" error when upgrading, you can safely remove this option from your
configs.  If you have a strong need to configure this, you must explicitly configure your
schema with a custom codec.  See <a href="http://issues.apache.org/jira/browse/SOLR-6560">SOLR-6560</a> and for more details.
<p>
</li>
      <li>The "checkIntegrityAtMerge" option in solrconfig.xml is now a No-Op and should be removed
from any solrconfig.xml files -- these integrity checks are now done automatically at a very
low level during the segment merging process.  See <a href="http://issues.apache.org/jira/browse/SOLR-6834">SOLR-6834</a> for more details.
<p>
</li>
      <li>SimplePostTool (post.jar) no longer defaults to collection1, making either of core/collection
name or update URL mandatory. An existing call without an explicit update URL needs to now
have the core/collection name passed as "-Dc=&lt;collection/core name&gt;" e.g.:
  java -jar -Dc=&lt;collection_name&gt; post.jar *.xml (new call with collection name)
See <a href="http://issues.apache.org/jira/browse/SOLR-6852">SOLR-6852</a> for more details.
<p>
</li>
      <li>Relative paths specified in the solr.xml coreRootDirectory parameter for core
discovery are now resolved relative to SOLR_HOME, rather than cwd.  See
<a href="http://issues.apache.org/jira/browse/SOLR-6718">SOLR-6718</a>.
<p>
</li>
      <li>SolrServer and associated classes have been deprecated.  Applications using
SolrJ should use the equivalent SolrClient classes instead.
<p>
</li>
      <li>Spatial fields originating from Solr 4 (e.g. SpatialRecursivePrefixTreeFieldType, BBoxField)
have the 'units' attribute deprecated, now replaced with 'distanceUnits'.  If you change it to
a unit other than 'degrees' (or if you don't specify it, which will default to kilometers if
geo=true), then be sure to update maxDistErr as it's in those units.  If you keep units=degrees
then it should be backwards compatible but you'll get a deprecation warning on startup.  See
<a href="http://issues.apache.org/jira/browse/SOLR-6797">SOLR-6797</a>.
<p>
</li>
      <li>The &lt;nrtMode&gt; configuration in solrconfig.xml has been discontinued and should be removed from
solrconfig.xml. Solr defaults to using NRT searchers regardless of the value in configuration
and a warning is logged on startup if the solrconfig.xml has &lt;nrtMode&gt; specified.
<p>
</li>
      <li>There was an old spatial syntax to specify a circle using Circle(x,y d=...) which should be
replaced with simply using {!geofilt} (if you can) or BUFFER(POINT(x y),d). Likewise a rect syntax
comprised of minX minY maxX maxY that should now be replaced with
ENVELOPE(minX, maxX, maxY, minY).
<p>
</li>
      <li>Due to changes in the underlying commons-codec package, users of the BeiderMorseFilterFactory
will need to rebuild their indexes after upgrading.  See <a href="http://issues.apache.org/jira/browse/LUCENE-6058">LUCENE-6058</a> for more details.
<p>
</li>
      <li>CachedSqlEntityProcessor has been removed, use SqlEntityProcessor with the
cacheImpl parameter.
<p>
</li>
      <li>HttpDataSource has been removed, use URLDataSource instead.
<p>
</li>
      <li>LegacyHTMLStripCharFilter has been removed
<p>
</li>
      <li>CoreAdminRequest.persist() call has been removed.  All changes made via
CoreAdmin are persistent.
<p>
</li>
      <li>SpellCheckResponse.getSuggestions() and getSuggestionFrequencies() have been
removed, use getAlternatives() and getAlternativeFrequencies() instead.
<p>
</li>
      <li>SolrQuery deprecated methods have been removed:
<ul class="bulleted-list">
<li class="bulleted-list">
setMissing() is now setFacetMissing()
</li>
<li class="bulleted-list">
getFacetSort() is now getFacetSortString()
</li>
<li class="bulleted-list">
setFacetSort(boolean) should instead use setFacetSort(String) with
    FacetParams.FACET_SORT_COUNT or FacetParams.FACET_SORT_INDEX
</li>
<li class="bulleted-list">
setSortField(String, ORDER) should use setSort(SortClause)
</li>
<li class="bulleted-list">
addSortField(String, ORDER) should use addSort(SortClause)
</li>
<li class="bulleted-list">
removeSortField(String, ORDER) should use removeSort(SortClause)
</li>
<li class="bulleted-list">
getSortFields() should use getSorts()
</li>
<li class="bulleted-list">
set/getQueryType() should use set/getRequestHandler()
</li>
</ul>
<p>
</li>
      <li>ClientUtil deprecated date methods have been removed, use DateUtil instead
<p>
</li>
      <li>FacetParams.FacetDateOther has been removed, use FacetRangeOther
<p>
</li>
      <li>ShardParams.SHARD_KEYS has been removed, use ShardParams._ROUTE_
<p>
</li>
      <li>The 'old-style' solr.xml format is no longer supported, and cores must be
defined using core.properties files.  See
<a href="https://cwiki.apache.org/confluence/display/solr/Format+of+solr.xml">https://cwiki.apache.org/confluence/display/solr/Format+of+solr.xml</a>
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v5.0.0.new_features" href="javascript:toggleList('v5.0.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(48)
    <ol id="v5.0.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6103">SOLR-6103</a>: Added DateRangeField for indexing date ranges, especially multi-valued ones.
Supports facet.range, DateMath, and is mostly interoperable with TrieDateField.
Based on <a href="http://issues.apache.org/jira/browse/LUCENE-5648">LUCENE-5648</a>.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6403">SOLR-6403</a>: TransactionLog replay status logging.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4580">SOLR-4580</a>: Support for protecting content in ZooKeeper.
<br /><span class="attrib">(Per Steffensen, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6365">SOLR-6365</a>: specify appends, defaults, invariants outside of the request handler.
<br /><span class="attrib">(Noble Paul, Erik Hatcher, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5097">SOLR-5097</a>: Schema API: Add REST support for adding dynamic fields to the schema.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5098">SOLR-5098</a>: Schema API: Add REST support for adding field types to the schema.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5473">SOLR-5473</a> : Split clusterstate.json per collection and watch states selectively
<br /><span class="attrib">(Noble Paul, Mark Miller, shalin, Jessica Cheng Mallet, Timothy Potter, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5474">SOLR-5474</a> : Support for <a href="http://issues.apache.org/jira/browse/SOLR-5473">SOLR-5473</a> in SolrJ
<br /><span class="attrib">(Timothy Potter, Noble Paul, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5810">SOLR-5810</a> : Support for <a href="http://issues.apache.org/jira/browse/SOLR-5473">SOLR-5473</a> in solr admin UI
<br /><span class="attrib">(Timothy Potter, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6482">SOLR-6482</a>:  Add an onlyIfDown flag for DELETEREPLICA collections API command
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6354">SOLR-6354</a>: stats.field can now be used to generate stats over the numeric results
of arbitrary functions, ie: stats.field={!func}product(price,popularity)
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6485">SOLR-6485</a>: ReplicationHandler should have an option to throttle the speed of
replication
<br /><span class="attrib">(Varun Thacker, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6543">SOLR-6543</a>: Give HttpSolrClient the ability to send PUT requests
<br /><span class="attrib">(Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5986">SOLR-5986</a>: Don't allow runaway queries from harming Solr cluster health or search
performance
<br /><span class="attrib">(Anshum Gupta, Steve Rowe, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6565">SOLR-6565</a>: SolrRequest support for query params
<br /><span class="attrib">(Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6476">SOLR-6476</a>: Create a bulk mode for schema API
<br /><span class="attrib">(Noble Paul, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6512">SOLR-6512</a>: Add a collections API call to add/delete arbitrary properties
to a specific replica. Optionally adding sliceUnique=true will remove
this property from all other replicas within a particular slice.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6513">SOLR-6513</a>: Add a collectionsAPI call BALANCESLICEUNIQUE. Allows the even
distribution of custom replica properties across nodes making up a
collection, at most one node per slice will have the property.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6605">SOLR-6605</a>: Make ShardHandlerFactory maxConnections configurable.
<br /><span class="attrib">(Christine Poerschke via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6585">SOLR-6585</a>: RequestHandlers can optionally handle sub paths as well
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6617">SOLR-6617</a>: /update/json/docs path will use fully qualified node names by default
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4715">SOLR-4715</a>: Add CloudSolrClient constructors which accept a HttpClient instance.
<br /><span class="attrib">(Hardik Upadhyay, Shawn Heisey, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5992">SOLR-5992</a>: add "removeregex" as an atomic update operation
<br /><span class="attrib">(Vitaliy Zhovtyuk via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6633">SOLR-6633</a>: /update/json/docs path can now save the underlying json doc asa string field
and better support added to the default example
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6650">SOLR-6650</a>: Add optional slow request logging at WARN level
<br /><span class="attrib">(Jessica Cheng Mallet via Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6655">SOLR-6655</a>: SimplePostTool now features -Dhost, -Dport, and -Dc (for core/collection)
properties to allow easier overriding of just the right piece of the Solr URL.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6248">SOLR-6248</a>: MoreLikeThis QParser that accepts a document id and returns documents that
have similar content. It works in standalone/cloud mode and shares logic with the
Lucene MoreLikeThis class
<br /><span class="attrib">(Anshum Gupta)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6670">SOLR-6670</a>: change BALANCESLICEUNIQUE to BALANCESHARDUNIQUE. Also, the parameter
for ADDREPLICAPROP that used to be sliceUnique is now shardUnique.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6351">SOLR-6351</a>: Stats can now be nested under pivot values by adding a 'stats' local param to
facet.pivot which refers to a 'tag' local param in one or more stats.field params.
<br /><span class="attrib">(hossman, Vitaliy Zhovtyuk, Steve Molloy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6533">SOLR-6533</a>: Support editing common solrconfig.xml values
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6607">SOLR-6607</a>: Managing requesthandlers through API
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4799">SOLR-4799</a>: faster join using join="zipper" aka merge join for nested DIH EntityProcessors
<br /><span class="attrib">(Mikhail Khludnev via Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6787">SOLR-6787</a>: API to manage blobs in Solr
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6801">SOLR-6801</a>: Load RequestHandler from blob store
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1632">SOLR-1632</a>: Support Distributed IDF
<br /><span class="attrib">(Andrzej Bialecki, Mark Miller, Yonik Seeley,
Robert Muir, Markus Jelsma, Vitaliy Zhovtyuk, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6729">SOLR-6729</a>: createNodeSet.shuffle=(true|false) support for /admin/collections?action=CREATE.
<br /><span class="attrib">(Christine Poerschke, Ramkumar Aiyengar via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6851">SOLR-6851</a>: Scripts to support installing and running Solr as a service on Linux
<br /><span class="attrib">(Timothy Potter, Hossman, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6770">SOLR-6770</a>: Add/edit param sets and use them in Requests
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6879">SOLR-6879</a>: Have an option to disable autoAddReplicas temporarily for all collections.
<br /><span class="attrib">(Varun Thacker via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6435">SOLR-6435</a>: Add bin/post script to simplify posting content to Solr
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6761">SOLR-6761</a>: Ability to ignore commit and/or optimize requests from clients when running in
SolrCloud mode using the IgnoreCommitOptimizeUpdateProcessorFactory.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6797">SOLR-6797</a>: Spatial fields that used to require units=degrees like
SpatialRecursivePrefixTreeFieldType (RPT) now take distanceUnits=degrees|kilometers|miles
instead.  It is applied to nearly all distance measurements involving the field: maxDistErr,
distErr, d, geodist, score=distance|area|area2d. score now accepts these units as well. It does
NOT affect distances embedded in WKT strings like BUFFER(POINT(200 10),0.2)).
<br /><span class="attrib">(Ishan Chattopadhyaya, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6766">SOLR-6766</a>: Expose HdfsDirectoryFactory Block Cache statistics via JMX.
<br /><span class="attrib">(Mike Drob, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2035">SOLR-2035</a>: Add a VelocityResponseWriter $resource tool for locale-specific string lookups.
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6916">SOLR-6916</a>: Toggle payload support for the default highlighter via hl.payloads.  It's auto
enabled when the index has payloads.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6581">SOLR-6581</a>: Efficient DocValues support and numeric collapse field implementations
for Collapse and Expand
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6937">SOLR-6937</a>: In schemaless mode ,replace spaces and special characters with underscore
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5147">SOLR-5147</a>: Support child documents in DIH
<br /><span class="attrib">(Vadim Kirilchuk, Shawn Heisey, Thomas Champagne, Mikhail Khludnev via Noble Paul)</span></li>
    </ol>
  </li>
  <li><a id="v5.0.0.bug_fixes" href="javascript:toggleList('v5.0.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(66)
    <ol id="v5.0.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4895">SOLR-4895</a>: An error should be returned when a rollback is attempted in SolrCloud mode.
<br /><span class="attrib">(Vamsee Yarlagadda via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6424">SOLR-6424</a>: The hdfs block cache BLOCKCACHE_WRITE_ENABLED is not defaulting to false like it
should.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6426">SOLR-6426</a>: SolrZkClient clean can fail due to a race with children nodes.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5966">SOLR-5966</a>: Admin UI Menu is fixed and doesn't respect smaller viewports.
<br /><span class="attrib">(Aman Tandon, steffkes via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4406">SOLR-4406</a>: Fix RawResponseWriter to respect 'base' writer
<br /><span class="attrib">(Steve Davids, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6297">SOLR-6297</a>: Fix WordBreakSolrSpellChecker to not lose suggestions in shard/cloud
environments
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6467">SOLR-6467</a>: bin/solr script should direct stdout/stderr when starting in the background
to the solr-PORT-console.log in the logs directory instead of bin.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6187">SOLR-6187</a>: <a href="http://issues.apache.org/jira/browse/SOLR-6154">SOLR-6154</a>: facet.mincount ignored in range faceting using distributed search
NOTE: This does NOT fixed for the (deprecated) facet.date idiom, use facet.range
instead.
<br /><span class="attrib">(Erick Erickson, Zaccheo Bagnati, Ronald Matamoros, Vamsee Yalargadda)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6457">SOLR-6457</a>: LBHttpSolrClient: ArrayIndexOutOfBoundsException risk if counter overflows
<br /><span class="attrib">(longkey via Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6499">SOLR-6499</a>: Log warning about multiple update request handlers
<br /><span class="attrib">(Noble Paul, Andreas Hubold, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6507">SOLR-6507</a>: Fixed several bugs involving stats.field used with local params
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6481">SOLR-6481</a>: CLUSTERSTATUS should check if the node hosting a replica is live when
reporting replica status
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6484">SOLR-6484</a>: SolrCLI's healthcheck action needs to check live nodes as part of reporting
the status of a replica
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6540">SOLR-6540</a> Fix NPE from strdist() func when doc value source does not exist in a doc
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6624">SOLR-6624</a> Spelling mistakes in the Java source
<br /><span class="attrib">(Hrishikesh Gadre)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6307">SOLR-6307</a>: Atomic update remove does not work for int array or date array
<br /><span class="attrib">(Anurag Sharma , noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6224">SOLR-6224</a>: Post soft-commit callbacks are called before soft commit actually happens.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6591">SOLR-6591</a>: Overseer can use stale cluster state and lose updates for collections
with stateFormat &gt; 1.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6631">SOLR-6631</a>: DistributedQueue spinning on calling zookeeper getChildren()
<br /><span class="attrib">(Jessica Cheng Mallet, Mark Miller, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6579">SOLR-6579</a>: SnapPuller Replication blocks clean shutdown of tomcat
<br /><span class="attrib">(Philip Black-Knight via Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6721">SOLR-6721</a>: ZkController.ensureReplicaInLeaderInitiatedRecovery puts replica
in local map before writing to ZK.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6679">SOLR-6679</a>: Disabled suggester component from techproduct solrconfig.xml since
it caused long startup times on large indexes even when it wasn't used.
<br /><span class="attrib">(yonik, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6738">SOLR-6738</a>: Admin UI - Escape Data on Plugins-View
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3774">SOLR-3774</a>: Solr adds RequestHandler SolrInfoMBeans twice to the JMX server.
<br /><span class="attrib">(Tomás Fernández Löbbe, hossman, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6763">SOLR-6763</a>: Shard leader elections should not persist across session expiry
<br /><span class="attrib">(Alan Woodward, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3881">SOLR-3881</a>: Avoid OOMs in LanguageIdentifierUpdateProcessor:
<ul class="bulleted-list">
<li class="bulleted-list">
Added langid.maxFieldValueChars and langid.maxTotalChars params to limit
  input, by default 10k and 20k chars, respectively.
</li>
<li class="bulleted-list">
Moved input concatenation to Tika implementation; the langdetect
  implementation instead appends each input piece via the langdetect API.
</li>
</ul>
<span class="attrib">(Vitaliy Zhovtyuk, Tomás Fernández Löbbe, Rob Tulloh, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6626">SOLR-6626</a>: NPE in FieldMutatingUpdateProcessor when indexing a doc with
null field value
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6604">SOLR-6604</a>: <a href="http://issues.apache.org/jira/browse/SOLR-6812">SOLR-6812</a>: Fix NPE with distrib.singlePass=true and expand
component. Increased test coverage of expand component with docValues.
<br /><span class="attrib">(Christine Poerschke, Per Steffensen, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6718">SOLR-6718</a>: Core discovery was walking paths relative to the Jetty working
directory, rather than SOLR_HOME.
<br /><span class="attrib">(Andreas Hubold, Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6864">SOLR-6864</a>: Support registering searcher listeners in SolrCoreAware.inform(SolrCore)
method. Existing components rely on this.
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6850">SOLR-6850</a>: AutoAddReplicas makes a call to wait to see live replicas that times
out after 30 milliseconds instead of 30 seconds.
<br /><span class="attrib">(Varun Thacker via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6397">SOLR-6397</a>: zkcli script put/putfile should allow overwriting an existing znode's data
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6873">SOLR-6873</a>: Lib relative path is incorrect for techproduct configset
<br /><span class="attrib">(Alexandre Rafalovitch via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6899">SOLR-6899</a>: Change public setter for CollectionAdminRequest.action to protected.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6779">SOLR-6779</a>: fix /browse for schemaless example
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6874">SOLR-6874</a>: There is a race around SocketProxy binding to it's port the way we setup
JettySolrRunner and SocketProxy.
<br /><span class="attrib">(Mark Miller, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6735">SOLR-6735</a>: Make CloneFieldUpdateProcessorFactory null safe
<br /><span class="attrib">(Steve Davids via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6907">SOLR-6907</a>: URLEncode documents directory in MorphlineMapperTest to handle spaces etc.
in file name.
<br /><span class="attrib">(Ramkumar Aiyengar via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6880">SOLR-6880</a>: Harden ZkStateReader to expect that getCollectionLive may return null
as it's contract states.
<br /><span class="attrib">(Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6643">SOLR-6643</a>: Fix error reporting &amp; logging of low level JVM Errors that occur when
loading/reloading a SolrCore
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6839">SOLR-6839</a>: Direct routing with CloudSolrServer will ignore the Overwrite document option.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6793">SOLR-6793</a>: ReplicationHandler does not destroy all of it's created SnapPullers.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6946">SOLR-6946</a>: Document -p port option for the create_core and create_collection actions in
bin/solr
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6923">SOLR-6923</a>: AutoAddReplicas also consults live_nodes to see if a state change has happened.
<br /><span class="attrib">(Varun Thacker via Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6941">SOLR-6941</a>: DistributedQueue#containsTaskWithRequestId can fail with NPE.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6764">SOLR-6764</a>: Field types need to be re-informed after reloading a managed schema from ZK
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6931">SOLR-6931</a>: We should do a limited retry when using HttpClient.
<br /><span class="attrib">(Mark Miller, Hrishikesh Gadre, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7004">SOLR-7004</a>: Add a missing constructor for CollectionAdminRequest.BalanceShardUnique that
sets the collection action.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6993">SOLR-6993</a>: install_solr_service.sh won't install on RHEL / CentOS
<br /><span class="attrib">(David Anderson via Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6928">SOLR-6928</a>: solr.cmd stop works only in english
<br /><span class="attrib">(john.work, Jan Høydahl, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7011">SOLR-7011</a>: Delete collection returns before collection is actually removed.
<br /><span class="attrib">(Christine Poerschke via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6640">SOLR-6640</a>: Close searchers before rollback and recovery to avoid index corruption.
<br /><span class="attrib">(Robert Muir, Varun Thacker, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6847">SOLR-6847</a>: LeaderInitiatedRecoveryThread compares wrong replica's state with lirState.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6856">SOLR-6856</a>: Restore ExtractingRequestHandler's ability to capture all HTML tags when
parsing (X)HTML.
<br /><span class="attrib">(hossman, Uwe Schindler, ehatcher, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7024">SOLR-7024</a>: Improved error messages when java is not found by the bin/solr
shell script, particularly when JAVA_HOME has an invalid location.
<br /><span class="attrib">(Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7038">SOLR-7038</a>: Validate the presence of configset before trying to create a collection.
<br /><span class="attrib">(Anshum Gupta, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7037">SOLR-7037</a>: bin/solr start -e techproducts -c fails to start Solr in cloud mode
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7016">SOLR-7016</a>: Fix bin\solr.cmd to work in a directory with spaces in the name.
<br /><span class="attrib">(Timothy Potter, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6969">SOLR-6969</a>: When opening an HDFSTransactionLog for append we must first attempt to recover
it's lease to prevent data loss.
<br /><span class="attrib">(Mark Miller, Praneeth Varma, Colin McCabe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7067">SOLR-7067</a>: bin/solr won't run under bash 4.2+.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7068">SOLR-7068</a>: Collapse on numeric field breaks when min/max values are negative.
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6780">SOLR-6780</a>: Fixed a bug in how default/appends/invariants params were affecting the set
of all "keys" found in the request parameters, resulting in some key=value param pairs
being duplicated.  This was noticeably affecting some areas of the code where iteration
was done over the set of all params:
<ul class="bulleted-list">
<li class="bulleted-list">
literal.* in ExtractingRequestHandler
</li>
<li class="bulleted-list">
facet.* in FacetComponent
</li>
<li class="bulleted-list">
spellcheck.[dictionary name].* and spellcheck.collateParam.* in SpellCheckComponent
</li>
<li class="bulleted-list">
olap.* in AnalyticsComponent
</li>
</ul>
<span class="attrib">(Alexandre Rafalovitch &amp; hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6920">SOLR-6920</a>: A replicated index can end up corrupted when small files end up with the same
file name and size.
<br /><span class="attrib">(Varun Thacker, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7033">SOLR-7033</a>, <a href="http://issues.apache.org/jira/browse/SOLR-5961">SOLR-5961</a>: RecoveryStrategy should not publish any state when
closed / cancelled and there should always be a pause between recoveries
even when recoveries are rapidly stopped and started as well as when a
node attempts to become the leader for a shard.
<br /><span class="attrib">(Mark Miller, Maxim Novikov)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6693">SOLR-6693</a>: bin\solr.cmd doesn't support 32-bit JRE/JDK running on Windows due to
parenthesis in JAVA_HOME.
<br /><span class="attrib">(Timothy Potter, Christopher Hewitt, Jan Høydahl)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-12662">SOLR-12662</a>: Reproducing TestPolicy failures: NPE and NoClassDefFoundError.
<br /><span class="attrib">(Steve Rowe)</span></li>
    </ol>
  </li>
  <li><a id="v5.0.0.optimizations" href="javascript:toggleList('v5.0.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v5.0.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6603">SOLR-6603</a>: LBHttpSolrClient - lazily allocate skipped-zombie-servers list.
<br /><span class="attrib">(Christine Poerschke via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6554">SOLR-6554</a>: Speed up overseer operations avoiding cluster state reads from
zookeeper at the start of each loop and instead relying on local state and
compare-and-set writes. This change also adds batching for consecutive messages
belonging to the same collection with stateFormat=2.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6680">SOLR-6680</a>: DefaultSolrHighlighter can sometimes avoid CachingTokenFilter with
hl.usePhraseHighlighter, and can be more efficient handling data from term vectors.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6666">SOLR-6666</a>: Dynamic copy fields are considering all dynamic fields, causing
a significant performance impact on indexing documents.
<br /><span class="attrib">(Liram Vardi via Erick
Erickson, Steve Rowe)</span></li>
    </ol>
  </li>
  <li><a id="v5.0.0.other_changes" href="javascript:toggleList('v5.0.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(90)
    <ol id="v5.0.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4622">SOLR-4622</a>: Hardcoded SolrCloud defaults for hostContext and hostPort that
were deprecated in 4.3 have been removed completely.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5936">SOLR-5936</a>: Removed deprecated non-Trie-based numeric &amp; date field types.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6169">SOLR-6169</a>: Finish removal of CoreAdminHandler handleAlias action begun in 4.9
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6215">SOLR-6215</a>: TrieDateField should directly extend TrieField instead of
forwarding to a wrapped TrieField.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3029">SOLR-3029</a>: Changes to spellcheck response format
<br /><span class="attrib">(Nalini Kartha via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3957">SOLR-3957</a>: Removed RequestHandlerUtils#addExperimentalFormatWarning(), which
removes "experimental" warning from two places: replication handler details
command and DataImportHandler responses.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6073">SOLR-6073</a>: Remove helper methods from CollectionsRequest (SolrJ) for CollectionsAPI
calls and move to a builder design for the same.
<br /><span class="attrib">(Varun Thacker, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6519">SOLR-6519</a>: Make DirectoryFactory#create() take LockFactory.
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6400">SOLR-6400</a>: SolrCloud tests are not properly testing session expiration.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-5650">LUCENE-5650</a>: Tests can no longer write to CWD. Update log dir is now made relative
to the instance dir if it is not an absolute path.
<br /><span class="attrib">(Ryan Ernst, Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6390">SOLR-6390</a>: Remove unnecessary checked exception for CloudSolrClient
constructors, improve javadocs for CloudSolrClient constructors.
<br /><span class="attrib">(Steve Davids via Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-5901">LUCENE-5901</a>: Replaced all occurrences of LUCENE_CURRENT with LATEST for luceneMatchVersion.
<br /><span class="attrib">(Ryan Ernst)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6445">SOLR-6445</a>: Upgrade Noggit to version 0.6 to support more flexible JSON input
<br /><span class="attrib">(Noble Paul, Yonik Seeley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6073">SOLR-6073</a>: Remove helper methods from CollectionsRequest (SolrJ) for CollectionsAPI
calls and move to a builder design for the same.
<br /><span class="attrib">(Varun Thacker, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5322">SOLR-5322</a>: core discovery can fail w/NPE and no explanation if a non-readable directory exists
<br /><span class="attrib">(Said Chavkin, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6488">SOLR-6488</a>, <a href="http://issues.apache.org/jira/browse/SOLR-6991">SOLR-6991</a>: Update to Apache Tika 1.7. This adds support for parsing Outlook PST and
Matlab MAT files. Parsing for NetCDF files was removed because of license issues; if you need
support for this format, download the parser JAR yourself and add it to contrib/extraction/lib
folder: <a href="http://www.unidata.ucar.edu/software/thredds/current/netcdf-java/">http://www.unidata.ucar.edu/software/thredds/current/netcdf-java/</a>
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6115">SOLR-6115</a>: Cleanup enum/string action types in Overseer, OverseerCollectionProcessor and
CollectionHandler.
<br /><span class="attrib">(Erick Erickson, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6453">SOLR-6453</a>: Stop throwing an error message from Overseer when node exits
<br /><span class="attrib">(Ramkumar Aiyengar, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6550">SOLR-6550</a>: Provide simple mechanism for passing additional metadata / context about a server-side
 SolrException back to the client-side
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6249">SOLR-6249</a>: Schema API changes return success before all cores are updated; client application
can provide the optional updateTimeoutSecs parameter to cause the server handling the
managed schema update to block until all replicas of the same collection have processed the
update or until the specified timeout is reached
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6597">SOLR-6597</a>: SolrIndexConfig parameter in one of the SolrIndexSearcher constructor has been removed.
It was just passed and never used via that constructor.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5852">SOLR-5852</a>: Add CloudSolrClient helper method to connect to a ZK ensemble.
<br /><span class="attrib">(Varun Thacker, Furkan KAMACI,
Shawn Heisey, Mark Miller, Erick Erickson via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6592">SOLR-6592</a>: Avoid waiting for the leader to see the down state if that leader is not live.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6641">SOLR-6641</a>: SystemInfoHandler should include the zkHost the node is using (when running in solrcloud mode)
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6295">SOLR-6295</a>: Fix child filter query creation to never match parent docs in SolrExampleTests.
<br /><span class="attrib">(Varun Thacker, Mikhail Khludnev via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6578">SOLR-6578</a>: Update commons-io dependency to the latest 2.4 version
<br /><span class="attrib">(Steve Rowe, Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6651">SOLR-6651</a>: Fix wrong timeout logged in waitForReplicasToComeUp.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6698">SOLR-6698</a>: Solr is not consistent wrt ZkCredentialsProvider / ZkCredentialProvider.
References to zkCredentialProvider in System properties or configurations should be
changed to zkCredentialsProvider.
<br /><span class="attrib">(Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6715">SOLR-6715</a>: ZkSolrResourceLoader constructors accept a parameter called 'collection'
but it should be 'configName'.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6697">SOLR-6697</a>: bin/solr start scripts allow setting SOLR_OPTS in solr.in.*
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6739">SOLR-6739</a>: Admin UI - Sort list of command line args
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6740">SOLR-6740</a>: Admin UI - improve Files View
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6570">SOLR-6570</a>: Run SolrZkClient session watch asynchronously.
<br /><span class="attrib">(Ramkumar Aiyengar via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6747">SOLR-6747</a>: Add an optional caching option as a workaround for <a href="http://issues.apache.org/jira/browse/SOLR-6586">SOLR-6586</a>.
<br /><span class="attrib">(Mark Miller, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6459">SOLR-6459</a>: Normalize logging of operations in Overseer and log current queue size.
<br /><span class="attrib">(Ramkumar Aiyengar, shalin via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6754">SOLR-6754</a>: ZkController.publish doesn't use the updateLastState parameter.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6751">SOLR-6751</a>: Exceptions thrown in the analysis chain in DirectUpdateHandler2
should return a BAD_REQUEST status
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6792">SOLR-6792</a>: deprecate AdminHandlers, Clean up solrconfig.xml of
unnecessary plugin definitions, implicit registration of /replication,
/get and /admin/* handlers
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5864">SOLR-5864</a>: Remove previous SolrCore as parameter on reload.
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4792">SOLR-4792</a>: Stop shipping a .war.
<br /><span class="attrib">(Robert Muir, Ramkumar Aiyengar, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6799">SOLR-6799</a>: Update Saxon-HE to 9.6.0-2.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6454">SOLR-6454</a>: Suppress EOFExceptions in SolrDispatchFilter.
<br /><span class="attrib">(Ramkumar Aiyengar via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6370">SOLR-6370</a>: Allow tests to report/fail on many ZK watches being parallelly
requested on the same data
<br /><span class="attrib">(Ramkumar Aiyengar via Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6752">SOLR-6752</a>: Buffer Cache allocate/lost metrics should be exposed.
<br /><span class="attrib">(Mike Drob via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6560">SOLR-6560</a>: Purge termIndexInterval from example/test configs
<br /><span class="attrib">(Tom Burton-West, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6773">SOLR-6773</a>: Remove the multicore example as the DIH and cloud examples
illustrate multicore behavior
<br /><span class="attrib">(hossman, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6834">SOLR-6834</a>: Warn if checkIntegrityAtMerge is configured.  This option is no longer meaningful
since the checks are done automatically at a very low level in the segment merging.
This warning will become an error in Solr 6.0.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6833">SOLR-6833</a>: Examples started with bin/solr -e should use a solr.solr.home directory under
the example directory instead of server/solr.
<br /><span class="attrib">(Alexandre Rafalovitch, Anshum Gupta, hossman,
Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6826">SOLR-6826</a>: fieldType capitalization is not consistent with the rest of case-sensitive field names.
<br /><span class="attrib">(Alexandre Rafalovitch via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6849">SOLR-6849</a>: HttpSolrClient.RemoteSolrException reports the URL of the remote
host where the exception occurred.
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6852">SOLR-6852</a>: SimplePostTool no longer defaults to collection1 making core/collection/update URL
mandatory.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6861">SOLR-6861</a>: post.sh from exampledocs directory has been removed as there no longer is a default update
URL.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5922">SOLR-5922</a>: Add support for adding core properties to SolrJ Collection Admin Request calls.
<br /><span class="attrib">(Varun Thacker via Anshum Gupta)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6523">SOLR-6523</a>: Provide SolrJ support for specifying stateFormat while creating Collections.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6881">SOLR-6881</a>: Add split.key support for SPLITSHARD via SolrJ
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6883">SOLR-6883</a>: CLUSTERPROP API switch case does not call break.
<br /><span class="attrib">(Varun Thacker via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6882">SOLR-6882</a>: Misspelled collection API actions in ReplicaMutator exception messages.
<br /><span class="attrib">(Steve Rowe via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6867">SOLR-6867</a>: SolrCLI should check for existence before creating a new core/collection,
more user-friendly error reporting (no stack trace), and the ability to pass a
directory when using bin/solr to create a core or collection
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6885">SOLR-6885</a>: Add core name to RecoveryThread name.
<br /><span class="attrib">(Christine Poerschke via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6855">SOLR-6855</a>: bin/solr -e dih launches, but has some path cruft issues preventing some of the
imports don't work
<br /><span class="attrib">(Hossman, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3711">SOLR-3711</a>: Truncate long strings in /browse field facets
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6876">SOLR-6876</a>: Remove unused legacy scripts.conf
<br /><span class="attrib">(Alexandre Rafalovitch via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6896">SOLR-6896</a>: Speed up tests by dropping SolrJettyRunner thread max idle time
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6448">SOLR-6448</a>: Add SolrJ support for all current Collection API calls.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li>Fixed a typo in various solrconfig.xml files.
<br /><span class="attrib">(sdumitriu)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6895">SOLR-6895</a>: SolrServer classes are renamed to *SolrClient.  The existing
classes still exist, but are deprecated.
<br /><span class="attrib">(Alan Woodward, Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6483">SOLR-6483</a>: Refactor some methods in MiniSolrCloudCluster tests
<br /><span class="attrib">(Steve Davids via
Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6906">SOLR-6906</a>: Fix typo bug in DistributedDebugComponentTest.testCompareWithNonDistributedRequest
<br /><span class="attrib">(Ramkumar Aiyengar via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6905">SOLR-6905</a>: Test pseudo-field retrieval in distributed search.
<br /><span class="attrib">(Ramkumar Aiyengar via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6897">SOLR-6897</a>: Nuke non-NRT mode from code and configuration.
<br /><span class="attrib">(Hossman, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6830">SOLR-6830</a>: Update Woodstox to 4.4.1 and StAX to 3.1.4.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6918">SOLR-6918</a>: No need to log exceptions (as warn) generated when creating MBean stats if
the core is shutting down
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6932">SOLR-6932</a>: All HttpClient ConnectionManagers and SolrJ clients should always be shutdown
in tests and regular code.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1723">SOLR-1723</a>: VelocityResponseWriter improvements
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6324">SOLR-6324</a>: Set finite default timeouts for select and update.
<br /><span class="attrib">(Ramkumar Aiyengar via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6952">SOLR-6952</a>: bin/solr create action should copy configset directory instead of reusing
an existing configset in ZooKeeper by default
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6933">SOLR-6933</a>: bin/solr should provide a single "create" action that creates a core
or collection depending on whether Solr is running in standalone or cloud mode
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6496">SOLR-6496</a>: LBHttpSolrClient stops server retries after the timeAllowed threshold is met.
<br /><span class="attrib">(Steve Davids, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6904">SOLR-6904</a>: Removed deprecated Circle &amp; rect syntax. See upgrading notes.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6943">SOLR-6943</a>: HdfsDirectoryFactory should fall back to system props for most of it's config
if it is not found in solrconfig.xml.
<br /><span class="attrib">(Mark Miller, Mike Drob)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6926">SOLR-6926</a>: "ant example" makes no sense anymore - should be "ant server"
<br /><span class="attrib">(Ramkumar Aiyengar, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6982">SOLR-6982</a>: bin/solr and SolrCLI should support SSL-related Java System Properties
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6981">SOLR-6981</a>: Add a delete action to the bin/solr script to allow deleting of cores /
collections (with delete collection config directory from ZK)
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6840">SOLR-6840</a>: Remove support for old-style solr.xml
<br /><span class="attrib">(Erick Erickson, Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6976">SOLR-6976</a>: Remove classes and methods deprecated in 4.x
<br /><span class="attrib">(Alan Woodward, Noble
Paul, Chris Hostetter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6521">SOLR-6521</a>: CloudSolrClient should synchronize cache cluster state loading
<br /><span class="attrib">( Noble Paul, Jessica Cheng Mallet)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7018">SOLR-7018</a>: bin/solr stop should stop if there is only one node running or generate
an error message prompting the user to be explicit about which of multiple nodes
to stop using the -p or -all options
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5918">SOLR-5918</a>: ant clean does not remove ZooKeeper data
<br /><span class="attrib">(Varun Thacker, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7020">SOLR-7020</a>: 'bin/solr start' should automatically use an SSL-enabled alternate jetty
configuration file when in SSL mode, eliminating the need for manual jetty.xml edits.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6227">SOLR-6227</a>: Avoid spurious failures of ChaosMonkeySafeLeaderTest by ensuring there's
at least one jetty to kill.
<br /><span class="attrib">(shalin)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.10.4" href="javascript:toggleList('v4.10.4')">Release 4.10.4  [2015-03-03]</a></h3>
<ul id="v4.10.4.list">
  <li><a id="v4.10.4.bug_fixes" href="javascript:toggleList('v4.10.4.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(23)
    <ol id="v4.10.4.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6931">SOLR-6931</a>: We should do a limited retry when using HttpClient.
<br /><span class="attrib">(Mark Miller, Hrishikesh Gadre, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6780">SOLR-6780</a>: Fixed a bug in how default/appends/invariants params were affecting the set
of all "keys" found in the request parameters, resulting in some key=value param pairs
being duplicated.  This was noticeably affecting some areas of the code where iteration
was done over the set of all params:
<ul class="bulleted-list">
<li class="bulleted-list">
literal.* in ExtractingRequestHandler
</li>
<li class="bulleted-list">
facet.* in FacetComponent
</li>
<li class="bulleted-list">
spellcheck.[dictionary name].* and spellcheck.collateParam.* in SpellCheckComponent
</li>
<li class="bulleted-list">
olap.* in AnalyticsComponent
</li>
</ul>
<span class="attrib">(Alexandre Rafalovitch &amp; hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6426">SOLR-6426</a>: SolrZkClient clean can fail due to a race with children nodes.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6457">SOLR-6457</a>: LBHttpSolrClient: ArrayIndexOutOfBoundsException risk if counter overflows
<br /><span class="attrib">(longkey via Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6481">SOLR-6481</a>: CLUSTERSTATUS should check if the node hosting a replica is live when
reporting replica status
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6631">SOLR-6631</a>: DistributedQueue spinning on calling zookeeper getChildren()
<br /><span class="attrib">(Jessica Cheng Mallet, Mark Miller, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6579">SOLR-6579</a>: SnapPuller Replication blocks clean shutdown of tomcat
<br /><span class="attrib">(Philip Black-Knight via Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6763">SOLR-6763</a>: Shard leader elections should not persist across session expiry
<br /><span class="attrib">(Alan Woodward, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3881">SOLR-3881</a>: Avoid OOMs in LanguageIdentifierUpdateProcessor:
<ul class="bulleted-list">
<li class="bulleted-list">
Added langid.maxFieldValueChars and langid.maxTotalChars params to limit
  input, by default 10k and 20k chars, respectively.
</li>
<li class="bulleted-list">
Moved input concatenation to Tika implementation; the langdetect
  implementation instead appends each input piece via the langdetect API.
</li>
</ul>
<span class="attrib">(Vitaliy Zhovtyuk, Tomás Fernández Löbbe, Rob Tulloh, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6850">SOLR-6850</a>: AutoAddReplicas makes a call to wait to see live replicas that times
out after 30 milliseconds instead of 30 seconds.
<br /><span class="attrib">(Varun Thacker via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6839">SOLR-6839</a>: Direct routing with CloudSolrServer will ignore the Overwrite document option.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7139">SOLR-7139</a>: Fix SolrContentHandler for TIKA to ignore multiple startDocument events.
<br /><span class="attrib">(Chris A. Mattmann, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6941">SOLR-6941</a>: DistributedQueue#containsTaskWithRequestId can fail with NPE.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7011">SOLR-7011</a>: Delete collection returns before collection is actually removed.
<br /><span class="attrib">(Christine Poerschke via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6856">SOLR-6856</a>: Restore ExtractingRequestHandler's ability to capture all HTML tags when
parsing (X)HTML.
<br /><span class="attrib">(hossman, Uwe Schindler, ehatcher, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6928">SOLR-6928</a>: solr.cmd stop works only in english
<br /><span class="attrib">(john.work, Jan Høydahl, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7038">SOLR-7038</a>: Validate the presence of configset before trying to create a collection.
<br /><span class="attrib">(Anshum Gupta, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7016">SOLR-7016</a>: Fix bin\solr.cmd to work in a directory with spaces in the name.
<br /><span class="attrib">(Timothy Potter, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6693">SOLR-6693</a>: bin\solr.cmd doesn't support 32-bit JRE/JDK running on Windows due to
parenthesis in JAVA_HOME.
<br /><span class="attrib">(Timothy Potter, Christopher Hewitt, Jan Høydahl)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7067">SOLR-7067</a>: bin/solr won't run under bash 4.2+.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7033">SOLR-7033</a>, <a href="http://issues.apache.org/jira/browse/SOLR-5961">SOLR-5961</a>: RecoveryStrategy should not publish any state when
closed / cancelled and there should always be a pause between recoveries
even when recoveries are rapidly stopped and started as well as when a
node attempts to become the leader for a shard.
<br /><span class="attrib">(Mark Miller, Maxim Novikov)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6847">SOLR-6847</a>: LeaderInitiatedRecoveryThread compares wrong replica's state with lirState.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7128">SOLR-7128</a>: Two phase distributed search is fetching extra fields in GET_TOP_IDS phase.
<br /><span class="attrib">(Pablo Queixalos, shalin)</span></li>
    </ol>
  </li>
  <li><a id="v4.10.4.other_changes" href="javascript:toggleList('v4.10.4.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v4.10.4.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-7147">SOLR-7147</a>: Introduce new TrackingShardHandlerFactory for monitoring what requests
are sent to shards during tests.
<br /><span class="attrib">(hossman, shalin)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.10.3" href="javascript:toggleList('v4.10.3')">Release 4.10.3  [2014-12-29]</a></h3>
<ul id="v4.10.3.list">
  <li><a id="v4.10.3.bug_fixes" href="javascript:toggleList('v4.10.3.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(19)
    <ol id="v4.10.3.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6696">SOLR-6696</a>: bin/solr start script should not enable autoSoftCommit by default
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6704">SOLR-6704</a>: TrieDateField type drops schema properties in branch 4.10
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6085">SOLR-6085</a>: Suggester crashes when prefixToken is longer than surface form
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6323">SOLR-6323</a>: ReRankingQParserPlugin cleaner paging and fix bug with fuzzy, range and other queries
that need to be re-written.
<br /><span class="attrib">(Adair Kovac, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6684">SOLR-6684</a>: Fix-up /export JSON.
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6781">SOLR-6781</a>: BBoxField didn't support dynamic fields.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6784">SOLR-6784</a>: BBoxField's 'score' mode should have been optional.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6510">SOLR-6510</a>: The collapse QParser would throw a NPE when used on a DocValues field on
an empty segment/index.
<br /><span class="attrib">(Christine Poerschke, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2927">SOLR-2927</a>: Solr does not unregister all mbeans upon exception in constructor
causing memory leaks.
<br /><span class="attrib">(tom liu, Sharath Babu, Cyrille Roy, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6685">SOLR-6685</a>: ConcurrentModificationException in Overseer Status API.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6706">SOLR-6706</a>: /update/json/docs throws RuntimeException if a nested structure
contains a non-leaf float field
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6610">SOLR-6610</a>: Slow startup of new clusters because ZkController.publishAndWaitForDownStates
always times out.
<br /><span class="attrib">(Jessica Cheng Mallet, shalin, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6662">SOLR-6662</a>: better validation when parsing command-line options that expect a value
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6732">SOLR-6732</a>: Fix handling of leader-initiated recovery state was String in older versions
and is now a JSON map, caused backwards compatibility issues when doing rolling upgrades of
a live cluster while indexing
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6705">SOLR-6705</a>: Better strategy for dealing with JVM specific options in the start
scripts; remove -XX:+AggressiveOpts and only set -XX:-UseSuperWord for Java 1.7u40
to u51.
<br /><span class="attrib">(Uwe Schindler, janhoy, hossman, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6726">SOLR-6726</a>: better strategy for selecting the JMX RMI port based on SOLR_PORT in bin/solr
script
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6795">SOLR-6795</a>: distrib.singlePass returns score even though not asked for.
<br /><span class="attrib">(Per Steffensen via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6796">SOLR-6796</a>: distrib.singlePass does not return correct set of fields for multi-fl-parameter
requests.
<br /><span class="attrib">(Per Steffensen via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6776">SOLR-6776</a>: Transaction log was not flushed at the end of update requests with softCommit
specified, which could lead to data loss if the server were killed immediately after the
update finished.
<br /><span class="attrib">(Jeffery Yuan via yonik)</span></li>
    </ol>
  </li>
  <li><a id="v4.10.3.other_changes" href="javascript:toggleList('v4.10.3.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v4.10.3.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6661">SOLR-6661</a>: Adjust all example configurations to allow overriding error-prone
relative paths for solrconfig.xml &lt;lib&gt; references with solr.install.dir
system property; bin/solr scripts will set it appropriately.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6694">SOLR-6694</a>: Auto-detect JAVA_HOME using the Windows registry if it is not set
<br /><span class="attrib">(janhoy, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6653">SOLR-6653</a>: bin/solr script should return error code &gt;0 when something fails
<br /><span class="attrib">(janhoy, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6829">SOLR-6829</a>: Added getter/setter for lastException in DIH's ContextImpl
<br /><span class="attrib">(ehatcher)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.10.2" href="javascript:toggleList('v4.10.2')">Release 4.10.2  [2014-10-31]</a></h3>
<ul id="v4.10.2.list">
  <li><a id="v4.10.2.bug_fixes" href="javascript:toggleList('v4.10.2.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(10)
    <ol id="v4.10.2.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6509">SOLR-6509</a>: Solr start scripts interactive mode doesn't honor -z argument
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6511">SOLR-6511</a>: Fencepost error in LeaderInitiatedRecoveryThread
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6530">SOLR-6530</a>: Commits under network partitions can put any node in down state.
<br /><span class="attrib">(Ramkumar Aiyengar, Alan Woodward, Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6573">SOLR-6573</a>: QueryElevationComponent now works with localParams in the query
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6524">SOLR-6524</a>: Collections left in recovery state after node restart because recovery sleep time
increases exponentially between retries.
<br /><span class="attrib">(Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6587">SOLR-6587</a>: Misleading exception when creating collections in SolrCloud with bad configuration.
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6452">SOLR-6452</a>: StatsComponent's stat 'missing' will work on fields with docValues=true and
indexed=false
<br /><span class="attrib">(Xu Zhang via Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6646">SOLR-6646</a>: bin/solr start script fails to detect solr on non-default port and then after
30s tails wrong log file
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6647">SOLR-6647</a>: Bad error message when missing resource from ZK when parsing Schema
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6545">SOLR-6545</a>: Query field list with wild card on dynamic field fails.
<br /><span class="attrib">(Burke Webster, Xu Zhang, shalin)</span></li>
    </ol>
  </li>
  <li><a id="v4.10.2.other_changes" href="javascript:toggleList('v4.10.2.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v4.10.2.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6550">SOLR-6550</a>: Provide simple mechanism for passing additional metadata / context about a server-side
 SolrException back to the client-side
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6486">SOLR-6486</a>: solr start script can have a debug flag option; use -a to set arbitrary options
<br /><span class="attrib">(Noble Paul, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6549">SOLR-6549</a>: bin/solr script should support a -s option to set the -Dsolr.solr.home property.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6529">SOLR-6529</a>: Stop command in the start scripts should only stop the instance that it had started.
<br /><span class="attrib">(Varun Thacker, Timothy Potter)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.10.1" href="javascript:toggleList('v4.10.1')">Release 4.10.1  [2014-09-29]</a></h3>
<ul id="v4.10.1.list">
  <li><a id="v4.10.1.bug_fixes" href="javascript:toggleList('v4.10.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v4.10.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6425">SOLR-6425</a>: If using the new global hdfs block cache option, you can end up
reading corrupt files on file name reuse.
<br /><span class="attrib">(Mark Miller, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5814">SOLR-5814</a>: CoreContainer reports incorrect &amp; misleading path for solrconfig.xml
when there are loading problems
<br /><span class="attrib">(Pradeep via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6024">SOLR-6024</a>: Fix StatsComponent when using docValues="true" multiValued="true"
<br /><span class="attrib">(Vitaliy Zhovtyuk &amp; Tomas Fernandez-Lobbe via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6493">SOLR-6493</a>: Fix fq exclusion via "ex" local param in multivalued stats.field
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6447">SOLR-6447</a>: bin/solr script needs to pass -DnumShards=1 for boostrapping collection1
when starting Solr in cloud mode.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6501">SOLR-6501</a>: Binary Response Writer does not return wildcard fields.
<br /><span class="attrib">(Mike Hugo, Constantin Mitocaru, sarowe, shalin)</span></li>
    </ol>
  </li>
  <li><a id="v4.10.1.other_changes" href="javascript:toggleList('v4.10.1.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v4.10.1.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6503">SOLR-6503</a>: Removed support for parsing netcdf files in Solr Cell because
of license issues. If you need support for this format, download the parser
JAR yourself (version 4.2) and add it to contrib/extraction/lib folder:
<a href="http://www.unidata.ucar.edu/software/thredds/current/netcdf-java/">http://www.unidata.ucar.edu/software/thredds/current/netcdf-java/</a>
<br /><span class="attrib">(Uwe Schindler)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.10.0" href="javascript:toggleList('v4.10.0')">Release 4.10.0  [2014-09-03]</a></h3>
<ul id="v4.10.0.list">
      <li>Consult the <a href="https://lucene.apache.org/core/9_3_0/changes/Changes.html">LUCENE_CHANGES.txt</a> file for additional, low level, changes in this release
</li>
  <li><a id="v4.10.0.versions_of_major_components" href="javascript:toggleList('v4.10.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.10.0.versions_of_major_components.list">
      <li>Apache Tika 1.5
<br /><span class="attrib">(with upgraded Apache POI 3.10.1)</span></li>
      <li>Carrot2 3.9.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
    </ol>
  </li>
  <li><a id="v4.10.0.upgrading_from_solr_4.9" href="javascript:toggleList('v4.10.0.upgrading_from_solr_4.9')">Upgrading from Solr 4.9</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v4.10.0.upgrading_from_solr_4.9.list">
      <li>In Solr 3.6, all primitive field types were changed to omit norms by default when the
schema version is 1.5 or greater (<a href="http://issues.apache.org/jira/browse/SOLR-3140">SOLR-3140</a>), but TrieDateField's default was mistakenly
not changed.  As of Solr 4.10, TrieDateField omits norms by default (see <a href="http://issues.apache.org/jira/browse/SOLR-6211">SOLR-6211</a>).
<p>
</li>
      <li>Creating a SolrCore via CoreContainer.create() no longer requires an
additional call to CoreContainer.register() to make it available to clients
(see <a href="http://issues.apache.org/jira/browse/SOLR-6170">SOLR-6170</a>).
<p>
</li>
      <li>CoreContainer.remove() has been removed.  You should now use CoreContainer.unload() to
delete a SolrCore (see <a href="http://issues.apache.org/jira/browse/SOLR-6232">SOLR-6232</a>).
<p>
</li>
      <li>solr.xml parsing has been improved to better account for the expected data types of
various options.  As part of this fix, additional error checking has also been added to
provide errors in the event of duplicated options, or unknown option names that may
indicate a typo.  Users who have modified their solr.xml in the past and now upgrade may
get errors on startup if they have typos or unexpected options specified in their solr.xml
file.  (See <a href="http://issues.apache.org/jira/browse/SOLR-5746">SOLR-5746</a> for more information.)
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.10.0.new_features" href="javascript:toggleList('v4.10.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(22)
    <ol id="v4.10.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6196">SOLR-6196</a>: The overseerstatus collection API instruments amILeader and ZK state update calls.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6069">SOLR-6069</a>: The 'clusterstatus' API should return 'roles' information.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6044">SOLR-6044</a>: The 'clusterstatus' API should return live_nodes as well.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5768">SOLR-5768</a>: Add a distrib.singlePass parameter to make EXECUTE_QUERY phase fetch all fields
and skip GET_FIELDS.
<br /><span class="attrib">(Gregg Donovan, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6183">SOLR-6183</a>: New spatial BBoxField for indexing rectangles with search support for most predicates.
It includes extra score relevancy modes in addition to distance: score=overlapRatio|area|area2D.
<br /><span class="attrib">(David Smiley, Ryan McKinley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6232">SOLR-6232</a>: You can now unload/delete cores that have failed to initialize
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2245">SOLR-2245</a>: Improvements to the MailEntityProcessor:
<ul class="bulleted-list">
<li class="bulleted-list">
Support for server-side date filtering if using GMail; requires new
  dependency on the Sun Gmail Java mail extensions
</li>
<li class="bulleted-list">
Support for using the last_index_time from the previous run as the
  value for the fetchMailsSince filter.
</li>
</ul>
<span class="attrib">(Peter Sturge, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6258">SOLR-6258</a>: Added onRollback event handler hook to Data Import Handler (DIH).
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6263">SOLR-6263</a>: Add DIH handler name to variable resolver as ${dih.handlerName}.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6216">SOLR-6216</a>: Better faceting for multiple intervals on DV fields
<br /><span class="attrib">(Tomas Fernandez-Lobbe
via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6267">SOLR-6267</a>: Let user override Interval Faceting key with LocalParams
<br /><span class="attrib">(Tomas Fernandez_Lobbe
via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6020">SOLR-6020</a>: Auto-generate a unique key in schema-less example if data does not have an id field.
The UUIDUpdateProcessor was improved to not require a field name in configuration and generate
a UUID into the unique Key field.
<br /><span class="attrib">(Vitaliy Zhovtyuk, hossman, Steve Rowe, Erik Hatcher, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6294">SOLR-6294</a>: <a href="http://issues.apache.org/jira/browse/SOLR-6437">SOLR-6437</a>: Remove the restriction of adding json by only wrapping it in an array in a
new path /update/json/docs
<br /><span class="attrib">(Noble Paul , hossman, Yonik Seeley, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6302">SOLR-6302</a>: UpdateRequestHandlers are registered implicitly /update ,
/update/json, /update/csv , /update/json/docs
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6318">SOLR-6318</a>: New "terms" QParser for efficiently filtering documents by a list of values. For
many values, it's more appropriate than a boolean query.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6283">SOLR-6283</a>: Add support for Interval Faceting in SolrJ.
<br /><span class="attrib">(Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6304">SOLR-6304</a> : JsonLoader should be able to flatten an input JSON to multiple docs
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2894">SOLR-2894</a>: Distributed query support for facet.pivot
<br /><span class="attrib">(Dan Cooper, Erik Hatcher, Chris Russell,
Andrew Muldowney, Brett Lucey, Mark Miller, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5656">SOLR-5656</a>: Add autoAddReplicas feature for shared file systems.
<br /><span class="attrib">(Mark Miller, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5244">SOLR-5244</a>: Exporting Full Sorted Result Sets
<br /><span class="attrib">(Erik Hatcher, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3617">SOLR-3617</a>: bin/solr and bin/solr.cmd scripts for starting, stopping, and running Solr examples
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6233">SOLR-6233</a>: Provide basic command line tools for checking Solr status and health.
<br /><span class="attrib">(Timothy Potter)</span></li>
    </ol>
  </li>
  <li><a id="v4.10.0.bug_fixes" href="javascript:toggleList('v4.10.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(38)
    <ol id="v4.10.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6095">SOLR-6095</a> : SolrCloud cluster can end up without an overseer with overseer roles
<br /><span class="attrib">(Noble Paul, Shalin Mangar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6165">SOLR-6165</a>: DataImportHandler should write BigInteger and BigDecimal values as strings.
<br /><span class="attrib">(Anand Sengamalai via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6189">SOLR-6189</a>: Avoid publishing the state as down if the node is not live when determining
if a replica should be in leader-initiated recovery.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6197">SOLR-6197</a>: The MIGRATE collection API doesn't work when legacyCloud=false is set
in cluster properties.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6206">SOLR-6206</a>: The migrate collection API fails on retry if temp collection already exists.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6072">SOLR-6072</a>: The 'deletereplica' API should remove the data and instance directory by default.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6211">SOLR-6211</a>: TrieDateField doesn't default to omitNorms=true.
<br /><span class="attrib">(Michael Ryan, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6159">SOLR-6159</a>: A ZooKeeper session expiry during setup can keep LeaderElector from joining elections.
<br /><span class="attrib">(Steven Bower, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6223">SOLR-6223</a>: SearchComponents may throw NPE when using shards.tolerant and there is a failure
in the 'GET_FIELDS/GET_HIGHLIGHTS/GET_DEBUG' phase.
<br /><span class="attrib">(Tomás Fernández Löbbe via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6180">SOLR-6180</a>: Callers of ManagedIndexSchema mutators should hold the schemaUpdateLock.
<br /><span class="attrib">(Gregory Chanan via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6229">SOLR-6229</a>: Make SuggestComponent return 400 instead of 500 for bad dictionary selected in request.
<br /><span class="attrib">(Tomás Fernández Löbbe via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6235">SOLR-6235</a>: Leader initiated recovery should use coreNodeName instead of coreName to avoid marking
all replicas having common core name as down.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6208">SOLR-6208</a>: JettySolrRunner QueuedThreadPool's configuration code is never executed.
<br /><span class="attrib">(dweiss via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6245">SOLR-6245</a>: Socket and Connection configuration are ignored in HttpSolrServer when passing in HttpClient.
<br /><span class="attrib">(Patanachai Tangchaisin, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6137">SOLR-6137</a>: Schemaless concurrency improvements:
<ul class="bulleted-list">
<li class="bulleted-list">
Fixed an NPE when reloading a managed schema with no dynamic copy fields
</li>
<li class="bulleted-list">
Moved parsing and schema fields addition to after the distributed phase
</li>
<li class="bulleted-list">
AddSchemaFieldsUpdateProcessor now uses a fixed schema rather than always
  retrieving the latest, and holds the schema update lock through the entire
  schema swap-out process
</li>
</ul>
<span class="attrib">(Gregory Chanan via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6136">SOLR-6136</a>: ConcurrentUpdateSolrServer includes a Spin Lock
<br /><span class="attrib">(Brandon Chapman, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6257">SOLR-6257</a>: More than two "!"-s in a doc ID throws an
ArrayIndexOutOfBoundsException when using the composite id router.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5746">SOLR-5746</a>: Bugs in solr.xml parsing have been fixed to more correctly deal with the various
datatypes of options people can specify, additional error handling of duplicated/unidentified
options has also been added.
<br /><span class="attrib">(Maciej Zasada, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5847">SOLR-5847</a>: Fixed data import abort button in admin UI.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6264">SOLR-6264</a>: Distributed commit and optimize are executed serially across all
replicas.
<br /><span class="attrib">(Mark Miller, Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6163">SOLR-6163</a>: Correctly decode special characters in managed stopwords and synonym endpoints.
<br /><span class="attrib">(Vitaliy Zhovtyuk, Timo Schmidt via Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6336">SOLR-6336</a>: DistributedQueue can easily create too many ZooKeeper Watches.
<br /><span class="attrib">(Ramkumar Aiyengar via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6347">SOLR-6347</a>: DELETEREPLICA throws a NPE while removing the last Replica in a Custom
sharded collection.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6062">SOLR-6062</a>: Fix undesirable edismax query parser effect (introduced in <a href="http://issues.apache.org/jira/browse/SOLR-2058">SOLR-2058</a>) in how phrase queries
generated from pf, pf2, and pf3 are merged into the main query.
<br /><span class="attrib">(Michael Dodsworth via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6372">SOLR-6372</a>: HdfsDirectoryFactory should use supplied Configuration for communicating with secure kerberos.
<br /><span class="attrib">(Gregory Chanan via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6284">SOLR-6284</a>: Fix NPE in OCP when non-existent sliceId is used for a
deleteShard request
<br /><span class="attrib">(Ramkumar Aiyengar via Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6380">SOLR-6380</a>: Added missing context info to log message if IOException occurs in processing tlog
<br /><span class="attrib">(Steven Bower via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6383">SOLR-6383</a>: RegexTransformer returns no results after replaceAll if regex does not match a value.
<br /><span class="attrib">(Alexander Kingson, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6387">SOLR-6387</a>: Add better error messages throughout Solr and supply a work around for
Java bug #8047340 to SystemInfoHandler: On Turkish default locale, some JVMs fail
to fork on MacOSX, BSD, AIX, and Solaris platforms.
<br /><span class="attrib">(hossman, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6338">SOLR-6338</a>: coreRootDirectory requires trailing slash, or SolrCloud cores are created in wrong location.
<br /><span class="attrib">(Primož Skale via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6314">SOLR-6314</a>: Facet counts duplicated in the response if specified more than once on the request.
<br /><span class="attrib">(Vamsee Yarlagadda, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6378">SOLR-6378</a>: Fixed example/example-DIH/ issues with "tika" and "solr" configurations, and tidied up README.txt
<br /><span class="attrib">(Daniel Shchyokin via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6393">SOLR-6393</a>: TransactionLog replay performance on HDFS is very poor.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6268">SOLR-6268</a>: HdfsUpdateLog has a race condition that can expose a closed HDFS FileSystem instance and should
close its FileSystem instance if either inherited close method is called.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6089">SOLR-6089</a>: When using the HDFS block cache, when a file is deleted, its underlying data entries in the
block cache are not removed, which is a problem with the global block cache option.
<br /><span class="attrib">(Mark Miller, Patrick Hunt)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6402">SOLR-6402</a>: OverseerCollectionProcessor should not exit for ZooKeeper ConnectionLoss.
<br /><span class="attrib">(Jessica Cheng via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6405">SOLR-6405</a>: ZooKeeper calls can easily not be retried enough on ConnectionLoss.
<br /><span class="attrib">(Jessica Cheng, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6410">SOLR-6410</a>: Ensure all Lookup instances are closed via CloseHook
<br /><span class="attrib">(hossman, Areek Zillur, Ryan Ernst, Dawid Weiss)</span></li>
    </ol>
  </li>
  <li><a id="v4.10.0.optimizations" href="javascript:toggleList('v4.10.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v4.10.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-5803">LUCENE-5803</a>: Solr's schema now uses DelegatingAnalyzerWrapper. This uses less heap
for cached TokenStreamComponents because it caches per FieldType not per Field, so
indexes with many fields of same type just use one TokenStream per thread.
<br /><span class="attrib">(Shay Banon, Uwe Schindler, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6259">SOLR-6259</a>: Reduce CPU usage by avoiding repeated costly calls to Document.getField inside
DocumentBuilder.toDocument for use-cases with large number of fields and copyFields.
<br /><span class="attrib">(Steven Bower via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5968">SOLR-5968</a>: BinaryResponseWriter fetches unnecessary stored fields when only pseudo-fields
are requested.
<br /><span class="attrib">(Gregg Donovan via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6261">SOLR-6261</a>: Run ZooKeeper watch event callbacks in parallel to the ZooKeeper
event thread.
<br /><span class="attrib">(Ramkumar Aiyengar via Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v4.10.0.other_changes" href="javascript:toggleList('v4.10.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(33)
    <ol id="v4.10.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6173">SOLR-6173</a>: Fixed wrong failure message in TestDistributedSearch.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5902">SOLR-5902</a>: Corecontainer level mbeans are not exposed
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6194">SOLR-6194</a>: Allow access to DataImporter and DIHConfiguration from DataImportHandler.
<br /><span class="attrib">(Aaron LaBella via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6170">SOLR-6170</a>: CoreContainer.preRegisterInZk() and CoreContainer.register() commands
are merged into CoreContainer.create().
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6171">SOLR-6171</a>: Remove unused SolrCores coreNameToOrig map
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5596">SOLR-5596</a>: Set system property zookeeper.forceSync=no for Solr test cases.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2853">SOLR-2853</a>: Add a unit test for the case when "spellcheck.maxCollationTries=0"
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6240">SOLR-6240</a>: Removed unused coreName parameter in ZkStateReader.getReplicaProps.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6241">SOLR-6241</a>: Harden the HttpPartitionTest.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6228">SOLR-6228</a>: Fixed bug in TestReplicationHandler.doTestIndexAndConfigReplication.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6120">SOLR-6120</a>: On Windows, when the war is not extracted, the zkcli.bat script
will print a helpful message indicating that the war must be unzipped instead
of a java error about a missing class.
<br /><span class="attrib">(shalin, Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6179">SOLR-6179</a>: Better strategy for handling empty managed data to avoid spurious
warning messages in the logs.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6232">SOLR-6232</a>: CoreContainer.remove() replaced with CoreContainer.unload().  A call to
unload will also close the core.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3893">SOLR-3893</a>: DIH should not depend on mail.jar,activation.jar
<br /><span class="attrib">(Timothy Potter, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6252">SOLR-6252</a>: A couple of small improvements to UnInvertedField class.
<br /><span class="attrib">(Vamsee Yarlagadda, Gregory Chanan, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3345">SOLR-3345</a>: BaseDistributedSearchTestCase should always ignore QTime.
<br /><span class="attrib">(Vamsee Yarlagadda, Benson Margulies via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6270">SOLR-6270</a>: Increased timeouts for MultiThreadedOCPTest.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6274">SOLR-6274</a>: UpdateShardHandler should log the params used to configure its
HttpClient.
<br /><span class="attrib">(Ramkumar Aiyengar via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6194">SOLR-6194</a>: Opened up "public" access to DataSource, DocBuilder, and EntityProcessorWrapper
in DIH.
<br /><span class="attrib">(Aaron LaBella via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6269">SOLR-6269</a>: Renamed "rollback" to "error" in DIH internals, including renaming onRollback
to onError introduced in <a href="http://issues.apache.org/jira/browse/SOLR-6258">SOLR-6258</a>.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3622">SOLR-3622</a>: When using DIH in SolrCloud-mode, rollback will no longer be called when
an error occurs.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6231">SOLR-6231</a>: Increased timeouts and hardened the RollingRestartTest.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6290">SOLR-6290</a>: Harden and speed up CollectionsAPIAsyncDistributedZkTest.
<br /><span class="attrib">(Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6281">SOLR-6281</a>: Made PostingsSolrHighlighter more configurable via subclass extension.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6309">SOLR-6309</a>: Increase timeouts for AsyncMigrateRouteKeyTest.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2168">SOLR-2168</a>: Added support for facet.missing in /browse field and pivot faceting.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4702">SOLR-4702</a>: Added support for multiple spellcheck collations to /browse UI.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5664">SOLR-5664</a>: Added support for multi-valued field highlighting in /browse UI.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6313">SOLR-6313</a>: Improve SolrCloud cloud-dev scripts.
<br /><span class="attrib">(Mark Miller, Vamsee Yarlagadda)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6360">SOLR-6360</a>: Remove bogus "Content-Charset" header in HttpSolrServer.
<br /><span class="attrib">(Michael Ryan,
Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6362">SOLR-6362</a>: Fix bug in TestSqlEntityProcessorDelta.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6388">SOLR-6388</a>: Force upgrade of Apache POI dependency in Solr Cell to version
3.10.1 to fix CVE-2014-3529 and CVE-2014-3574.
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6391">SOLR-6391</a>: Improve message for CREATECOLLECTION failure due to missing
numShards
<br /><span class="attrib">(Anshum Gupta)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.9.1" href="javascript:toggleList('v4.9.1')">Release 4.9.1  [2014-09-22]</a></h3>
<ul id="v4.9.1.list">
  <li><a id="v4.9.1.versions_of_major_components" href="javascript:toggleList('v4.9.1.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.9.1.versions_of_major_components.list">
      <li>Apache Tika 1.5
<br /><span class="attrib">(with upgraded Apache POI 3.10.1)</span></li>
      <li>Carrot2 3.9.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.9.1.other_changes" href="javascript:toggleList('v4.9.1.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v4.9.1.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6503">SOLR-6503</a>: Removed support for parsing netcdf files in Solr Cell because
of license issues. If you need support for this format, download the parser
JAR yourself (version 4.2) and add it to contrib/extraction/lib folder:
<a href="http://www.unidata.ucar.edu/software/thredds/current/netcdf-java/">http://www.unidata.ucar.edu/software/thredds/current/netcdf-java/</a>
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6388">SOLR-6388</a>: Force upgrade of Apache POI dependency in Solr Cell to version
3.10.1 to fix CVE-2014-3529 and CVE-2014-3574.
<br /><span class="attrib">(Uwe Schindler)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.9.0" href="javascript:toggleList('v4.9.0')">Release 4.9.0  [2014-06-25]</a></h3>
<ul id="v4.9.0.list">
  <li><a id="v4.9.0.versions_of_major_components" href="javascript:toggleList('v4.9.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.9.0.versions_of_major_components.list">
      <li>Apache Tika 1.5
</li>
      <li>Carrot2 3.9.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
    </ol>
  </li>
  <li><a id="v4.9.0.upgrading_from_solr_4.8" href="javascript:toggleList('v4.9.0.upgrading_from_solr_4.8')">Upgrading from Solr 4.8</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v4.9.0.upgrading_from_solr_4.8.list">
      <li>Support for DiskDocValuesFormat (ie: fieldTypes configured with docValuesFormat="Disk")
has been removed due to poor performance.  If you have an existing fieldTypes using
DiskDocValuesFormat please modify your schema.xml to remove the 'docValuesFormat'
attribute, and optimize your index to rewrite it into the default codec, prior to
upgrading to 4.9.  See <a href="http://issues.apache.org/jira/browse/LUCENE-5761">LUCENE-5761</a> for more details.
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.9.0.new_features" href="javascript:toggleList('v4.9.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(10)
    <ol id="v4.9.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5999">SOLR-5999</a>: Add checkIntegrityAtMerge support to solrconfig.xml.
<br /><span class="attrib">(Varun Thacker via Ryan Ernst)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6043">SOLR-6043</a>: Add ability to set http headers in solr response
<br /><span class="attrib">(Tomás Fernández Löbbe via Ryan Ernst)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5973">SOLR-5973</a>: Pluggable Ranking Collectors and Merge Strategies
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6108">SOLR-6108</a>: Add support for 'addreplica' Collection API in SolrJ.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5468">SOLR-5468</a>: Allow a client application to request the minium achieved
replication factor for an update request (single or batch) by sending
an optional parameter "min_rf".
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6088">SOLR-6088</a>: Add query re-ranking with the ReRankingQParserPlugin
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5285">SOLR-5285</a>: Added a new [child ...] DocTransformer for optionally including
Block-Join descendant documents inline in the results of a search.  This works
independent of whether the search itself is a block-join related query and is
supported by he xml, json, and javabin response formats.
<br /><span class="attrib">(Varun Thacker via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6150">SOLR-6150</a>: Add new AnalyticsQuery to support pluggable analytics
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6125">SOLR-6125</a>: Allow SolrIndexWriter to close without waiting for merges
<br /><span class="attrib">(Christine Poerschke via Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6064">SOLR-6064</a>: DebugComponent track output should be returned as a JSON
object rather than a list
<br /><span class="attrib">(Christine Poerschke, Alan Woodward)</span></li>
    </ol>
  </li>
  <li><a id="v4.9.0.bug_fixes" href="javascript:toggleList('v4.9.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(18)
    <ol id="v4.9.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5956">SOLR-5956</a>: Use coreDescriptor.getInstanceDir() instead of getRawInstanceDir()
in the SnapShooter to avoid problems when solr.solr.home is a symbolic link.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6002">SOLR-6002</a>: Fix a couple of ugly issues around SolrIndexWriter close and
rollback as well as how SolrIndexWriter manages its ref counted directory
instance.
<br /><span class="attrib">(Mark Miller, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6015">SOLR-6015</a>: Better way to handle managed synonyms when ignoreCase=true
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6104">SOLR-6104</a>: The 'addreplica' Collection API does not support 'async' parameter.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6101">SOLR-6101</a>: Shard splitting doesn't work when legacyCloud=false is set in
cluster properties.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6111">SOLR-6111</a>: The 'deleteshard' collection API should be able to delete a shard
in 'construction' state.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6118">SOLR-6118</a>: 'expand.sort' didn't support function queries.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6120">SOLR-6120</a>: zkcli.sh should expand solr.war automatically instead of throwing
ClassNotFoundException.
<br /><span class="attrib">(sebastian badea, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6149">SOLR-6149</a>: Specifying the query value without any index value does not work in
Analysis browser.
<br /><span class="attrib">(Aman Tandon, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6145">SOLR-6145</a>: Fix Schema API optimistic concurrency by moving it out of
ManagedIndexSchema.add(Copy)Fields() into the consumers of those methods:
CopyFieldCollectionResource, FieldCollectionResource, FieldResource,
and AddSchemaFieldsUpdateProcessorFactory.
<br /><span class="attrib">(Gregory Chanan, Alexey Serba, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6146">SOLR-6146</a>: Incorrect configuration such as wrong chroot in zk server address can
cause CloudSolrServer to leak resources.
<br /><span class="attrib">(Jessica Cheng, Varun Thacker, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6158">SOLR-6158</a>: Relative configSetBase directories were resolved relative to the
container CWD, rather than solr.home.
<br /><span class="attrib">(Simon Endele, Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5426">SOLR-5426</a>: Fixed a bug in ReverseWildCardFilter that could cause
InvalidTokenOffsetsException when highlighting.
<br /><span class="attrib">(Uwe Schindler, Arun Kumar, via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6175">SOLR-6175</a>: DebugComponent throws NPE on shard exceptions when using shards.tolerant.
<br /><span class="attrib">(Tomás Fernández Löbbe via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6129">SOLR-6129</a>: DateFormatTransformer doesn't resolve dateTimeFormat.
<br /><span class="attrib">(Aaron LaBella via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6164">SOLR-6164</a>: Copy Fields Schema additions are not distributed to other nodes.
<br /><span class="attrib">(Gregory Chanan via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6160">SOLR-6160</a>: An error was sometimes possible if a distributed search included grouping
with group.facet, faceting on facet.field and either facet.range or facet.query.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6182">SOLR-6182</a>: Data stored by the RestManager could not be reloaded after core restart, causing
the core to fail to load; cast the data loaded from storage to the correct data type.
<br /><span class="attrib">(Timothy Potter)</span></li>
    </ol>
  </li>
  <li><a id="v4.9.0.other_changes" href="javascript:toggleList('v4.9.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(19)
    <ol id="v4.9.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5980">SOLR-5980</a>: AbstractFullDistribZkTestBase#compareResults always returns false
for shouldFail.
<br /><span class="attrib">(Mark Miller, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5987">SOLR-5987</a>: Add "collection" to UpdateParams.
<br /><span class="attrib">(Mark Miller, Greg Solovyev)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3862">SOLR-3862</a>: Add remove" as update option for atomically removing a value
from a multivalued field
<br /><span class="attrib">(Jim Musli, Steven Bower, Alaknantha via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5974">SOLR-5974</a>: Remove ShardDoc.score and use parent's ScoreDoc.score.
<br /><span class="attrib">(Tomás Fernández Löbbe via Ryan Ernst)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6025">SOLR-6025</a>: Replace mentions of CommonsHttpSolrServer with HttpSolrServer and
StreamingUpdateSolrServer with ConcurrentUpdateSolrServer.
<br /><span class="attrib">(Ahmet Arslan via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6013">SOLR-6013</a>: Fix method visibility of Evaluator, refactor DateFormatEvaluator for
extensibility.
<br /><span class="attrib">(Aaron LaBella via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6022">SOLR-6022</a>: Deprecate getAnalyzer() in IndexField and FieldType, and add getIndexAnalyzer().
<br /><span class="attrib">(Ryan Ernst)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3671">SOLR-3671</a>: Fix DIHWriter interface usage so users may implement writers that output
documents to a location external to Solr (ex. a NoSql db).
<br /><span class="attrib">(Roman Chyla via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5340">SOLR-5340</a>: Add support for named snapshots
<br /><span class="attrib">(Varun Thacker via Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5495">SOLR-5495</a>: Recovery strategy for leader partitioned from replica case. Hardening
recovery scenarios after the leader receives an error trying to forward an
update request to a replica.
<br /><span class="attrib">(Timothy Potter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6116">SOLR-6116</a>: Refactor DocRouter.getDocRouter to accept routerName as a String.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6026">SOLR-6026</a>: REQUESTSTATUS Collection API now also checks for submitted tasks which are
yet to begin execution.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6067">SOLR-6067</a>: Refactor duplicate Collector code in SolrIndexSearcher
<br /><span class="attrib">(Christine Poerschke via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5940">SOLR-5940</a>: post.jar reports back detailed error in case of error responses.
<br /><span class="attrib">(Sameer Maggon, shalin, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6161">SOLR-6161</a>: SolrDispatchFilter should throw java.lang.Error back even if wrapped in
another exception.
<br /><span class="attrib">(Miklos Christine via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6153">SOLR-6153</a>: ReplicationHandler backup response format should contain backup name.
<br /><span class="attrib">(Varun Thacker via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6169">SOLR-6169</a>: Remove broken handleAlias action in CoreAdminHandler
<br /><span class="attrib">(Alan
Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6128">SOLR-6128</a>: Removed deprecated analysis factories and fieldTypes from the example
schema.xml
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5868">SOLR-5868</a>: HttpClient should be configured to use ALLOW_ALL_HOSTNAME hostname
verifier to simplify SSL setup.
<br /><span class="attrib">(Steve Davids via Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v4.9.0.optimizations" href="javascript:toggleList('v4.9.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v4.9.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5681">SOLR-5681</a>: Make the processing of Collection API calls multi-threaded.
<br /><span class="attrib">(Anshum Gupta, shalin, Noble Paul)</span></li>
    </ol>
  </li>
  <li><a id="v4.9.0.build" href="javascript:toggleList('v4.9.0.build')">Build</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v4.9.0.build.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6006">SOLR-6006</a>: Separate test and compile scope dependencies in the Solrj and
Solr contrib ivy.xml files, so that the derived Maven dependencies get
filled out properly in the corresponding POMs.
<br /><span class="attrib">(Steven Scott, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6130">SOLR-6130</a>: Added com.uwyn:jhighlight dependency to, and removed asm:asm
dependency from the extraction contrib - dependencies weren't fully
upgraded with the Tika 1.4-&gt;1.5 upgrade (<a href="http://issues.apache.org/jira/browse/SOLR-5763">SOLR-5763</a>).
<br /><span class="attrib">(Steve Rowe)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.8.1" href="javascript:toggleList('v4.8.1')">Release 4.8.1  [2014-05-20]</a></h3>
<ul id="v4.8.1.list">
  <li><a id="v4.8.1.bug_fixes" href="javascript:toggleList('v4.8.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(10)
    <ol id="v4.8.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5904">SOLR-5904</a>: ElectionContext can cancel an election when it should not if there
was an exception while trying to register as the leader.
<br /><span class="attrib">(Mark Miller, Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5993">SOLR-5993</a>: ZkController can warn about shard leader conflict even after the conflict
is resolved.
<br /><span class="attrib">(Gregory Chanan via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6017">SOLR-6017</a>: Fix SimpleQParser to use query analyzer
<br /><span class="attrib">(Ryan Ernst)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6029">SOLR-6029</a>: CollapsingQParserPlugin throws ArrayIndexOutOfBoundsException
if elevated doc has been deleted from a segment.
<br /><span class="attrib">(Greg Harris, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6030">SOLR-6030</a>: Use System.nanoTime() instead of currentTimeInMills() in LRUCache.warm.
<br /><span class="attrib">(Tomás Fernández Löbbe via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6037">SOLR-6037</a>: Fixed incorrect max/sum/stddev for Date fields in StatsComponent
<br /><span class="attrib">(Brett Lucey, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6023">SOLR-6023</a>: FieldAnalysisRequestHandler throws NPE if no parameters are supplied.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5090">SOLR-5090</a>: SpellCheckComponent sometimes throws NPE if
"spellcheck.alternativeTermCount" is set to zero
<br /><span class="attrib">(James Dyer)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6039">SOLR-6039</a>: fixed debug output when no results in response
<br /><span class="attrib">(Tomás Fernández Löbbe, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-6035">SOLR-6035</a>: CloudSolrServer directUpdate routing should use getCoreUrl.
<br /><span class="attrib">(Marvin Justice, Joel Bernstein)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.8.0" href="javascript:toggleList('v4.8.0')">Release 4.8.0  [2014-04-28]</a></h3>
<ul id="v4.8.0.list">
  <li><a id="v4.8.0.versions_of_major_components" href="javascript:toggleList('v4.8.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.8.0.versions_of_major_components.list">
      <li>Apache Tika 1.5
</li>
      <li>Carrot2 3.9.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.6
</li>
    </ol>
  </li>
  <li><a id="v4.8.0.upgrading_from_solr_4.7" href="javascript:toggleList('v4.8.0.upgrading_from_solr_4.7')">Upgrading from Solr 4.7</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v4.8.0.upgrading_from_solr_4.7.list">
      <li>In previous versions of Solr, Terms that exceeded Lucene's MAX_TERM_LENGTH were
silently ignored when indexing documents.  Beginning with Solr 4.8, a document
an error will be generated when attempting to index a document with a term
that is too large.  If you wish to continue to have large terms ignored,
use "solr.LengthFilterFactory" in all of your Analyzers.  See <a href="http://issues.apache.org/jira/browse/LUCENE-5472">LUCENE-5472</a> for
more details.
<p>
</li>
      <li>Solr 4.8 requires Java 7 or greater, Java 8 is verified to be
compatible and may bring some performance improvements. When using
Oracle Java 7 or OpenJDK 7, be sure to not use the GA build 147 or
update versions u40, u45 and u51! We recommend using u55 or later.
An overview of known JVM bugs can be found on
<a href="https://cwiki.apache.org/confluence/display/lucene/JavaBugs">https://cwiki.apache.org/confluence/display/lucene/JavaBugs</a>
<p>
</li>
      <li>ZooKeeper is upgraded from 3.4.5 to 3.4.6.
<p>
</li>
      <li>&lt;fields&gt; and &lt;types&gt; tags have been deprecated. There is no longer any reason to
keep them in the schema file, they may be safely removed. This allows intermixing of
&lt;fieldType&gt;, &lt;field&gt; and &lt;copyField&gt; definitions if desired. Currently, these tags
are supported so either style may be implemented. TBD is whether they'll be
deprecated formally for 5.0
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.8.0.system_requirements" href="javascript:toggleList('v4.8.0.system_requirements')">System Requirements</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v4.8.0.system_requirements.list">
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-4747">LUCENE-4747</a>, <a href="http://issues.apache.org/jira/browse/LUCENE-5514">LUCENE-5514</a>: Move to Java 7 as minimum Java version.
<br /><span class="attrib">(Robert Muir, Uwe Schindler)</span></li>
    </ol>
  </li>
  <li><a id="v4.8.0.new_features" href="javascript:toggleList('v4.8.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(20)
    <ol id="v4.8.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5130">SOLR-5130</a>: Implement addReplica Collections API
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5183">SOLR-5183</a>: JSON updates now support nested child documents using a
"_childDocument_" object key.
<br /><span class="attrib">(Varun Thacker, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5714">SOLR-5714</a>: You can now use one pool of memory for for the HDFS block cache
that all collections share.
<br /><span class="attrib">(Mark Miller, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5720">SOLR-5720</a>: Add ExpandComponent to expand results collapsed by the
CollapsingQParserPlugin.
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3177">SOLR-3177</a>: Enable tagging and excluding filters in StatsComponent via the
localParams syntax.
<br /><span class="attrib">(Mathias H., Nikolai Luthman, Vitaliy Zhovtyuk, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1604">SOLR-1604</a>: Wildcards, ORs etc inside Phrase Queries.
<br /><span class="attrib">(Ahmet Arslan via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5477">SOLR-5477</a>: Async execution of OverseerCollectionProcessor(CollectionsAPI)
tasks.
<br /><span class="attrib">(Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5865">SOLR-5865</a>: Provide a MiniSolrCloudCluster to enable easier testing.
<br /><span class="attrib">(Greg Chanan via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5860">SOLR-5860</a>: Use leaderConflictResolveWait in WaitForState during recovery/startup,
improve logging and force refresh cluster state every 15 seconds.
<br /><span class="attrib">(Timothy Potter via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5749">SOLR-5749</a>: A new Overseer status collection API exposes overseer queue sizes, timing
statistics, success and error counts and last N failures per operation.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5858">SOLR-5858</a>: Add a hl.qparser parameter to allow you to define a queryparser
for hl.q highlight queries. If no queryparser is defined, Solr will use
the overall query's defType.
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4478">SOLR-4478</a>: Allow cores to use configuration from a configsets directory
outside their instance directory.
<br /><span class="attrib">(Alan Woodward, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5466">SOLR-5466</a>: A new List collections and cluster status API which clients can use
to read collection and shard information instead of reading data directly from ZooKeeper.
<br /><span class="attrib">(Dave Seltzer, Varun Thacker, Vitaliy Zhovtyuk, Erick Erickson, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5795">SOLR-5795</a>: New DocExpirationUpdateProcessorFactory supports computing an expiration
date for documents from the "TTL" expression, as well as automatically deleting expired
documents on a periodic basis.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5829">SOLR-5829</a>: Allow ExpandComponent to accept query and filter query parameters
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5653">SOLR-5653</a>: Create a RestManager to provide REST API endpoints for
reconfigurable plugins.
<br /><span class="attrib">(Tim Potter, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5655">SOLR-5655</a>: Create a stopword filter factory that is (re)configurable,
and capable of reporting its configuration, via REST API.
<br /><span class="attrib">(Tim Potter via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5654">SOLR-5654</a>: Create a synonym filter factory that is (re)configurable, and
capable of reporting its configuration, via REST API.
<br /><span class="attrib">(Tim Potter via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5960">SOLR-5960</a>: Add support for basic authentication in post.jar tool, e.g.:
java -Durl="http://username:password@hostname:8983/solr/update" -jar post.jar sample.xml
<br /><span class="attrib">(Sameer Maggon via Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4864">SOLR-4864</a>: RegexReplaceProcessorFactory should support pattern capture group
substitution in replacement string.
<br /><span class="attrib">(Sunil Srinivasan, Jack Krupansky via Steve Rowe)</span></li>
    </ol>
  </li>
  <li><a id="v4.8.0.bug_fixes" href="javascript:toggleList('v4.8.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v4.8.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5858">SOLR-5858</a>, <a href="http://issues.apache.org/jira/browse/SOLR-4812">SOLR-4812</a>: edismax and dismax query parsers can be used for parsing
highlight queries.
<br /><span class="attrib">(Alan Woodward, Tien Nguyen Manh)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5893">SOLR-5893</a>: On restarting overseer designate , move itself to front of the queue
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5915">SOLR-5915</a>: Attempts to specify the parserImpl for
solr.PreAnalyzedField fieldtype failed.
<br /><span class="attrib">(Mike McCandless)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5943">SOLR-5943</a>: SolrCmdDistributor does not distribute the openSearcher parameter.
<br /><span class="attrib">(ludovic Boutros via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5954">SOLR-5954</a>: Slower DataImportHandler process caused by not reusing jdbc
connections.
<br /><span class="attrib">(Mark Miller, Paco Garcia, Raja Nagendra Kumar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5897">SOLR-5897</a>: Upgraded to jQuery 1.7.2, Solr was previously using 1.4.3, the file was
mistakenly named 1.7.2
<br /><span class="attrib">(steffkes)</span></li>
    </ol>
  </li>
  <li><a id="v4.8.0.optimizations" href="javascript:toggleList('v4.8.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v4.8.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1880">SOLR-1880</a>: Distributed Search skips GET_FIELDS stage if EXECUTE_QUERY
stage gets all fields. Requests with fl=id or fl=id,score are now single-pass.
<br /><span class="attrib">(Shawn Smith, Vitaliy Zhovtyuk, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5783">SOLR-5783</a>: Requests to open a new searcher will now reuse the current registered
searcher (w/o additional warming) if possible in situations where the underlying
index has not changed.  This reduces overhead in situations such as deletes that
do not modify the index, and/or redundant commits.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5884">SOLR-5884</a>: When recovery is cancelled, any call to the leader to wait to see
the replica in the right state for recovery should be aborted.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v4.8.0.other_changes" href="javascript:toggleList('v4.8.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(23)
    <ol id="v4.8.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5909">SOLR-5909</a>: Upgrade Carrot2 clustering dependency to 3.9.0.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5764">SOLR-5764</a>: Fix recently added tests to not use absolute paths to load test-files,
use SolrTestCaseJ4.getFile() and getResource() instead; fix morphlines/map-reduce
to not duplicate test resources and fix dependencies among them.
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5765">SOLR-5765</a>: Update to SLF4J 1.7.6.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5609">SOLR-5609</a>: If legacy mode is disabled don't let cores create slices/replicas/collections .
All operations should be performed through collection API
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5613">SOLR-5613</a>: Upgrade to commons-codec 1.9 for better BeiderMorseFilter performance.
<br /><span class="attrib">(Thomas Champagne, Shawn Heisey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5771">SOLR-5771</a>: Add SolrTestCaseJ4.SuppressSSL annotation to disable SSL (instead of static boolean).
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5799">SOLR-5799</a>: When registering as the leader, if an existing ephemeral
registration exists, wait a short time to see if it goes away.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-5472">LUCENE-5472</a>: IndexWriter.addDocument will now throw an IllegalArgumentException
if a Term to be indexed exceeds IndexWriter.MAX_TERM_LENGTH.  To recreate previous
behavior of silently ignoring these terms, use LengthFilter in your Analyzer.
<br /><span class="attrib">(hossman, Mike McCandless, Varun Thacker)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5825">SOLR-5825</a>: Separate http request creating and execution in SolrJ
<br /><span class="attrib">(Steven Bower via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5837">SOLR-5837</a>: Add hashCode/equals to SolrDocument, SolrInputDocument
and SolrInputField for testing purposes.
<br /><span class="attrib">(Varun Thacker, Noble Paul,
Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5853">SOLR-5853</a>: The createCollection methods in the test framework now reports
result of operation in the returned CollectionAdminResponse
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5838">SOLR-5838</a>: Relative SolrHome Path Bug At AbstractFullDistribZkTestBase.
<br /><span class="attrib">(Furkan KAMACI via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5763">SOLR-5763</a>: Upgrade to Tika 1.5
<br /><span class="attrib">(Vitaliy Zhovtyuk via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5881">SOLR-5881</a>: Upgrade ZooKeeper to 3.4.6
<br /><span class="attrib">(Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5883">SOLR-5883</a>: Many tests do not shutdown SolrServer.
<br /><span class="attrib">(Tomás Fernández Löbbe via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5898">SOLR-5898</a>: Update to latest Kite Morphlines release: Version 0.12.1.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5228">SOLR-5228</a>: Don't require &lt;field&gt; or &lt;dynamicField&gt; be inside of &lt;fields&gt; -- or
that &lt;fieldType&gt; be inside of &lt;types&gt;.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5903">SOLR-5903</a>: SolrCore implements Closeable, cut over to using try-with-resources
where possible.
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5914">SOLR-5914</a>: Cleanup and fix Solr's test cleanup code.
<br /><span class="attrib">(Mark Miller, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5936">SOLR-5936</a>: Deprecate non-Trie-based numeric &amp; date field types.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5934">SOLR-5934</a>: LBHttpSolrServer exception handling improvement and small test
improvements.
<br /><span class="attrib">(Gregory Chanan via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5773">SOLR-5773</a>: CollapsingQParserPlugin should make elevated documents the
group head.
<br /><span class="attrib">(David Boychuck, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5937">SOLR-5937</a>: Modernize the DIH example config sets.
<br /><span class="attrib">(Steve Rowe)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.7.2" href="javascript:toggleList('v4.7.2')">Release 4.7.2  [2014-04-15]</a></h3>
<ul id="v4.7.2.list">
  <li><a id="v4.7.2.versions_of_major_components" href="javascript:toggleList('v4.7.2.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.7.2.versions_of_major_components.list">
      <li>Apache Tika 1.4
</li>
      <li>Carrot2 3.8.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.5
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.7.2.bug_fixes" href="javascript:toggleList('v4.7.2.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v4.7.2.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5951">SOLR-5951</a>: Fixed SolrDispatchFilter to throw useful exception on startup if
SLF4j logging jars are missing.
<br /><span class="attrib">(Uwe Schindler, Hossman, Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5950">SOLR-5950</a>: Maven config: make the org.slf4j:slf4j-api dependency transitive
(i.e., not optional) in all modules in which it's a dependency, including
solrj, except for the WAR, where it will remain optional.
<br /><span class="attrib">(Uwe Schindler, Steve Rowe)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.7.1" href="javascript:toggleList('v4.7.1')">Release 4.7.1  [2014-02-26]</a></h3>
<ul id="v4.7.1.list">
  <li><a id="v4.7.1.versions_of_major_components" href="javascript:toggleList('v4.7.1.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.7.1.versions_of_major_components.list">
      <li>Apache Tika 1.4
</li>
      <li>Carrot2 3.8.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.5
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.7.1.bug_fixes" href="javascript:toggleList('v4.7.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(28)
    <ol id="v4.7.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5647">SOLR-5647</a>: The lib paths in example-schemaless will now load correctly.
<br /><span class="attrib">(Paul Westin via Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5770">SOLR-5770</a>: All attempts to match a SolrCore with its state in clusterstate.json
should be done with the CoreNodeName.
<br /><span class="attrib">(Steve Davids via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5875">SOLR-5875</a>: QueryComponent.mergeIds() unmarshals all docs' sort field values once
per doc instead of once per shard.
<br /><span class="attrib">(Alexey Serba, hoss, Martin de Vries via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5800">SOLR-5800</a>: Admin UI - Analysis form doesn't render results correctly when a
CharFilter is used.
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5870">SOLR-5870</a>: Admin UI - Reload on Core Admin doesn't show errors
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5867">SOLR-5867</a>: OverseerCollectionProcessor isn't properly generating https urls in some
cases.
<br /><span class="attrib">(Steve Davids via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5866">SOLR-5866</a>: UpdateShardHandler needs to use the system default scheme registry to
properly handle https via javax.net.ssl.* properties.
<br /><span class="attrib">(Steve Davids via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5782">SOLR-5782</a>: The full MapReduceIndexer help text does not display when using --help.
<br /><span class="attrib">(Mark Miller, Wolfgang Hoschek)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5824">SOLR-5824</a>: Merge up Solr MapReduce contrib code to latest external changes.
Includes a few minor bug fixes.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5818">SOLR-5818</a>: distrib search with custom comparator does not quite work correctly
<br /><span class="attrib">(Ryan Ernst)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5895">SOLR-5895</a>: JavaBinLoader hides IOExceptions.
<br /><span class="attrib">(Mike Sokolov via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5861">SOLR-5861</a>: Recovery should not set onlyIfLeaderActive=true for slice in 'recovery'
state.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5423">SOLR-5423</a>: CSV output doesn't include function field
<br /><span class="attrib">(Arun Kumar, hossman, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5550">SOLR-5550</a>: shards.info is not returned by a short circuited distributed query.
<br /><span class="attrib">(Timothy Potter, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5777">SOLR-5777</a>: Fix ordering of field values in JSON updates where
field name key is repeated
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5734">SOLR-5734</a>: We should use System.nanoTime rather than System.currentTimeMillis
when calculating elapsed time.
<br /><span class="attrib">(Mark Miller, Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5760">SOLR-5760</a>: ConcurrentUpdateSolrServer has a blockUntilFinished call when
streamDeletes is true that should be tucked into the if statement below it.
<br /><span class="attrib">(Mark Miller, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5761">SOLR-5761</a>: HttpSolrServer has a few fields that can be set via setters but
are not volatile.
<br /><span class="attrib">(Mark Miller, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5907">SOLR-5907</a>: The hdfs write cache can cause a reader to see a corrupted state.
It now defaults to off, and if you were using solr.hdfs.blockcache.write.enabled
explicitly, you should set it to false.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5811">SOLR-5811</a>: The Overseer will retry work items until success, which is a serious
problem if you hit a bad work item.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5796">SOLR-5796</a>: Increase how long we are willing to wait for a core to see the ZK
advertised leader in its local state.
<br /><span class="attrib">(Timothy Potter, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5834">SOLR-5834</a>: Overseer threads are only being interrupted and not closed.
<br /><span class="attrib">(hossman, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5839">SOLR-5839</a>: ZookeeperInfoServlet does not trim path properly.
<br /><span class="attrib">(Furkan KAMACI via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5874">SOLR-5874</a>: Unsafe cast in CloudSolrServer's RouteException. Change
RouteException to handle Throwable rather than Exception.
<br /><span class="attrib">(Mark Miller, David Arthur)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5899">SOLR-5899</a>: CloudSolrServer's RouteResponse and RouteException should be
publicly accessible.
<br /><span class="attrib">(Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5905">SOLR-5905</a>: CollapsingQParserPlugin throws a NPE if required 'field' param is missing.
<br /><span class="attrib">(Spyros Kapnissis via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5906">SOLR-5906</a>: Collection create API ignores property.instanceDir parameter.
<br /><span class="attrib">(Varun Thacker, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5920">SOLR-5920</a>: Distributed sort on DateField, BoolField and BCD{Int,Long,Str}Field
returns string cast exception
<br /><span class="attrib">(Eric Bus, AJ Lemke, hossman, Steve Rowe)</span></li>
    </ol>
  </li>
  <li><a id="v4.7.1.other_changes" href="javascript:toggleList('v4.7.1.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v4.7.1.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5796">SOLR-5796</a>: Make how long we are willing to wait for a core to see the ZK
advertised leader in its local state configurable.
<br /><span class="attrib">(Timothy Potter via Mark Miller)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.7.0" href="javascript:toggleList('v4.7.0')">Release 4.7.0  [2014-02-26]</a></h3>
<ul id="v4.7.0.list">
  <li><a id="v4.7.0.versions_of_major_components" href="javascript:toggleList('v4.7.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.7.0.versions_of_major_components.list">
      <li>Apache Tika 1.4
</li>
      <li>Carrot2 3.8.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.5
</li>
    </ol>
  </li>
  <li><a id="v4.7.0.upgrading_from_solr_4.6.0" href="javascript:toggleList('v4.7.0.upgrading_from_solr_4.6.0')">Upgrading from Solr 4.6.0</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v4.7.0.upgrading_from_solr_4.6.0.list">
      <li>CloudSolrServer and LBHttpSolrServer no longer declare MalformedURLException
as thrown from their constructors.
<p>
</li>
      <li>Due to a bug in previous versions the default value of the 'discountOverlap' property
of DefaultSimilarity was not being set appropriately if you were using the implicit
DefaultSimilarityFactory instead of explicitly configuring it.  To preserve
consistent behavior for people who upgrade, the implicit behavior is now contingent
on the &lt;luceneMatchVersion/&gt; -- discountOverlap=false for 4.6 and below,
discountOverlap=true for 4.7 and above.  See <a href="http://issues.apache.org/jira/browse/SOLR-5561">SOLR-5561</a> for more information.
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.7.0.new_features" href="javascript:toggleList('v4.7.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(32)
    <ol id="v4.7.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5308">SOLR-5308</a>: <a href="http://issues.apache.org/jira/browse/SOLR-5601">SOLR-5601</a>: <a href="http://issues.apache.org/jira/browse/SOLR-5710">SOLR-5710</a>: A new 'migrate' collection API to split all
documents with a route key into another collection
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5441">SOLR-5441</a>: Expose number of transaction log files and their size via JMX.
<br /><span class="attrib">(Rafał Kuć via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5320">SOLR-5320</a>: Added support for tri-level compositeId routing.
<br /><span class="attrib">(Anshum Gupta via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5458">SOLR-5458</a>: Admin UI - Added a new "Files" conf directory browser/file viewer.
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5447">SOLR-5447</a>, <a href="http://issues.apache.org/jira/browse/SOLR-5490">SOLR-5490</a>: Add a QParserPlugin for Lucene's SimpleQueryParser.
<br /><span class="attrib">(Jack Conradson via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5208">SOLR-5208</a>: Support for the setting of core.properties key/values at create-time on
Collections API
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5428">SOLR-5428</a>: <a href="http://issues.apache.org/jira/browse/SOLR-5690">SOLR-5690</a>: New 'stats.calcdistinct' parameter in StatsComponent returns
set of distinct values and their count. This can also be specified per field
e.g. 'f.field.stats.calcdistinct'.
<br /><span class="attrib">(Elran Dvir via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5378">SOLR-5378</a>, <a href="http://issues.apache.org/jira/browse/SOLR-5528">SOLR-5528</a>: A new SuggestComponent that fully utilizes the Lucene suggester
module and adds pluggable dictionaries, payloads and better distributed support.
This is intended to eventually replace the Suggester support through the
SpellCheckComponent.
<br /><span class="attrib">(Areek Zillur, Varun Thacker via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5492">SOLR-5492</a>: Return the replica that actually served the query in shards.info
response.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5506">SOLR-5506</a>: Support docValues in CollationField and ICUCollationField.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5023">SOLR-5023</a>: Add support for deleteInstanceDir to be passed from SolrJ for Core
Unload action.
<br /><span class="attrib">(Lyubov Romanchuk, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1871">SOLR-1871</a>: The 'map' function query accepts a ValueSource as target and
default value.
<br /><span class="attrib">(Chris Harris, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5556">SOLR-5556</a>: Allow class of CollectionsHandler and InfoHandler to be specified
in solr.xml.
<br /><span class="attrib">(Gregory Chanan, Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5581">SOLR-5581</a>: Give ZkCLI the ability to get files.
<br /><span class="attrib">(Gregory Chanan via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5536">SOLR-5536</a>: Add ValueSource collapse criteria to CollapsingQParsingPlugin
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5541">SOLR-5541</a>: Allow QueryElevationComponent to accept elevateIds and excludeIds
as http parameters
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5463">SOLR-5463</a>: new 'cursorMark' request param for deep paging of sorted result sets
<br /><span class="attrib">(sarowe, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5529">SOLR-5529</a>: Add support for queries to use multiple suggesters.
<br /><span class="attrib">(Areek Zillur, Erick Erickson, via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1301">SOLR-1301</a>: Add a Solr contrib that allows for building Solr indexes via
Hadoop's MapReduce.
<br /><span class="attrib">(Matt Revelle, Alexander Kanarsky, Steve Rowe,
Mark Miller, Greg Bowyer, Jason Rutherglen, Kris Jirapinyo, Jason Venner ,
Andrzej Bialecki, Patrick Hunt, Wolfgang Hoschek, Roman Shaposhnik,
Eric Wong)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5631">SOLR-5631</a>: Add support for Lucene's FreeTextSuggester.
<br /><span class="attrib">(Areek Zillur via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5695">SOLR-5695</a>: Add support for Lucene's BlendedInfixSuggester.
<br /><span class="attrib">(Areek Zillur)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5476">SOLR-5476</a>: Overseer Role for nodes
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5594">SOLR-5594</a>: Allow FieldTypes to specify custom PrefixQuery behavior
<br /><span class="attrib">(Anshum Gupta via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-5395">LUCENE-5395</a>: Upgrade to Spatial4j 0.4. Various new options are now exposed
automatically for an RPT field type.  See Spatial4j CHANGES &amp; javadocs.
<a href="https://github.com/spatial4j/spatial4j/blob/master/CHANGES.md">https://github.com/spatial4j/spatial4j/blob/master/CHANGES.md</a>
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5670">SOLR-5670</a>: allow _version_ to use DocValues.
<br /><span class="attrib">(Per Steffensen via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5535">SOLR-5535</a>: Set "partialResults" header for shards that error out if
shards.tolerant is specified.
<br /><span class="attrib">(Steve Davids via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5610">SOLR-5610</a>: Support cluster-wide properties with an API called CLUSTERPROP
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5623">SOLR-5623</a>: Better diagnosis of RuntimeExceptions in analysis
<br /><span class="attrib">(Benson Margulies)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5530">SOLR-5530</a>: Added a NoOpResponseParser for SolrJ which puts the entire raw
response into an entry in the NamedList.
<br /><span class="attrib">(Upayavira, Vitaliy Zhovtyuk via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5682">SOLR-5682</a>: Make the admin InfoHandler more pluggable / derivable.
<br /><span class="attrib">(Greg Chanan via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5672">SOLR-5672</a>: Add logParamsList parameter to support reduced logging.
<br /><span class="attrib">(Christine Poerschke via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3854">SOLR-3854</a>: SSL support for SolrCloud.
<br /><span class="attrib">(Sami Siren, hossman, Steve Davids,
Alexey Serba, Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v4.7.0.bug_fixes" href="javascript:toggleList('v4.7.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(52)
    <ol id="v4.7.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5438">SOLR-5438</a>: DebugComponent throws NPE when used with grouping.
<br /><span class="attrib">(Tomás Fernández Löbbe via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4612">SOLR-4612</a>: Admin UI - Analysis Screen contains empty table-columns
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5451">SOLR-5451</a>: SyncStrategy closes its http connection manager before the
executor that uses it in its close method.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5460">SOLR-5460</a>: SolrDispatchFilter#sendError can get a SolrCore that it does not
close.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5461">SOLR-5461</a>: Request proxying should only set con.setDoOutput(true) if the
request is a post.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5481">SOLR-5481</a>: SolrCmdDistributor should not let the http client do its own
retries.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-5347">LUCENE-5347</a>: Fixed Solr's Zookeeper Client to copy files to Zookeeper using
binary transfer. Previously data was read with default encoding and stored
in zookeeper as UTF-8. This bug was found after upgrading to forbidden-apis
1.4.
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4376">SOLR-4376</a>: DataImportHandler uses wrong date format for last_index_time if
a delta-import is run first before any full-imports.
<br /><span class="attrib">(Sebastien Lorber, Arcadius Ahouansou via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5494">SOLR-5494</a>: CoreContainer#remove throws NPE rather than returning null when
a SolrCore does not exist in core discovery mode.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5354">SOLR-5354</a>: Distributed sort is broken with CUSTOM FieldType.
<br /><span class="attrib">(Steve Rowe, hossman, Robert Muir, Jessica Cheng)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5515">SOLR-5515</a>: NPE when getting stats on date field with empty result on
SolrCloud.
<br /><span class="attrib">(Alexander Sagen, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5204">SOLR-5204</a>: StatsComponent and SpellCheckComponent do not support the
shards.tolerant=true parameter.
<br /><span class="attrib">(Anca Kopetz, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5527">SOLR-5527</a>: DIH logs spurious warning for special commands.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5524">SOLR-5524</a>: Exception when using Query Function inside Scale Function.
<br /><span class="attrib">(Trey Grainger, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5562">SOLR-5562</a>: ConcurrentUpdateSolrServer constructor ignores supplied httpclient.
<br /><span class="attrib">(Kyle Halliday via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5567">SOLR-5567</a>: ZkController getHostAddress duplicates url prefix.
<br /><span class="attrib">(Kyle Halliday, Alexey Serba, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4992">SOLR-4992</a>: Solr eats OutOfMemoryError exceptions in many cases.
<br /><span class="attrib">(Mark Miller, Daniel Collins)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-5399">LUCENE-5399</a>, <a href="http://issues.apache.org/jira/browse/SOLR-5354">SOLR-5354</a> sort wouldn't work correctly with
distributed searching for some field types such as legacy numeric
types
<br /><span class="attrib">(Rob Muir, Mike McCandless)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5643">SOLR-5643</a>: ConcurrentUpdateSolrServer will sometimes not spawn a new Runner
thread even though there are updates in the queue.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5650">SOLR-5650</a>: When a replica becomes a leader, only peer sync with other replicas
that last published an ACTIVE state.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5657">SOLR-5657</a>: When a SolrCore starts on HDFS, it should gracefully handle HDFS
being in safe mode.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5663">SOLR-5663</a>: example-DIH uses non-existing column for mapping (case-sensitive)
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5666">SOLR-5666</a>: Using the hdfs write cache can result in appearance of corrupted
index.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5230">SOLR-5230</a>: Call DelegatingCollector.finish() during grouping.
<br /><span class="attrib">(Joel Bernstein, ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5679">SOLR-5679</a>: Shard splitting fails with ClassCastException on collections
upgraded from 4.5 and earlier versions.
<br /><span class="attrib">(Brett Hoerner, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5673">SOLR-5673</a>: HTTPSolrServer doesn't set own property correctly in
setFollowRedirects.
<br /><span class="attrib">(Frank Wesemann via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5676">SOLR-5676</a>: SolrCloud updates rejected if talking to secure ZooKeeper.
<br /><span class="attrib">(Greg Chanan via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5634">SOLR-5634</a>: SolrJ GroupCommand.getNGroups returns null if group.format=simple
and group.ngroups=true.
<br /><span class="attrib">(Artem Lukanin via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5667">SOLR-5667</a>: Performance problem when not using hdfs block cache.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5526">SOLR-5526</a>: Fixed NPE that could arise when explicitly configuring some built
in QParserPlugins
<br /><span class="attrib">(Nikolay Khitrin, Vitaliy Zhovtyuk, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5598">SOLR-5598</a>: LanguageIdentifierUpdateProcessor ignores all but the first value
of multiValued string fields.
<br /><span class="attrib">(Andreas Hubold, Vitaliy Zhovtyuk via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5593">SOLR-5593</a>: Replicas should accept the last updates from a leader that has just
lost its connection to ZooKeeper.
<br /><span class="attrib">(Christine Poerschke via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5678">SOLR-5678</a>: SolrZkClient should throw a SolrException when connect times out
rather than a RuntimeException.
<br /><span class="attrib">(Karl Wright, Anshum Gupta, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4072">SOLR-4072</a>: Error message is incorrect for linkconfig in ZkCLI.
<br /><span class="attrib">(Vamsee Yarlagadda, Adam Hahn, via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5691">SOLR-5691</a>: Sharing non thread safe WeakHashMap across thread can cause
problems.
<br /><span class="attrib">(Bojan Smid, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5693">SOLR-5693</a>: Running on HDFS does work correctly with NRT search.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5644">SOLR-5644</a>: SplitShard does not handle not finding a shard leader well.
<br /><span class="attrib">(Mark Miller, Anshum Gupta via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5704">SOLR-5704</a>: coreRootDirectory was not respected when creating new cores
via CoreAdminHandler
<br /><span class="attrib">(Jesse Sipprell, Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5709">SOLR-5709</a>: Highlighting grouped duplicate docs from different shards with
group.limit &gt; 1 throws ArrayIndexOutOfBoundsException.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5561">SOLR-5561</a>: Fix implicit DefaultSimilarityFactory initialization in IndexSchema
to properly specify discountOverlap option.
<br /><span class="attrib">(Isaac Hebsh, Ahmet Arslan, Vitaliy Zhovtyuk, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5689">SOLR-5689</a>: On reconnect, ZkController cancels election on first context rather
than latest.
<br /><span class="attrib">(Gregory Chanan, Mark Miller via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5649">SOLR-5649</a>: Clean up some minor ConnectionManager issues.
<br /><span class="attrib">(Mark Miller, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5365">SOLR-5365</a>: Fix bug with compressed files in ExtractingRequestHandler by
upgrading commons-compress to 1.7
<br /><span class="attrib">(Jan Høydahl, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5675">SOLR-5675</a>: cloud-scripts/zkcli.bat: quote option log4j
(Günther Ruck via steffkes
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5721">SOLR-5721</a>: ConnectionManager can become stuck in likeExpired.
<br /><span class="attrib">(Gregory Chanan via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5731">SOLR-5731</a>: In ConnectionManager, we should catch and only log exceptions
from BeforeReconnect.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5718">SOLR-5718</a>: Make LBHttpSolrServer zombie checks non-distrib and non-scoring.
<br /><span class="attrib">(Christine Poerschke via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5727">SOLR-5727</a>: LBHttpSolrServer should only retry on Connection exceptions when
sending updates. Affects CloudSolrServer.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5739">SOLR-5739</a>: Sub-shards created by shard splitting have their update log set
to buffering mode on restarts.
<br /><span class="attrib">(Günther Ruck, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5741">SOLR-5741</a>: UpdateShardHandler was not correctly setting max total connections
on the HttpClient.
<br /><span class="attrib">(Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5620">SOLR-5620</a>: ZKStateReader.aliases should be volatile to ensure all threads see
the latest aliases.
<br /><span class="attrib">(Ramkumar Aiyengar via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5448">SOLR-5448</a>: ShowFileRequestHandler treats everything as Directory, when in
Cloud-Mode.
<br /><span class="attrib">(Erick Erickson, steffkes)</span></li>
    </ol>
  </li>
  <li><a id="v4.7.0.optimizations" href="javascript:toggleList('v4.7.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(8)
    <ol id="v4.7.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5436">SOLR-5436</a>: Eliminate the 1500ms wait in overseer loop as well as
polling the ZK distributed queue.
<br /><span class="attrib">(Noble Paul, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5189">SOLR-5189</a>: Solr 4.x Web UI Log Viewer does not display 'date' column from
logs
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5512">SOLR-5512</a>: Optimize DocValuesFacets.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2960">SOLR-2960</a>: fix DIH XPathEntityProcessor to add the correct number of "null"
placeholders for multi-valued fields
<br /><span class="attrib">(Michael Watts via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5214">SOLR-5214</a>: Reduce memory usage for shard splitting by merging segments one
at a time.
<br /><span class="attrib">(Christine Poerschke via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4227">SOLR-4227</a>: Wrap XML RequestWriter's OutputStreamWriter in a BufferedWriter
to avoid frequent converter invocations.
<br /><span class="attrib">(Conrad Herrmann, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5624">SOLR-5624</a>: Enable QueryResultCache for CollapsingQParserPlugin.
<br /><span class="attrib">(David Boychuck, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-5440">LUCENE-5440</a>: DocSet decoupled from OpenBitSet. DocSetBase moved to use
FixedBitSet instead of OpenBitSet. As a result BitDocSet now only works
with FixedBitSet.
<br /><span class="attrib">(Shai Erera)</span></li>
    </ol>
  </li>
  <li><a id="v4.7.0.other_changes" href="javascript:toggleList('v4.7.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(23)
    <ol id="v4.7.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5399">SOLR-5399</a>: Add distributed request tracking information to DebugComponent
<br /><span class="attrib">(Tomás Fernández Löbbe via Ryan Ernst)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5421">SOLR-5421</a>: Remove double set of distrib.from param in processAdd method of
DistributedUpdateProcessor.
<br /><span class="attrib">(Anshum Gupta via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5404">SOLR-5404</a>: The example config references deprecated classes.
<br /><span class="attrib">(Uwe Schindler, Rafał Kuć  via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5487">SOLR-5487</a>: Replication factor error message doesn't match constraint.
<br /><span class="attrib">(Patrick Hunt via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5499">SOLR-5499</a>: Log a warning if /get is not registered when using SolrCloud.
<br /><span class="attrib">(Daniel Collins via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5517">SOLR-5517</a>: Return HTTP error on POST requests with no Content-Type.
<br /><span class="attrib">(Ryan Ernst, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5502">SOLR-5502</a>: Added a test for tri-level compositeId routing with documents
having a "/" in a document id.
<br /><span class="attrib">(Anshum Gupta via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5533">SOLR-5533</a>: Improve out of the box support for running Solr on hdfs with
SolrCloud.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5548">SOLR-5548</a>: Give DistributedSearchTestCase / JettySolrRunner the ability to
specify extra filters.
<br /><span class="attrib">(Greg Chanan via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5555">SOLR-5555</a>: LBHttpSolrServer and CloudSolrServer constructors don't need to
declare MalformedURLExceptions
<br /><span class="attrib">(Sushil Bajracharya, Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5565">SOLR-5565</a>: Raise default ZooKeeper session timeout to 30 seconds from 15
seconds.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5574">SOLR-5574</a>: CoreContainer shutdown publishes all nodes as down and waits to
see that and then again publishes all nodes as down.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5590">SOLR-5590</a>: Upgrade HttpClient/HttpComponents to 4.3.x.
<br /><span class="attrib">(Karl Wright via Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2794">SOLR-2794</a>: change the default of hl.phraseLimit to 5000.
<br /><span class="attrib">(Michael Della Bitta via Robert Muir, Koji, zarni)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5632">SOLR-5632</a>: Improve response message for reloading a non-existent core.
<br /><span class="attrib">(Anshum Gupta via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5633">SOLR-5633</a>: HttpShardHandlerFactory should make its http client available to subclasses.
<br /><span class="attrib">(Ryan Ernst)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5684">SOLR-5684</a>: Shutdown SolrServer clients created in BasicDistributedZk2Test and
BasicDistributedZkTest.
<br /><span class="attrib">(Tomás Fernández Löbbe via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5629">SOLR-5629</a>: SolrIndexSearcher.name should include core name.
<br /><span class="attrib">(Shikhar Bhushan via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5702">SOLR-5702</a>: Log config name found for collection at info level.
<br /><span class="attrib">(Christine Poerschke via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5659">SOLR-5659</a>: Add test for compositeId ending with an '!'.
<br /><span class="attrib">(Markus Jelsma, Anshum Gupta via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5700">SOLR-5700</a>: Improve error handling of remote queries (proxied requests).
<br /><span class="attrib">(Greg Chanan, Steve Davids via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5585">SOLR-5585</a>: Raise Collections API timeout to 3 minutes from one minute.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5257">SOLR-5257</a>: Improved error/warn messages when Update XML contains unexpected XML nodes
<br /><span class="attrib">(Vitaliy Zhovtyuk, hossman)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.6.1" href="javascript:toggleList('v4.6.1')">Release 4.6.1  [2014-01-28]</a></h3>
<ul id="v4.6.1.list">
  <li><a id="v4.6.1.versions_of_major_components" href="javascript:toggleList('v4.6.1.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.6.1.versions_of_major_components.list">
      <li>Apache Tika 1.4
</li>
      <li>Carrot2 3.8.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.5
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.6.1.bug_fixes" href="javascript:toggleList('v4.6.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(29)
    <ol id="v4.6.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5408">SOLR-5408</a>: CollapsingQParserPlugin scores incorrectly when multiple sort criteria are used
<br /><span class="attrib">(Brandon Chapman, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5416">SOLR-5416</a>: CollapsingQParserPlugin breaks Tag/Exclude Faceting
<br /><span class="attrib">(David Boychuck, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5442">SOLR-5442</a>: Python client cannot parse proxied response when served by Tomcat.
<br /><span class="attrib">(Patrick Hunt, Gregory Chanan, Vamsee Yarlagadda, Romain Rigaux, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5445">SOLR-5445</a>: Proxied responses should propagate all headers rather than the
first one for each key.
<br /><span class="attrib">(Patrick Hunt, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5479">SOLR-5479</a>: SolrCmdDistributor retry logic stops if a leader for the request
cannot be found in 1 second.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5532">SOLR-5532</a>: SolrJ Content-Type validation is too strict for some
webcontainers / proxies.
<br /><span class="attrib">(Jakob Furrer, hossman, Shawn Heisey, Uwe Schindler,
Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5547">SOLR-5547</a>: Creating a collection alias using SolrJ's CollectionAdminRequest
sets the alias name and the collections to alias to the same value.
<br /><span class="attrib">(Aaron Schram, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5577">SOLR-5577</a>: Likely ZooKeeper expiration should not slow down updates a given
amount, but instead cut off updates after a given time.
<br /><span class="attrib">(Mark Miller, Christine Poerschke, Ramkumar Aiyengar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5580">SOLR-5580</a>: NPE when creating a core with both explicit shard and coreNodeName.
<br /><span class="attrib">(YouPeng Yang, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5552">SOLR-5552</a>: Leader recovery process can select the wrong leader if all replicas
for a shard are down and trying to recover as well as lose updates that should
have been recovered.
<br /><span class="attrib">(Timothy Potter, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5569">SOLR-5569</a> A replica should not try and recover from a leader until it has
published that it is ACTIVE.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5568">SOLR-5568</a> A SolrCore cannot decide to be the leader just because the cluster
state says no other SolrCore's are active.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5496">SOLR-5496</a>: We should share an http connection manager across non search
HttpClients and ensure all http connection managers get shutdown.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5583">SOLR-5583</a>: ConcurrentUpdateSolrServer#blockUntilFinished may wait forever if
the executor service is shutdown.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5586">SOLR-5586</a>: All ZkCmdExecutor's should be initialized with the zk client
timeout.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5587">SOLR-5587</a>: ElectionContext implementations should use
ZkCmdExecutor#ensureExists to ensure their election paths are properly
created.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5540">SOLR-5540</a>: HdfsLockFactory should explicitly create the lock parent directory if
necessary.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4709">SOLR-4709</a>: The core reload after replication if config files have changed
can fail due to a race condition.
<br /><span class="attrib">(Mark Miller, Hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5503">SOLR-5503</a>: Retry 'forward to leader' requests less aggressively - rather
than on IOException and status 500, ConnectException.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5588">SOLR-5588</a>: PeerSync doesn't count all connect failures as success.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5564">SOLR-5564</a>: hl.maxAlternateFieldLength should apply to original field when
fallback is attempted
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5608">SOLR-5608</a>: Don't allow a closed SolrCore to publish state to ZooKeeper.
<br /><span class="attrib">(Mark Miller, Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5615">SOLR-5615</a>: Deadlock while trying to recover after a ZK session expiration.
<br /><span class="attrib">(Ramkumar Aiyengar, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5543">SOLR-5543</a>: Core swaps resulted in duplicate core entries in solr.xml when
using solr.xml persistence.
<br /><span class="attrib">(Bill Bell, Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5618">SOLR-5618</a>: Fix false cache hits in queryResultCache when hashCodes are equal
and duplicate filter queries exist in one of the requests
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4260">SOLR-4260</a>: ConcurrentUpdateSolrServer#blockUntilFinished can return before
all previously added updates have finished. This could cause distributed
updates meant for replicas to be lost.
<br /><span class="attrib">(Markus Jelsma, Timothy Potter,
Joel Bernstein, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5645">SOLR-5645</a>: A SolrCore reload via the CoreContainer will try and register in
zk again with the new SolrCore.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5636">SOLR-5636</a>: SolrRequestParsers does some xpath lookups on every request, which
can cause concurrency issues.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5658">SOLR-5658</a>: commitWithin and overwrite are not being distributed to replicas
now that SolrCloud uses javabin to distribute updates.
<br /><span class="attrib">(Mark Miller, Varun Thacker, Elodie Sannier, shalin)</span></li>
    </ol>
  </li>
  <li><a id="v4.6.1.optimizations" href="javascript:toggleList('v4.6.1.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v4.6.1.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5576">SOLR-5576</a>: Improve concurrency when registering and waiting for all
SolrCore's to register a DOWN state.
<br /><span class="attrib">(Christine Poerschke via Mark Miller)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.6.0" href="javascript:toggleList('v4.6.0')">Release 4.6.0  [2013-11-22]</a></h3>
<ul id="v4.6.0.list">
  <li><a id="v4.6.0.versions_of_major_components" href="javascript:toggleList('v4.6.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.6.0.versions_of_major_components.list">
      <li>Apache Tika 1.4
</li>
      <li>Carrot2 3.8.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.5
</li>
    </ol>
  </li>
  <li><a id="v4.6.0.upgrading_from_solr_4.5.0" href="javascript:toggleList('v4.6.0.upgrading_from_solr_4.5.0')">Upgrading from Solr 4.5.0</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v4.6.0.upgrading_from_solr_4.5.0.list">
      <li>If you are using methods from FieldMutatingUpdateProcessorFactory for getting
configuration information (oneOrMany or getBooleanArg), those methods have
been moved to NamedList and renamed to removeConfigArgs and removeBooleanArg,
respectively.  The original methods are deprecated, to be removed in 5.0.
See <a href="http://issues.apache.org/jira/browse/SOLR-5264">SOLR-5264</a>.
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.6.0.new_features" href="javascript:toggleList('v4.6.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(17)
    <ol id="v4.6.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5167">SOLR-5167</a>: Add support for AnalyzingInfixSuggester (AnalyzingInfixLookupFactory).
<br /><span class="attrib">(Areek Zillur, Varun Thacker via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5246">SOLR-5246</a>: Shard splitting now supports collections configured with router.field.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5274">SOLR-5274</a>: Allow JettySolrRunner SSL config to be specified via a constructor.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5300">SOLR-5300</a>: Shards can be split by specifying arbitrary number of hash ranges
within the shard's hash range.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5226">SOLR-5226</a>: Add Lucene index heap usage to the Solr admin UI.
<br /><span class="attrib">(Areek Zillur via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5324">SOLR-5324</a>: Make sub shard replica recovery and shard state switch asynchronous.
<br /><span class="attrib">(Yago Riveiro, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5338">SOLR-5338</a>: Split shards by a route key using split.key parameter.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5353">SOLR-5353</a>: Enhance CoreAdmin api to split a route key's documents from an index
and leave behind all other documents.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5027">SOLR-5027</a>: CollapsingQParserPlugin for high performance field collapsing on high cardinality fields.
<br /><span class="attrib">(Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5395">SOLR-5395</a>: Added a RunAlways marker interface for UpdateRequestProcessorFactory
implementations indicating that they should not be removed in later stages
of distributed updates (usually signalled by the update.distrib parameter)
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5310">SOLR-5310</a>: Add a collection admin command to remove a replica
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5311">SOLR-5311</a>: Avoid registering replicas which are removed
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5406">SOLR-5406</a>: CloudSolrServer failed to propagate request parameters
along with delete updates.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5374">SOLR-5374</a>: Support user configured doc-centric versioning rules
via the optional DocBasedVersionConstraintsProcessorFactory
update processor
<br /><span class="attrib">(Hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5392">SOLR-5392</a>: Extend solrj apis to cover collection management.
<br /><span class="attrib">(Roman Shaposhnik via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5084">SOLR-5084</a>: new field type EnumField.
<br /><span class="attrib">(Elran Dvir via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5464">SOLR-5464</a>: Add option to ConcurrentSolrServer to stream pure delete
 requests.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v4.6.0.bug_fixes" href="javascript:toggleList('v4.6.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(14)
    <ol id="v4.6.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5216">SOLR-5216</a>: Document updates to SolrCloud can cause a distributed deadlock.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5367">SOLR-5367</a>: Unmarshalling delete by id commands with JavaBin can lead to class cast
exception.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5359">SOLR-5359</a>: ZooKeeper client is not closed when it fails to connect to an ensemble.
<br /><span class="attrib">(Mark Miller, Klaus Herrmann)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5042">SOLR-5042</a>: MoreLikeThisComponent was using the rows/count value in place of
flags, which caused a number of very strange issues, including NPEs and
ignoring requests for the results to include the score.
<br /><span class="attrib">(Anshum Gupta, Mark Miller, Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5371">SOLR-5371</a>: Solr should consistently call SolrServer#shutdown
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5363">SOLR-5363</a>: Solr doesn't start up properly with Log4J2
<br /><span class="attrib">(Petar Tahchiev via Alan
Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5380">SOLR-5380</a>: Using cloudSolrServer.setDefaultCollection(collectionId) does not
work as intended for an alias spanning more than 1 collection.
<br /><span class="attrib">(Thomas Egense, Shawn Heisey, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5418">SOLR-5418</a>: Background merge after field removed from solr.xml causes error.
<br /><span class="attrib">(Reported on user's list, Robert M's patch via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5318">SOLR-5318</a>: Creating a core via the admin API doesn't respect transient property
<br /><span class="attrib">(Olivier Soyez via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5388">SOLR-5388</a>: Creating a new core via the HTTP API that results in a transient being
unloaded results in a " Too many close [count:-1]" error.
<br /><span class="attrib">(Olivier Soyez via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5453">SOLR-5453</a>: Raise recovery socket read timeouts.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5397">SOLR-5397</a>: Replication can fail silently in some cases.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5465">SOLR-5465</a>: SolrCmdDistributor retry logic has a concurrency race bug.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5452">SOLR-5452</a>: Do not attempt to proxy internal update requests.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v4.6.0.optimizations" href="javascript:toggleList('v4.6.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v4.6.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5232">SOLR-5232</a>: SolrCloud should distribute updates via streaming rather than buffering.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5223">SOLR-5223</a>: SolrCloud should use the JavaBin binary format for communication by default.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5370">SOLR-5370</a>: Requests to recover when an update fails should be done in
background threads.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-5300">LUCENE-5300</a>,<a href="http://issues.apache.org/jira/browse/LUCENE-5304">LUCENE-5304</a>: Specialized faceting for fields which are declared as
multi-valued in the schema but are actually single-valued.
<br /><span class="attrib">(Adrien Grand)</span></li>
    </ol>
  </li>
  <li><a id="v4.6.0.security" href="javascript:toggleList('v4.6.0.security')">Security</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v4.6.0.security.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4882">SOLR-4882</a>: SolrResourceLoader was restricted to only allow access to resource
files below the instance dir. The reason for this is security related: Some
Solr components allow to pass in resource paths via REST parameters
(e.g. XSL stylesheets, velocity templates,...) and load them via resource
loader. For backwards compatibility, this security feature can be disabled
by a new system property: solr.allow.unsafe.resourceloading=true
<br /><span class="attrib">(Uwe Schindler)</span></li>
    </ol>
  </li>
  <li><a id="v4.6.0.other_changes" href="javascript:toggleList('v4.6.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(8)
    <ol id="v4.6.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5237">SOLR-5237</a>: Add indexHeapUsageBytes to LukeRequestHandler, indicating how much
heap memory is being used by the underlying Lucene index structures.
<br /><span class="attrib">(Areek Zillur via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5241">SOLR-5241</a>: Fix SimplePostToolTest performance problem - implicit DNS lookups
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5273">SOLR-5273</a>: Update HttpComponents to 4.2.5 and 4.2.6.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5264">SOLR-5264</a>: Move methods for getting config information from
           FieldMutatingUpdateProcessorFactory to NamedList.
<br /><span class="attrib">(Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5319">SOLR-5319</a>: Remove unused and incorrect router name from Collection ZK nodes.
<br /><span class="attrib">(Jessica Cheng via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5321">SOLR-5321</a>: Remove unnecessary code in Overseer.updateState method which tries to
use router name from message where none is ever sent.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5401">SOLR-5401</a>: SolrResourceLoader logs a warning if a deprecated (factory) class
is used in schema or config.
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3397">SOLR-3397</a>: Warn if master or slave replication is enabled in SolrCloud mode.
<br /><span class="attrib">(Erick
Erickson)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.5.1" href="javascript:toggleList('v4.5.1')">Release 4.5.1  [2013-10-24]</a></h3>
<ul id="v4.5.1.list">
  <li><a id="v4.5.1.versions_of_major_components" href="javascript:toggleList('v4.5.1.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.5.1.versions_of_major_components.list">
      <li>Apache Tika 1.4
</li>
      <li>Carrot2 3.8.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.5
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.5.1.bug_fixes" href="javascript:toggleList('v4.5.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(16)
    <ol id="v4.5.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4590">SOLR-4590</a>: Collections API should return a nice error when not in SolrCloud mode.
<br /><span class="attrib">(Anshum Gupta, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5295">SOLR-5295</a>: The CREATESHARD collection API creates maxShardsPerNode number of
replicas if replicationFactor is not specified.
<br /><span class="attrib">(Brett Hoerner, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5296">SOLR-5296</a>: Creating a collection with implicit router adds shard ranges
to each shard.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5263">SOLR-5263</a>: Fix CloudSolrServer URL cache update race.
<br /><span class="attrib">(Jessica Cheng, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5297">SOLR-5297</a>: Admin UI - Threads Screen missing Icon
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5301">SOLR-5301</a>: DELETEALIAS command prints CREATEALIAS in logs
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5255">SOLR-5255</a>: Remove unnecessary call to fetch and watch live nodes in ZkStateReader
cluster watcher.
<br /><span class="attrib">(Jessica Cheng via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5305">SOLR-5305</a>: Admin UI - Reloading System-Information on Dashboard does not work
anymore
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5314">SOLR-5314</a>: Shard split action should use soft commits instead of hard commits
to make sub shard data visible.
<br /><span class="attrib">(Kalle Aaltonen, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5327">SOLR-5327</a>: <a href="http://issues.apache.org/jira/browse/SOLR-4915">SOLR-4915</a>, "The root cause should be returned to the user when a SolrCore create
call fails", was reverted.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5317">SOLR-5317</a>: SolrCore persistence bugs if defining SolrCores in solr.xml.
<br /><span class="attrib">(Mark Miller, Yago Riveiro)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5306">SOLR-5306</a>: Extra collection creation parameters like collection.configName are
  not being respected.
<br /><span class="attrib">(Mark Miller, Liang Tianyu, Nathan Neulinger)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5325">SOLR-5325</a>: ZooKeeper connection loss can cause the Overseer to stop processing
commands.
<br /><span class="attrib">(Christine Poerschke, Mark Miller, Jessica Cheng)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4327">SOLR-4327</a>: HttpSolrServer can leak connections on errors.
<br /><span class="attrib">(Karl Wright, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5349">SOLR-5349</a>: CloudSolrServer - ZK timeout arguments passed to ZkStateReader are flipped.
<br /><span class="attrib">(Ricardo Merizalde via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5330">SOLR-5330</a>: facet.method=fcs on single values fields could sometimes result
in incorrect facet labels.
<br /><span class="attrib">(Michael Froh, yonik)</span></li>
    </ol>
  </li>
  <li><a id="v4.5.1.other_changes" href="javascript:toggleList('v4.5.1.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v4.5.1.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5323">SOLR-5323</a>: Disable ClusteringComponent by default in collection1 example.
The solr.clustering.enabled system property needs to be set to 'true'
to enable the clustering contrib (reverts <a href="http://issues.apache.org/jira/browse/SOLR-4708">SOLR-4708</a>).
<br /><span class="attrib">(Dawid Weiss)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.5.0" href="javascript:toggleList('v4.5.0')">Release 4.5.0  [2013-10-05]</a></h3>
<ul id="v4.5.0.list">
  <li><a id="v4.5.0.versions_of_major_components" href="javascript:toggleList('v4.5.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.5.0.versions_of_major_components.list">
      <li>Apache Tika 1.4
</li>
      <li>Carrot2 3.8.0
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.5
</li>
    </ol>
  </li>
  <li><a id="v4.5.0.upgrading_from_solr_4.4.0" href="javascript:toggleList('v4.5.0.upgrading_from_solr_4.4.0')">Upgrading from Solr 4.4.0</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.5.0.upgrading_from_solr_4.4.0.list">
      <li>XML configuration parsing is now more strict about situations where a single
setting is allowed but multiple values are found.  In the past, one value
would be chosen arbitrarily and silently.  Starting with 4.5, configuration
parsing will fail with an error in situations like this.  If you see error
messages such as "solrconfig.xml contains more than one value for config path:
XXXXX" or "Found Z configuration sections when at most 1 is allowed matching
expression: XXXXX" check your solrconfig.xml file for multiple occurrences of
XXXXX and delete the ones that you do not wish to use.  See <a href="http://issues.apache.org/jira/browse/SOLR-4953">SOLR-4953</a> &amp;
<a href="http://issues.apache.org/jira/browse/SOLR-5108">SOLR-5108</a> for more details.
<p>
</li>
      <li>In the past, schema.xml parsing would silently ignore "default" or "required"
options specified on &lt;dynamicField/&gt; declarations.  Beginning with 4.5, attempting
to do configured these on a dynamic field will cause an init error.  If you
encounter one of these errors when upgrading an existing schema.xml, you can
safely remove these attributes, regardless of their value, from your config and
Solr will continue to behave exactly as it did in previous versions.  See
<a href="http://issues.apache.org/jira/browse/SOLR-5227">SOLR-5227</a> for more details.
<p>
</li>
      <li>The UniqFieldsUpdateProcessorFactory has been improved to support all of the
FieldMutatingUpdateProcessorFactory selector options.  The &lt;lst named="fields"&gt;
init param option is now deprecated and should be replaced with the more standard
&lt;arr name="fieldName"&gt;.  See <a href="http://issues.apache.org/jira/browse/SOLR-4249">SOLR-4249</a> for more details.
<p>
</li>
      <li>UpdateRequestExt has been removed as part of <a href="http://issues.apache.org/jira/browse/SOLR-4816">SOLR-4816</a>. You should use UpdateRequest
instead.
<p>
</li>
      <li>CloudSolrServer can now use multiple threads to add documents by default. This is a
small change in runtime semantics when using the bulk add method - you will still
end up with the same exception on a failure, but some documents beyond the one that
failed may have made it in. To get the old, single threaded behavior, set parallel updates
to false on the CloudSolrServer instance.
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.5.0.new_features" href="javascript:toggleList('v4.5.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(18)
    <ol id="v4.5.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5219">SOLR-5219</a>: Rewritten selection of the default search and document clustering
algorithms.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5202">SOLR-5202</a>: Support easier overrides of Carrot2 clustering attributes via
XML data sets exported from the Workbench.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5126">SOLR-5126</a>: Update Carrot2 clustering to version 3.8.0, update Morfologik
to version 1.7.1
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2345">SOLR-2345</a>: Enhanced geodist() to work with an RPT field, provided that the
field is referenced via 'sfield' and the query point is constant.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5082">SOLR-5082</a>: The encoding of URL-encoded query parameters can be changed with
the "ie" (input encoding) parameter, e.g. "select?q=m%FCller&amp;ie=ISO-8859-1".
The default is UTF-8. To change the encoding of POSTed content, use the
"Content-Type" HTTP header.
<br /><span class="attrib">(Uwe Schindler, Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4221">SOLR-4221</a>: Custom sharding
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4808">SOLR-4808</a>: Persist and use router,replicationFactor and maxShardsPerNode at Collection
and Shard level
<br /><span class="attrib">(Noble Paul, Shalin Mangar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5006">SOLR-5006</a>: CREATESHARD command for 'implicit' shards
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5017">SOLR-5017</a>: Allow sharding based on the value of a field
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4222">SOLR-4222</a>: create custom sharded collection via collections API
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4718">SOLR-4718</a>: Allow solr.xml to be stored in ZooKeeper.
<br /><span class="attrib">(Mark Miller, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5156">SOLR-5156</a>: Enhance ZkCLI to allow uploading of arbitrary files to ZK.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5165">SOLR-5165</a>: Single-valued docValues fields no longer require a default value.
Additionally they work with sortMissingFirst, sortMissingLast, facet.missing,
exists() in function queries, etc.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5182">SOLR-5182</a>: Add NoOpRegenerator, a regenerator for custom per-segment caches
where items are preserved across commits.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4249">SOLR-4249</a>: UniqFieldsUpdateProcessorFactory now extends
FieldMutatingUpdateProcessorFactory and supports all of its selector options. Use
of the "fields" init param is now deprecated in favor of "fieldName"
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2548">SOLR-2548</a>: Allow multiple threads to be specified for faceting. When threading, one
can specify facet.threads to parallelize loading the uninverted fields. In at least
one extreme case this reduced warmup time from 20 seconds to 3 seconds.
<br /><span class="attrib">(Janne Majaranta,
Gun Akkor via Erick Erickson, David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4816">SOLR-4816</a>: CloudSolrServer can now route updates locally and no longer relies on inter-node
update forwarding.
<br /><span class="attrib">(Joel Bernstein, Shikhar Bhushan, Stephen Riesenberg, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3249">SOLR-3249</a>: Allow CloudSolrServer and SolrCmdDistributor to use JavaBin.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v4.5.0.bug_fixes" href="javascript:toggleList('v4.5.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(30)
    <ol id="v4.5.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3633">SOLR-3633</a>: web UI reports an error if CoreAdminHandler says there are no
SolrCores
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4489">SOLR-4489</a>: SpellCheckComponent can throw StringIndexOutOfBoundsException
when generating collations involving multiple word-break corrections.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5087">SOLR-5087</a> - CoreAdminHandler.handleMergeAction generating NullPointerException
<br /><span class="attrib">(Patrick Hunt via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5107">SOLR-5107</a>: Fixed NPE when using numTerms=0 in LukeRequestHandler
<br /><span class="attrib">(Ahmet Arslan, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4679">SOLR-4679</a>, <a href="http://issues.apache.org/jira/browse/SOLR-4908">SOLR-4908</a>, <a href="http://issues.apache.org/jira/browse/SOLR-5124">SOLR-5124</a>: Text extracted from HTML or PDF files
using Solr Cell was missing ignorable whitespace, which is inserted by
TIKA for convenience to support plain text extraction without using the
HTML elements. This bug resulted in glued words.
<br /><span class="attrib">(hossman, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5121">SOLR-5121</a>: zkcli usage help for makepath doesn't match actual command.
<br /><span class="attrib">(Daniel Collins via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5119">SOLR-5119</a>: Managed schema problems after adding fields via Schema Rest API.
<br /><span class="attrib">(Nils Kübler, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5133">SOLR-5133</a>: HdfsUpdateLog can fail to close a FileSystem instance if init
is called more than once.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5135">SOLR-5135</a>: Harden Collection API deletion of /collections/$collection
ZooKeeper node.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4764">SOLR-4764</a>: When using NRT, just init the first reader from IndexWriter.
<br /><span class="attrib">(Robert Muir, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5122">SOLR-5122</a>: Fixed bug in spellcheck.collateMaxCollectDocs.  Eliminates risk
of divide by zero, and makes estimated hit counts meaningful in non-optimized
indexes.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3936">SOLR-3936</a>: Fixed QueryElevationComponent sorting when used with Grouping
<br /><span class="attrib">(Michael Garski via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5171">SOLR-5171</a>: SOLR Admin gui works in IE9, breaks in IE10.
<br /><span class="attrib">(Joseph L Howard via
steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5174">SOLR-5174</a>: Admin UI - Query View doesn't highlight (json) Result if it
contains HTML Tags
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4817">SOLR-4817</a> Solr should not fall back to the back compat built in solr.xml in SolrCloud
mode
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5112">SOLR-5112</a>: Show full message in Admin UI Logging View
<br /><span class="attrib">(Matthew Keeney via
steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5190">SOLR-5190</a>: SolrEntityProcessor substitutes variables only once in child entities
<br /><span class="attrib">(Harsh Chawla, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3852">SOLR-3852</a>: Fixed ZookeeperInfoServlet so that the SolrCloud Admin UI pages will
work even if ZK contains nodes with data which are not utf8 text.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5206">SOLR-5206</a>: Fixed OpenExchangeRatesOrgProvider to use refreshInterval correctly
<br /><span class="attrib">(Catalin, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5215">SOLR-5215</a>: Fix possibility of deadlock in ZooKeeper ConnectionManager.
<br /><span class="attrib">(Mark Miller, Ricardo Merizalde)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4909">SOLR-4909</a>: Use DirectoryReader.openIfChanged in non-NRT mode.
<br /><span class="attrib">(Michael Garski via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5227">SOLR-5227</a>: Correctly fail schema initialization if a dynamicField is configured to
be required, or have a default value.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5231">SOLR-5231</a>: Fixed a bug with the behavior of BoolField that caused documents w/o
a value for the field to act as if the value were true in functions if no other
documents in the same index segment had a value of true.
<br /><span class="attrib">(Robert Muir, hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5233">SOLR-5233</a>: The "deleteshard" collections API doesn't wait for cluster state to update,
can fail if some nodes of the deleted shard were down and had incorrect logging.
<br /><span class="attrib">(Christine Poerschke, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5150">SOLR-5150</a>: HdfsIndexInput may not fully read requested bytes.
<br /><span class="attrib">(Mark Miller, Patrick Hunt)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5240">SOLR-5240</a>: All solr cores will now be loaded in parallel (as opposed to a fixed number)
in zookeeper mode to avoid deadlocks due to replicas waiting for other replicas
to come up.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5243">SOLR-5243</a>: Killing a shard in one collection can result in leader election in a different
collection if they share the same coreNodeName.
<br /><span class="attrib">(yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5281">SOLR-5281</a>: IndexSchema log message was printing '[null]' instead of
'[&lt;core name&gt;]'
<br /><span class="attrib">(Jun Ohtani via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5279">SOLR-5279</a>: Implicit properties don't seem to exist on core RELOAD
<br /><span class="attrib">(elyograg, hossman, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5291">SOLR-5291</a>: Solrj does not propagate the root cause to the user for many errors.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v4.5.0.optimizations" href="javascript:toggleList('v4.5.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.5.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5044">SOLR-5044</a>: Admin UI - Note on Core-Admin about directories while creating
core
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5134">SOLR-5134</a>: Have HdfsIndexOutput extend BufferedIndexOutput.
<br /><span class="attrib">(Mark Miller, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5057">SOLR-5057</a>: QueryResultCache should not related with the order of fq's list
<br /><span class="attrib">(Feihong Huang via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4816">SOLR-4816</a>: CloudSolrServer now uses multiple threads to send updates by default.
<br /><span class="attrib">(Joel Bernstein via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3530">SOLR-3530</a>: Better error messages / Content-Type validation in SolrJ.
<br /><span class="attrib">(Mark Miller, hossman)</span></li>
    </ol>
  </li>
  <li><a id="v4.5.0.other_changes" href="javascript:toggleList('v4.5.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v4.5.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4708">SOLR-4708</a>: Enable ClusteringComponent by default in collection1 example.
The solr.clustering.enabled system property is set to 'true' by default.
<br /><span class="attrib">(ehatcher, Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4914">SOLR-4914</a>, <a href="http://issues.apache.org/jira/browse/SOLR-5162">SOLR-5162</a>: Factor out core list persistence and discovery into a
new CoresLocator interface.
<br /><span class="attrib">(Alan Woodward, Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5056">SOLR-5056</a>: Improve type safety of ConfigSolr class.
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4951">SOLR-4951</a>: Better randomization of MergePolicy in Solr tests
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4953">SOLR-4953</a>, <a href="http://issues.apache.org/jira/browse/SOLR-5108">SOLR-5108</a>: Make XML Configuration parsing fail if an xpath matches
multiple nodes when only a single value or plugin instance is expected.
<br /><span class="attrib">(hossman)</span></li>
      <li>The routing parameter "shard.keys" is deprecated as part of <a href="http://issues.apache.org/jira/browse/SOLR-5017">SOLR-5017</a> .The new parameter name is '_route_' .
The old parameter should continue to work for another release
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5173">SOLR-5173</a>: Solr-core's Maven configuration includes test-only Hadoop
dependencies as indirect compile-time dependencies.
<br /><span class="attrib">(Chris Collins, Steve Rowe)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.4.0" href="javascript:toggleList('v4.4.0')">Release 4.4.0  [2013-07-23]</a></h3>
<ul id="v4.4.0.list">
  <li><a id="v4.4.0.versions_of_major_components" href="javascript:toggleList('v4.4.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.4.0.versions_of_major_components.list">
      <li>Apache Tika 1.4
</li>
      <li>Carrot2 3.6.2
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.5
</li>
    </ol>
  </li>
  <li><a id="v4.4.0.upgrading_from_solr_4.3.0" href="javascript:toggleList('v4.4.0.upgrading_from_solr_4.3.0')">Upgrading from Solr 4.3.0</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v4.4.0.upgrading_from_solr_4.3.0.list">
      <li>TieredMergePolicy and the various subtypes of LogMergePolicy no longer have
an explicit "setUseCompoundFile" method.  Instead the behavior of new
segments is determined by the IndexWriter configuration, and the MergePolicy
is only consulted to determine if merge segments should use the compound
file format (based on the value of "setNoCFSRatio").  If you have explicitly
configured one of these classes using &lt;mergePolicy&gt; and include an init arg
like this...
   &lt;bool name="useCompoundFile"&gt;true&lt;/bool&gt;
...this will now be treated as if you specified...
   &lt;useCompoundFile&gt;true&lt;/useCompoundFile&gt;
...directly on the &lt;indexConfig&gt; (overriding any value already set using that
syntax) and a warning will be logged to updated your configuration.  Users
with an explicitly declared &lt;mergePolicy&gt; are encouraged to review the
current javadocs for their MergePolicy subclass and review their configured
options carefully.  See <a href="http://issues.apache.org/jira/browse/SOLR-4941">SOLR-4941</a>, <a href="http://issues.apache.org/jira/browse/SOLR-4934">SOLR-4934</a> and <a href="http://issues.apache.org/jira/browse/LUCENE-5038">LUCENE-5038</a> for more
information.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4778">SOLR-4778</a>: The signature of LogWatcher.registerListener has changed, from
(ListenerConfig, CoreContainer) to (ListenerConfig).  Users implementing their
own LogWatcher classes will need to change their code accordingly.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-5063">LUCENE-5063</a>: ByteField and ShortField have been deprecated and will be removed
in 5.0. If you are still using these field types, you should migrate your
fields to TrieIntField.
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.4.0.new_features" href="javascript:toggleList('v4.4.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(22)
    <ol id="v4.4.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3251">SOLR-3251</a>: Dynamically add fields to schema.
<br /><span class="attrib">(Steve Rowe, Robert Muir, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4761">SOLR-4761</a>, <a href="http://issues.apache.org/jira/browse/SOLR-4976">SOLR-4976</a>: Add option to plugin a merged segment warmer into solrconfig.xml.
Info about segments warmed in the background is available via infostream.
<br /><span class="attrib">(Mark Miller, Ryan Ernst, Mike McCandless, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3240">SOLR-3240</a>: Add "spellcheck.collateMaxCollectDocs" option so that when testing
potential Collations against the index, SpellCheckComponent will only collect
n documents, thereby estimating the hit-count.  This is a performance optimization
in cases where exact hit-counts are unnecessary.  Also, when "collateExtendedResults"
is false, this optimization is always made
<br /><span class="attrib">(James Dyer)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4785">SOLR-4785</a>: New MaxScoreQParserPlugin returning max() instead of sum() of terms
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4234">SOLR-4234</a>: Add support for binary files in ZooKeeper.
<br /><span class="attrib">(Eric Pugh via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4048">SOLR-4048</a>: Add findRecursive method to NamedList.
<br /><span class="attrib">(Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4228">SOLR-4228</a>: SolrJ's SolrPing object has new methods for ping, enable, and
disable.
<br /><span class="attrib">(Shawn Heisey, hossman, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4893">SOLR-4893</a>: Extend FieldMutatingUpdateProcessor.ConfigurableFieldNameSelector
to enable checking whether a field matches any schema field.  To select field
names that don't match any fields or dynamic fields in the schema, add
&lt;bool name="fieldNameMatchesSchemaField"&gt;false&lt;/bool&gt; to an update
processor's configuration in solrconfig.xml.
<br /><span class="attrib">(Steve Rowe, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4921">SOLR-4921</a>: Admin UI now supports adding documents to Solr
<br /><span class="attrib">(gsingers, steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4916">SOLR-4916</a>: Add support to write and read Solr index files and transaction log
files to and from HDFS.
<br /><span class="attrib">(phunt, Mark Miller, Gregory Chanan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4892">SOLR-4892</a>: Add FieldMutatingUpdateProcessorFactory subclasses
Parse{Date,Integer,Long,Float,Double,Boolean}UpdateProcessorFactory. These
factories have a default selector that matches all fields that either don’t
match any schema field, or are in the schema with the corresponding
typeClass. If they see a value that is not a CharSequence, or can't parse
the value, they leave it as is. For multi-valued fields, these processors
will not convert any values unless all are first successfully parsed, or
already are instances of the target class. Ordering the processors, e.g.
[Boolean, Long, Double, Date] will allow e.g. values ["2", "5", "8.6"] to
be left alone by the Boolean and Long processors, but then converted by the
Double processor.
<br /><span class="attrib">(Steve Rowe, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4972">SOLR-4972</a>: Add PUT command to ZkCli tool.
<br /><span class="attrib">(Roman Shaposhnik via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4973">SOLR-4973</a>: Adding getter method for defaultCollection on CloudSolrServer.
<br /><span class="attrib">(Furkan KAMACI via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4897">SOLR-4897</a>: Add solr/example/example-schemaless/, an example config set
for schemaless mode.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4655">SOLR-4655</a>: Add option to have Overseer assign generic node names so that
new addresses can host shards without naming confusion.
<br /><span class="attrib">(Mark Miller, Anshum Gupta)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4977">SOLR-4977</a>: Add option to send IndexWriter's infostream to the logging system.
<br /><span class="attrib">(Ryan Ernst via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4693">SOLR-4693</a>: A "deleteshard" collections API that unloads all replicas of a given
shard and then removes it from the cluster state. It will remove only those shards
which are INACTIVE or have no range (created for custom sharding).
<br /><span class="attrib">(Anshum Gupta, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5003">SOLR-5003</a>: CSV Update Handler supports optionally adding the line number/row id to
a document
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5010">SOLR-5010</a>: Add support for creating copy fields to the Schema REST API
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4991">SOLR-4991</a>: Register QParserPlugins as SolrInfoMBeans
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4943">SOLR-4943</a>: Add a new system wide info admin handler that exposes the system info
that could previously only be retrieved using a SolrCore.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3076">SOLR-3076</a>: Block joins.  Documents and their sub-documents must be indexed
as a block.
{!parent which=&lt;allParents&gt;}&lt;someChildren&gt;  takes in a query that matches child
   documents and results in matches on their parents.
{!child of=&lt;allParents&gt;}&lt;someParents&gt;  takes in a query that matches some parent
   documents and results in matches on their children.
<br /><span class="attrib">(Mikhail Khludnev, Vadim Kirilchuk, Alan Woodward, Tom Burton-West, Mike McCandless,
hossman, yonik)</span></li>
    </ol>
  </li>
  <li><a id="v4.4.0.bug_fixes" href="javascript:toggleList('v4.4.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(37)
    <ol id="v4.4.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4333">SOLR-4333</a>: edismax parser to not double-escape colons if already escaped by
the client application
<br /><span class="attrib">(James Dyer, Robert J. van der Boon)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4776">SOLR-4776</a>: Solrj doesn't return "between" count in range facets
<br /><span class="attrib">(Philip K. Warren via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4616">SOLR-4616</a>: HitRatio on caches is now exposed over JMX MBeans as a float.
<br /><span class="attrib">(Greg Bowyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4803">SOLR-4803</a>: Fixed core discovery mode (ie: new style solr.xml) to treat
'collection1' as the default core name.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4790">SOLR-4790</a>: Throw an error if a core has the same name as another core, both old and
new style solr.xml
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4842">SOLR-4842</a>: Fix facet.field local params from affecting other facet.field's.
<br /><span class="attrib">(ehatcher, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4814">SOLR-4814</a>: If a SolrCore cannot be created it should remove any information it
published about itself from ZooKeeper.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4863">SOLR-4863</a>: Removed non-existent attribute sourceId from dynamic JMX stats
to fix AttributeNotFoundException
<br /><span class="attrib">(suganuma, hossman via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4891">SOLR-4891</a>: JsonLoader should preserve field value types from the JSON content stream.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4805">SOLR-4805</a>: SolrCore#reload should not call preRegister and publish a DOWN state to
ZooKeeper.
<br /><span class="attrib">(Mark Miller, Jared Rodriguez)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4899">SOLR-4899</a>: When reconnecting after ZooKeeper expiration, we need to be willing to wait
forever, not just for 30 seconds.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4920">SOLR-4920</a>: JdbcDataSource incorrectly suppresses exceptions when retrieving a connection from
a JNDI context and falls back to trying to use DriverManager to obtain a connection. Additionally,
if a SQLException is thrown while initializing a connection, such as in setAutoCommit(), the
connection will not be closed.
<br /><span class="attrib">(Chris Eldredge via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4915">SOLR-4915</a>: The root cause should be returned to the user when a SolrCore create call fails.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4925">SOLR-4925</a> : Collection create throws NPE when 'numShards' param is missing
<br /><span class="attrib">(Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4910">SOLR-4910</a>: persisting solr.xml is broken. More stringent testing of persistence fixed
up a number of issues and several bugs with persistence. Among them are
<ul class="bulleted-list">
<li class="bulleted-list">
don't persisting implicit properties
</li>
<li class="bulleted-list">
should persist zkHost in the &lt;solr&gt; tag (user's list)
</li>
<li class="bulleted-list">
reloading a core that has transient="true" returned an error. reload should load
  a transient core if it's not yet loaded.
</li>
<li class="bulleted-list">
No longer persisting loadOnStartup or transient core properties if they were not
  specified in the original solr.xml
</li>
<li class="bulleted-list">
Testing flushed out the fact that you couldn't swap a core marked transient=true
  loadOnStartup=false because it hadn't been loaded yet.
</li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-4862">SOLR-4862</a>, CREATE fails to persist schema, config, and dataDir
</li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-4363">SOLR-4363</a>, not persisting coreLoadThreads in &lt;solr&gt; tag
</li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-3900">SOLR-3900</a>, logWatcher properties not persisted
</li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-4850">SOLR-4850</a>, cores defined as loadOnStartup=true, transient=false can't be searched
</li>
</ul>
<span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4923">SOLR-4923</a>: Commits to non leaders as part of a request that also contain updates
can execute out of order.
<br /><span class="attrib">(hossman, Ricardo Merizalde, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4932">SOLR-4932</a>: persisting solr.xml saves some parameters it shouldn't when they weren't
defined in the original. Benign since the default values are saved, but still incorrect.
<br /><span class="attrib">(Erick Erickson, thanks Shawn Heisey for helping test!)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4934">SOLR-4934</a>, <a href="http://issues.apache.org/jira/browse/SOLR-4941">SOLR-4941</a>: Fix handling of &lt;mergePolicy&gt; init arg
"useCompoundFile" needed after changes in <a href="http://issues.apache.org/jira/browse/LUCENE-5038">LUCENE-5038</a>
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4456">SOLR-4456</a>: Admin UI: Displays dashboard even if Solr is down
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4949">SOLR-4949</a>: UI Analysis page dropping characters from input box
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4960">SOLR-4960</a>: Fix race conditions in shutdown of CoreContainer
and getCore that could cause a request to attempt to use a core that
has shut down.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4926">SOLR-4926</a>: Fixed rare replication bug that normally only manifested when
using compound file format.
<br /><span class="attrib">(yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4974">SOLR-4974</a>: Outgrowth of <a href="http://issues.apache.org/jira/browse/SOLR-4960">SOLR-4960</a> that includes transient cores and pending cores
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3369">SOLR-3369</a>: shards.tolerant=true is broken for group queries
<br /><span class="attrib">(Russell Black, Martijn van Groningen, Jabouille jean Charles, Ryan McKinley via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4452">SOLR-4452</a>: Hunspell stemmer should not merge duplicate dictionary entries
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5000">SOLR-5000</a>: ManagedIndexSchema doesn't persist uniqueKey tag after calling addFields
method.
<br /><span class="attrib">(Jun Ohtani, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4982">SOLR-4982</a>: Creating a core while referencing system properties looks like it loses files
Actually, instanceDir, config, dataDir and schema are not dereferenced properly
when creating cores that reference sys vars (e.g. &amp;dataDir=${dir}). In the dataDir
case in particular this leads to the index being put in a directory literally named
${dir} but on restart the sysvar will be properly dereferenced.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4788">SOLR-4788</a>: Multiple Entities DIH delta import: dataimporter.[entityName].last_index_time
is empty.
<br /><span class="attrib">(chakming wong, James Dyer via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4978">SOLR-4978</a>: Time is stripped from datetime column when imported into Solr date field
if convertType=true.
<br /><span class="attrib">(Bill Au, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5019">SOLR-5019</a>: spurious ConcurrentModificationException when spell check component
was in use with filters.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5018">SOLR-5018</a>: The Overseer should avoid publishing the state for collections that do not
exist under the /collections zk node.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5028">SOLR-5028</a>,<a href="http://issues.apache.org/jira/browse/SOLR-5029">SOLR-5029</a>: ShardHandlerFactory was not being created properly when
using new-style solr.xml, and was not being persisted properly when using
old-style.
<br /><span class="attrib">(Tomás Fernández Löbbe, Ryan Ernst, Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4997">SOLR-4997</a>: The splitshard api doesn't call commit on new sub shards before
switching shard states. Multiple bugs related to sub shard recovery and
replication are also fixed.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5034">SOLR-5034</a>: A facet.query that parses or analyzes down to a null Query would
throw a NPE. Fixed.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5039">SOLR-5039</a>: Admin/Schema Browser displays -1 for term counts for multiValued fields.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5037">SOLR-5037</a>: The CSV loader now accepts field names that are not in the schema.
<br /><span class="attrib">(gsingers, ehatcher, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4791">SOLR-4791</a>: solr.xml sharedLib does not work in 4.3.0
<br /><span class="attrib">(Ryan Ernst, Jan Høydahl via
Erick Erickson)</span></li>
    </ol>
  </li>
  <li><a id="v4.4.0.optimizations" href="javascript:toggleList('v4.4.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(9)
    <ol id="v4.4.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4923">SOLR-4923</a>: Commit to all nodes in a collection in parallel rather than locally and
then to all other nodes.
<br /><span class="attrib">(hossman, Ricardo Merizalde, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3838">SOLR-3838</a>: Admin UI - Multiple filter queries are not supported in Query UI
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4719">SOLR-4719</a> : Admin UI - Default to wt=json on Query-Screen
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4611">SOLR-4611</a>: Admin UI - Analysis-Urls with empty parameters create empty result table
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4955">SOLR-4955</a>: Admin UI - Show address bar on top for Schema + Config
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4412">SOLR-4412</a>: New parameter langid.lcmap to map detected language code to be placed
in "language" field
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4815">SOLR-4815</a>: Admin-UI - DIH: Let "commit" be checked by default
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5002">SOLR-5002</a>: optimize numDocs(Query,DocSet) when filterCache is null
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-5012">SOLR-5012</a>: optimize search with filter when filterCache is null
<br /><span class="attrib">(Robert Muir)</span></li>
    </ol>
  </li>
  <li><a id="v4.4.0.other_changes" href="javascript:toggleList('v4.4.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(17)
    <ol id="v4.4.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4737">SOLR-4737</a>: Update Guava to 14.0.1
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2079">SOLR-2079</a>: Add option to pass HttpServletRequest in the SolrQueryRequest context map.
<br /><span class="attrib">(Tomás Fernández Löbbe via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4738">SOLR-4738</a>: Update Jetty to 8.1.10.v20130312
<br /><span class="attrib">(Mark Miller, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4749">SOLR-4749</a>: Clean up and refactor CoreContainer code around solr.xml and SolrCore
management.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4547">SOLR-4547</a>: Move logging of filenames on commit from INFO to DEBUG.
<br /><span class="attrib">(Shawn Heisey, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4757">SOLR-4757</a>: Change the example to use the new solr.xml format and core
discovery by directory structure.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4759">SOLR-4759</a>: Velocity (/browse) template cosmetic cleanup.
<br /><span class="attrib">(Mark Bennett, ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4778">SOLR-4778</a>: LogWatcher init code moved out of CoreContainer
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4784">SOLR-4784</a>: Make class LuceneQParser public
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4448">SOLR-4448</a>: Allow the solr internal load balancer to be more easily pluggable.
<br /><span class="attrib">(Philip Hoy via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4224">SOLR-4224</a>: Refactor JavaBinCodec input stream definition to enhance reuse.
<br /><span class="attrib">(phunt via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4931">SOLR-4931</a>: SolrDeletionPolicy onInit and onCommit methods changed to override
exact signatures (with generics) from IndexDeletionPolicy
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4942">SOLR-4942</a>: test improvements to randomize use of compound files
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4966">SOLR-4966</a>: CSS, JS and other files in webapp without license
<br /><span class="attrib">(uschindler,
steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4986">SOLR-4986</a>: Upgrade to Tika 1.4
<br /><span class="attrib">(Markus Jelsma via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4948">SOLR-4948</a>, <a href="http://issues.apache.org/jira/browse/SOLR-5009">SOLR-5009</a>: Tidied up CoreContainer construction logic.
<br /><span class="attrib">(Alan Woodward, Uwe Schindler, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-5107">LUCENE-5107</a>: Properties files by Solr are now written in UTF-8 encoding,
Unicode is no longer escaped. Reading of legacy properties files with
\u escapes is still possible.
<br /><span class="attrib">(Uwe Schindler, Robert Muir)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.3.1" href="javascript:toggleList('v4.3.1')">Release 4.3.1  [2013-06-18]</a></h3>
<ul id="v4.3.1.list">
  <li><a id="v4.3.1.versions_of_major_components" href="javascript:toggleList('v4.3.1.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.3.1.versions_of_major_components.list">
      <li>Apache Tika 1.3
</li>
      <li>Carrot2 3.6.2
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.5
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.3.1.bug_fixes" href="javascript:toggleList('v4.3.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(22)
    <ol id="v4.3.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4795">SOLR-4795</a>: Sub shard leader should not accept any updates from parent after
it goes active
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4798">SOLR-4798</a>: shard splitting does not respect the router for the collection
when executing the index split.   One effect of this is that documents
may be placed in the wrong shard when the default compositeId router
is used in conjunction with IDs containing "!".
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4797">SOLR-4797</a>: Shard splitting creates sub shards which have the wrong hash
range in cluster state. This happens when numShards is not a power of two
and router is compositeId.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4806">SOLR-4806</a>: Shard splitting does not abort if WaitForState times out
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4807">SOLR-4807</a>: The zkcli script now works with log4j. The zkcli.bat script
was broken on Windows in 4.3.0, now it works.
<br /><span class="attrib">(Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4813">SOLR-4813</a>: Fix SynonymFilterFactory to allow init parameters for
tokenizer factory used when parsing synonyms file.
<br /><span class="attrib">(Shingo Sasaki, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4829">SOLR-4829</a>: Fix transaction log leaks (a failure to clean up some old logs)
on a shard leader, or when unexpected exceptions are thrown during log
recovery.
<br /><span class="attrib">(Steven Bower, Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4751">SOLR-4751</a>: Fix replication problem of files in sub directory of conf directory.
<br /><span class="attrib">(Minoru Osuka via Koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4741">SOLR-4741</a>: Deleting a collection should set DELETE_DATA_DIR to true.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4752">SOLR-4752</a>: There are some minor bugs in the Collections API parameter
validation.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4563">SOLR-4563</a>: RSS DIH-example not working
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4796">SOLR-4796</a>: zkcli.sh should honor JAVA_HOME
<br /><span class="attrib">(Roman Shaposhnik via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4734">SOLR-4734</a>: Leader election fails with an NPE if there is no UpdateLog.
<br /><span class="attrib">(Mark Miller, Alexander Eibner)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4868">SOLR-4868</a>: Setting the log level for the log4j root category results in
adding a new category, the empty string.
<br /><span class="attrib">(Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4855">SOLR-4855</a>: DistributedUpdateProcessor doesn't check for peer sync requests
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4867">SOLR-4867</a>: Admin UI - setting loglevel on root throws RangeError
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4870">SOLR-4870</a>: RecentUpdates.update() does not increment numUpdates loop counter
<br /><span class="attrib">(Alexey Kudinov via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4877">SOLR-4877</a>, <a href="http://issues.apache.org/jira/browse/LUCENE-5023">LUCENE-5023</a>: Removed SolrIndexSearcher#getDocSetNC()'s special
case for handling TermQuery to prevent NullPointerException if reader does
not have fields.
<br /><span class="attrib">(Bao Yang Yang, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4881">SOLR-4881</a>: Fix DocumentAnalysisRequestHandler to correctly use
EmptyEntityResolver to prevent loading of external entities like
UpdateRequestHandler does.
<br /><span class="attrib">(Hossman, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4858">SOLR-4858</a>: SolrCore reloading was broken when the UpdateLog
was enabled.
<br /><span class="attrib">(Hossman, Anshum Gupta, Alexey Serba, Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4853">SOLR-4853</a>: Fixed SolrJettyTestBase so it may be reused by end users
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4744">SOLR-4744</a>: Update failure on sub shard is not propagated to clients by parent
shard
<br /><span class="attrib">(Anshum Gupta, yonik, shalin)</span></li>
    </ol>
  </li>
  <li><a id="v4.3.1.other_changes" href="javascript:toggleList('v4.3.1.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v4.3.1.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4760">SOLR-4760</a>: Include core name in logs when loading schema.
<br /><span class="attrib">(Shawn Heisey)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.3.0" href="javascript:toggleList('v4.3.0')">Release 4.3.0  [2013-05-06]</a></h3>
<ul id="v4.3.0.list">
  <li><a id="v4.3.0.versions_of_major_components" href="javascript:toggleList('v4.3.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.3.0.versions_of_major_components.list">
      <li>Apache Tika 1.3
</li>
      <li>Carrot2 3.6.2
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.5
</li>
    </ol>
  </li>
  <li><a id="v4.3.0.upgrading_from_solr_4.2.0" href="javascript:toggleList('v4.3.0.upgrading_from_solr_4.2.0')">Upgrading from Solr 4.2.0</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v4.3.0.upgrading_from_solr_4.2.0.list">
      <li>In the schema REST API, the output path for copyFields and dynamicFields
has been changed from all lowercase "copyfields" and "dynamicfields" to
camelCase "copyFields" and "dynamicFields", respectively, to align with all
other schema REST API outputs, which use camelCase.  The URL format remains
the same: all resource names are lowercase.  See <a href="http://issues.apache.org/jira/browse/SOLR-4623">SOLR-4623</a> for details.
<p>
</li>
      <li>Slf4j/logging jars are no longer included in the Solr webapp. All logging
jars are now in example/lib/ext. Changing logging impls is now as easy as
updating the jars in this folder with those necessary for the logging impl
you would like. If you are using another webapp container, these jars will
need to go in the corresponding location for that container.
In conjunction, the dist-excl-slf4j and dist-war-excl-slf4 build targets
have been removed since they are redundant.  See the Slf4j documentation,
<a href="http://issues.apache.org/jira/browse/SOLR-3706">SOLR-3706</a>, and <a href="http://issues.apache.org/jira/browse/SOLR-4651">SOLR-4651</a> for more details.
<p>
</li>
      <li>The hardcoded SolrCloud defaults for 'hostContext="solr"' and
'hostPort="8983"' have been deprecated and will be removed in Solr 5.0.
Existing solr.xml files that do not have these options explicitly specified
should be updated accordingly.  See <a href="http://issues.apache.org/jira/browse/SOLR-4622">SOLR-4622</a> for more details.
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.3.0.new_features" href="javascript:toggleList('v4.3.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="v4.3.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4648">SOLR-4648</a> PreAnalyzedUpdateProcessorFactory allows using the functionality
of PreAnalyzedField with other field types. See javadoc for details and
examples.
<br /><span class="attrib">(Andrzej Bialecki)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4623">SOLR-4623</a>: Provide REST API read access to all elements of the live schema.
Add a REST API request to return the entire live schema, in JSON, XML, and
schema.xml formats.  Move REST API methods from package org.apache.solr.rest
to org.apache.solr.rest.schema, and rename base functionality REST API
classes to remove the current schema focus, to prepare for other non-schema
REST APIs.  Change output path for copyFields and dynamicFields from
"copyfields" and "dynamicfields" (all lowercase) to "copyFields" and
"dynamicFields", respectively, to align with all other REST API outputs, which
use camelCase.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4658">SOLR-4658</a>: In preparation for REST API requests that can modify the schema,
a "managed schema" is introduced.
Add '&lt;schemaFactory class="ManagedSchemaFactory" mutable="true"/&gt;' to solrconfig.xml
in order to use it, and to enable schema modifications via REST API requests.
<br /><span class="attrib">(Steve Rowe, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4656">SOLR-4656</a>: Added two new highlight parameters, hl.maxMultiValuedToMatch and
hl.maxMultiValuedToExamine. maxMultiValuedToMatch stops looking for snippets after
finding the specified number of matches, no matter how far into the multivalued field
you've gone. maxMultiValuedToExamine stops looking for matches after the specified
number of multiValued entries have been examined. If both are specified, the limit
hit first stops the loop. Also this patch cuts down on the copying of the document
entries during highlighting. These optimizations are probably unnoticeable unless
there are a large number of entries in the multiValued field. Conspicuously, this will
prevent the "best" match from being found if it appears later in the MV list than the
cutoff specified by either of these params.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4675">SOLR-4675</a>: Improve PostingsSolrHighlighter to support per-field/query-time overrides
and add additional configuration parameters. See the javadocs for more details and
examples.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3755">SOLR-3755</a>: A new collections api to add additional shards dynamically by splitting
existing shards.
<br /><span class="attrib">(yonik, Anshum Gupta, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4530">SOLR-4530</a>: DIH: Provide configuration to use Tika's IdentityHtmlMapper
<br /><span class="attrib">(Alexandre Rafalovitch via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4662">SOLR-4662</a>: Discover SolrCores by directory structure rather than defining them
in solr.xml. Also, change the format of solr.xml to be closer to that of solrconfig.xml.
This version of Solr will ship the example in the old style, but you can manually
try the new style. Solr 4.4 will ship with the new style, and Solr 5.0 will remove
support for the old style.
<br /><span class="attrib">(Erick Erickson, Mark Miller)</span><br />
<p>
Additional Work:<br />
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-4347">SOLR-4347</a>: Ensure that newly-created cores via Admin handler are persisted in solr.xml
<br /><span class="attrib">(Erick Erickson)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-1905">SOLR-1905</a>: Cores created by the admin request handler should be persisted to solr.xml.
  Also fixed a problem whereby properties like solr.solr.datadir would be persisted
  to solr.xml. Also, cores that didn't happen to be loaded were not persisted.
<br /><span class="attrib">(Erick Erickson)</span></li>
</ul>
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4717">SOLR-4717</a>/<a href="http://issues.apache.org/jira/browse/SOLR-1351">SOLR-1351</a>: SimpleFacets now work with localParams allowing faceting on the
same field multiple ways
<br /><span class="attrib">(ryan, Uri Boness)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4671">SOLR-4671</a>: CSVResponseWriter now supports pseudo fields.
<br /><span class="attrib">(ryan, nihed mbarek)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4358">SOLR-4358</a>: HttpSolrServer sends the stream name and exposes 'useMultiPartPost'
<br /><span class="attrib">(Karl Wright via ryan)</span></li>
    </ol>
  </li>
  <li><a id="v4.3.0.bug_fixes" href="javascript:toggleList('v4.3.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(23)
    <ol id="v4.3.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4543">SOLR-4543</a>: setting shardHandlerFactory in solr.xml/solr.properties does not work.
<br /><span class="attrib">(Ryan Ernst, Robert Muir via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4634">SOLR-4634</a>: Fix scripting engine tests to work with Java 8's "Nashorn" Javascript
implementation.
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4636">SOLR-4636</a>: If opening a reader fails for some reason when opening a SolrIndexSearcher,
a Directory can be left unreleased.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4405">SOLR-4405</a>: Admin UI - admin-extra files are not rendered into the core-menu
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3956">SOLR-3956</a>: Fixed group.facet=true to work with negative facet.limit
<br /><span class="attrib">(Chris van der Merwe, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4650">SOLR-4650</a>: copyField doesn't work with source globs that don't match any
explicit or dynamic fields.  This regression was introduced in Solr 4.2.
<br /><span class="attrib">(Daniel Collins, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4641">SOLR-4641</a>: Schema now throws exception on illegal field parameters.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3758">SOLR-3758</a>: Fixed SpellCheckComponent to work consistently with distributed grouping
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4652">SOLR-4652</a>: Fix broken behavior with shared libraries in resource loader for
solr.xml plugins.
<br /><span class="attrib">(Ryan Ernst, Robert Muir, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4664">SOLR-4664</a>: ZkStateReader should update aliases on construction.
<br /><span class="attrib">(Mark Miller, Elodie Sannier)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4682">SOLR-4682</a>: CoreAdminRequest.mergeIndexes can not merge multiple cores or indexDirs.
<br /><span class="attrib">(Jason.D.Cao via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4581">SOLR-4581</a>: When faceting on numeric fields in Solr 4.2, negative values (constraints)
were sorted incorrectly.
<br /><span class="attrib">(Alexander Buhr, shalin, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4699">SOLR-4699</a>: The System admin handler should not assume a file system based data directory
location.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4695">SOLR-4695</a>: Fix core admin SPLIT action to be useful with non-cloud setups
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4680">SOLR-4680</a>: Correct example spellcheck configuration's queryAnalyzerFieldType and
use "text" field instead of narrower "name" field
<br /><span class="attrib">(ehatcher, Mark Bennett)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4702">SOLR-4702</a>: Fix example /browse "Did you mean?" suggestion feature.
<br /><span class="attrib">(ehatcher, Mark Bennett)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4710">SOLR-4710</a>: You cannot delete a collection fully from ZooKeeper unless all nodes are up and
functioning correctly.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4487">SOLR-4487</a>: SolrExceptions thrown by HttpSolrServer will now contain the
proper HTTP status code returned by the remote server, even if that status
code is not something Solr itself returned -- eg: from the Servlet Container,
or an intermediate HTTP Proxy
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4661">SOLR-4661</a>: Admin UI Replication details now correctly displays the current
replicable generation/version of the master.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4716">SOLR-4716</a>,<a href="http://issues.apache.org/jira/browse/SOLR-4584">SOLR-4584</a>: SolrCloud request proxying does not work on Tomcat and
perhaps other non Jetty containers.
<br /><span class="attrib">(Po Rui, Yago Riveiro via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4746">SOLR-4746</a>: Distributed grouping used a NamedList instead of a SimpleOrderedMap
for the top level group commands, causing output formatting differences
compared to non-distributed grouping.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4705">SOLR-4705</a>: Fixed bug causing NPE when querying a single replica in SolrCloud
using the shards param
<br /><span class="attrib">(Raintung Li, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4729">SOLR-4729</a>: LukeRequestHandler: Using a dynamic copyField source that is
not also a dynamic field triggers error message 'undefined field: "(glob)"'.
<br /><span class="attrib">(Adam Hahn, hossman, Steve Rowe)</span></li>
    </ol>
  </li>
  <li><a id="v4.3.0.optimizations" href="javascript:toggleList('v4.3.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(none)
    <ol id="v4.3.0.optimizations.list">
    </ol>
  </li>
  <li><a id="v4.3.0.other_changes" href="javascript:toggleList('v4.3.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="v4.3.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4653">SOLR-4653</a>: Solr configuration should log inaccessible/ non-existent relative paths in lib
dir=...
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4317">SOLR-4317</a>: SolrTestCaseJ4: Can't avoid "collection1" convention
<br /><span class="attrib">(Tricia Jenkins, via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4571">SOLR-4571</a>: SolrZkClient#setData should return Stat object.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4603">SOLR-4603</a>: CachingDirectoryFactory should use an IdentityHashMap for
byDirectoryCache.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4544">SOLR-4544</a>: Refactor HttpShardHandlerFactory so load-balancing logic can be customized.
<br /><span class="attrib">(Ryan Ernst via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4607">SOLR-4607</a>: Use noggit 0.5 release jar rather than a forked copy.
<br /><span class="attrib">(Yonik Seeley, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3706">SOLR-3706</a>: Ship setup to log with log4j.
<br /><span class="attrib">(ryan, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4651">SOLR-4651</a>: Remove dist-excl-slf4j build target.
<br /><span class="attrib">(Shawn Heisey)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4622">SOLR-4622</a>: The hardcoded SolrCloud defaults for 'hostContext="solr"' and
'hostPort="8983"' have been deprecated and will be removed in Solr 5.0.
Existing solr.xml files that do not have these options explicitly specified
should be updated accordingly.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4672">SOLR-4672</a>: Requests attempting to use SolrCores which had init failures
(that would be reported by CoreAdmin STATUS requests) now result in 500
error responses with the details about the init failure, instead of 404
error responses.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4730">SOLR-4730</a>: Make the wiki link more prominent in the release documentation.
<br /><span class="attrib">(Uri Laserson via Robert Muir)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.2.1" href="javascript:toggleList('v4.2.1')">Release 4.2.1  [2013-04-03]</a></h3>
<ul id="v4.2.1.list">
  <li><a id="v4.2.1.versions_of_major_components" href="javascript:toggleList('v4.2.1.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.2.1.versions_of_major_components.list">
      <li>Apache Tika 1.3
</li>
      <li>Carrot2 3.6.2
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.5
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.2.1.bug_fixes" href="javascript:toggleList('v4.2.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(38)
    <ol id="v4.2.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4567">SOLR-4567</a>: copyField source glob matching explicit field(s) stopped working
in Solr 4.2.
<br /><span class="attrib">(Alexandre Rafalovitch, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4475">SOLR-4475</a>: Fix various places that still assume File based paths even when
not using a file based DirectoryFactory.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4551">SOLR-4551</a>: CachingDirectoryFactory needs to create CacheEntry's with the
fullpath not path.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4555">SOLR-4555</a>: When forceNew is used with CachingDirectoryFactory#get, the old
CacheValue should give up its path as it will be used by a new Directory
instance.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4578">SOLR-4578</a>: CoreAdminHandler#handleCreateAction gets a SolrCore and does not
close it in SolrCloud mode when a core with the same name already exists.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4574">SOLR-4574</a>: The Collections API will silently return success on an unknown
ACTION parameter.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4576">SOLR-4576</a>: Collections API validation errors should cause an exception on
clients and otherwise act as validation errors with the Core Admin API.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4577">SOLR-4577</a>: The collections API should return responses (success or failure)
for each node it attempts to work with.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4568">SOLR-4568</a>: The lastPublished state check before becoming a leader is not
working correctly.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4570">SOLR-4570</a>: Even if an explicit shard id is used, ZkController#preRegister
should still wait to see the shard id in its current ClusterState.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4585">SOLR-4585</a>: The Collections API validates numShards with &lt; 0 but should use
&lt;= 0.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4592">SOLR-4592</a>: DefaultSolrCoreState#doRecovery needs to check the CoreContainer
shutdown flag inside the recoveryLock sync block.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4595">SOLR-4595</a>: CachingDirectoryFactory#close can throw a concurrent
modification exception.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4573">SOLR-4573</a>: Accessing Admin UI files in SolrCloud mode logs warnings.
<br /><span class="attrib">(Mark Miller, Phil John)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4594">SOLR-4594</a>: StandardDirectoryFactory#remove accesses byDirectoryCache
without a lock.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4597">SOLR-4597</a>: CachingDirectoryFactory#remove should not attempt to empty/remove
the index right away but flag for removal after close.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4598">SOLR-4598</a>: The Core Admin unload command's option 'deleteDataDir', should use
the DirectoryFactory API to remove the data dir.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4599">SOLR-4599</a>: CachingDirectoryFactory calls close(Directory) on forceNew if the
Directory has a refCnt of 0, but it should call closeDirectory(CacheValue).
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4602">SOLR-4602</a>: ZkController#unregister should cancel its election participation
before asking the Overseer to delete the SolrCore information.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4601">SOLR-4601</a>: A Collection that is only partially created and then deleted will
leave pre allocated shard information in ZooKeeper.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4604">SOLR-4604</a>: UpdateLog#init is over called on SolrCore#reload.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4605">SOLR-4605</a>: Rollback does not work correctly.
<br /><span class="attrib">(Mark S, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4609">SOLR-4609</a>: The Collections API should only send the reload command to ACTIVE
cores.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4297">SOLR-4297</a>: Atomic update request containing null=true sets all subsequent
fields to null
<br /><span class="attrib">(Ben Pennell, Rob, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4371">SOLR-4371</a>: Admin UI - Analysis Screen shows empty result
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4318">SOLR-4318</a>: NPE encountered with querying with wildcards on a field that uses
the DefaultAnalyzer (i.e. no analysis chain defined).
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4361">SOLR-4361</a>: DataImportHandler would throw UnsupportedOperationException if
handler-level parameters were specified containing periods in the name
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4538">SOLR-4538</a>: Date Math expressions were being truncated to 32 characters
when used in field:value queries in the lucene QParser.
<br /><span class="attrib">(hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4617">SOLR-4617</a>: SolrCore#reload needs to pass the deletion policy to the next
SolrCore through its constructor rather than setting a field after.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4589">SOLR-4589</a>: Fixed CPU spikes and poor performance in lazy field loading
of multivalued fields.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4608">SOLR-4608</a>: Update Log replay and PeerSync replay should use the default
processor chain to update the index.
<br /><span class="attrib">(Ludovic Boutros, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4625">SOLR-4625</a>: The solr (lucene syntax) query parser lost top-level boost
values and top-level phrase slops on queries produced by nested
sub-parsers.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4624">SOLR-4624</a>: CachingDirectoryFactory does not need to support forceNew any
longer and it appears to be causing a missing close directory bug. forceNew
is no longer respected and will be removed in 4.3.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3819">SOLR-3819</a>: Grouped faceting (group.facet=true) did not respect filter
exclusions.
<br /><span class="attrib">(Petter Remen, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4637">SOLR-4637</a>: Replication can sometimes wait until shutdown or core unload until
removing some tmp directories.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4638">SOLR-4638</a>: DefaultSolrCoreState#getIndexWriter(null) is a way to avoid
creating the IndexWriter earlier than necessary, but it's not
implemented quite right.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4640">SOLR-4640</a>: CachingDirectoryFactory can fail to close directories in some race
conditions.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4642">SOLR-4642</a>: QueryResultKey is not calculating the correct hashCode for filters.
<br /><span class="attrib">(Joel Bernstein via Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v4.2.1.optimizations" href="javascript:toggleList('v4.2.1.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v4.2.1.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4569">SOLR-4569</a>: waitForReplicasToComeUp should bail right away if it doesn't see the
expected slice in the clusterstate rather than waiting.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4311">SOLR-4311</a>: Admin UI - Optimize Caching Behaviour
<br /><span class="attrib">(steffkes)</span></li>
    </ol>
  </li>
  <li><a id="v4.2.1.other_changes" href="javascript:toggleList('v4.2.1.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v4.2.1.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4537">SOLR-4537</a>: Clean up schema information REST API.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4596">SOLR-4596</a>: DistributedQueue should ensure its full path exists in the constructor.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.2.0" href="javascript:toggleList('v4.2.0')">Release 4.2.0  [2013-03-11]</a></h3>
<ul id="v4.2.0.list">
  <li><a id="v4.2.0.versions_of_major_components" href="javascript:toggleList('v4.2.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.2.0.versions_of_major_components.list">
      <li>Apache Tika 1.3
</li>
      <li>Carrot2 3.6.2
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.5
</li>
    </ol>
  </li>
  <li><a id="v4.2.0.upgrading_from_solr_4.1.0" href="javascript:toggleList('v4.2.0.upgrading_from_solr_4.1.0')">Upgrading from Solr 4.1.0</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v4.2.0.upgrading_from_solr_4.1.0.list">
      <li>(No upgrade instructions yet)
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.2.0.new_features" href="javascript:toggleList('v4.2.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="v4.2.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4043">SOLR-4043</a>: Add ability to get success/failure responses from Collections API.
<br /><span class="attrib">(Raintung Li, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2827">SOLR-2827</a>: RegexpBoost Update Processor
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4370">SOLR-4370</a>: Allow configuring commitWithin to do hard commits.
<br /><span class="attrib">(Mark Miller, Senthuran Sivananthan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4451">SOLR-4451</a>: SolrJ, and SolrCloud internals, now use SystemDefaultHttpClient
under the covers -- allowing many HTTP connection related properties to be
controlled via 'standard' java system properties.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3855">SOLR-3855</a>, <a href="http://issues.apache.org/jira/browse/SOLR-4490">SOLR-4490</a>: Doc values support.
<br /><span class="attrib">(Adrien Grand, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4417">SOLR-4417</a>: Reopen the IndexWriter on SolrCore reload.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4477">SOLR-4477</a>: Add support for queries (match-only) against docvalues fields.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4488">SOLR-4488</a>: Return slave replication details for a master if the master has
also acted like a slave.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4498">SOLR-4498</a>: Add list command to ZkCLI that prints out the contents of
ZooKeeper.
<br /><span class="attrib">(Roman Shaposhnik via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4481">SOLR-4481</a>: SwitchQParserPlugin registered by default as 'switch' using
syntax: {!switch case=XXX case.foo=YYY case.bar=ZZZ default=QQQ}foo
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4078">SOLR-4078</a>: Allow custom naming of SolrCloud nodes so that a new host:port
combination can take over for a previous shard.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4210">SOLR-4210</a>: Requests to a Collection that does not exist on the receiving node
should be proxied to a suitable node.
<br /><span class="attrib">(Mark Miller, Po Rui, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1365">SOLR-1365</a>: New SweetSpotSimilarityFactory allows customizable TF/IDF based
Similarity when you know the optimal "Sweet Spot" of values for the field
length and TF scoring factors.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4138">SOLR-4138</a>: CurrencyField fields can now be used in a ValueSources to
get the "raw" value (using the default number of fractional digits) in
the default currency of the field type.  There is also a new
currency(field,[CODE]) function for generating a ValueSource of the
"natural" value, converted to an optionally specified currency to
override the default for the field type.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4503">SOLR-4503</a>: Add REST API methods, via Restlet integration, for reading schema
elements, at /schema/fields/, /schema/dynamicfields/, /schema/fieldtypes/,
and /schema/copyfields/.
<br /><span class="attrib">(Steve Rowe)</span></li>
    </ol>
  </li>
  <li><a id="v4.2.0.bug_fixes" href="javascript:toggleList('v4.2.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(34)
    <ol id="v4.2.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2850">SOLR-2850</a>: Do not refine facets when minCount == 1
<br /><span class="attrib">(Matt Smith, lundgren via Adrien Grand)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4309">SOLR-4309</a>: /browse: Improve JQuery autosuggest behavior
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4330">SOLR-4330</a>: group.sort is ignored when using group.truncate and ex/tag
local params together
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4321">SOLR-4321</a>: Collections API will sometimes use a node more than once, even
when more unused nodes are available.
<br /><span class="attrib">(Eric Falcao, Brett Hoerner, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4345">SOLR-4345</a> : Solr Admin UI doesn't work in IE 10
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4349">SOLR-4349</a> : Admin UI - Query Interface does not work in IE
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4359">SOLR-4359</a>: The RecentUpdates#update method should treat a problem reading the
next record the same as a problem parsing the record - log the exception and
break.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4225">SOLR-4225</a>: Term info page under schema browser shows incorrect count of terms
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3926">SOLR-3926</a>: Solr should support better way of finding active sorts
<br /><span class="attrib">(Eirik Lygre via
Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4342">SOLR-4342</a>: Fix DataImportHandler stats to be a proper Map
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3967">SOLR-3967</a>: langid.enforceSchema option checks source field instead of target field
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4380">SOLR-4380</a>: Replicate after startup option would not replicate until the
IndexWriter was lazily opened.
<br /><span class="attrib">(Mark Miller, Gregg Donovan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4400">SOLR-4400</a>: Deadlock can occur in a rare race between committing and
closing a SolrIndexWriter.
<br /><span class="attrib">(Erick Erickson, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3655">SOLR-3655</a>: A restarted node can briefly appear live and active before it really
is in some cases.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4426">SOLR-4426</a>: NRTCachingDirectoryFactory does not initialize maxCachedMB and maxMergeSizeMB
if &lt;directoryFactory&gt; is not present in solrconfig.xml
<br /><span class="attrib">(Jack Krupansky via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4463">SOLR-4463</a>: Fix SolrCoreState reference counting.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4459">SOLR-4459</a>: The Replication 'index move' rather than copy optimization doesn't
kick in when using NRTCachingDirectory or the rate limiting feature.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4421">SOLR-4421</a>,<a href="http://issues.apache.org/jira/browse/SOLR-4165">SOLR-4165</a>: On CoreContainer shutdown, all SolrCores should publish their
state as DOWN.
<br /><span class="attrib">(Mark Miller, Markus Jelsma)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4467">SOLR-4467</a>: Ephemeral directory implementations may not recover correctly
because the code to clear the tlog files on startup is off.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4413">SOLR-4413</a>: Fix SolrCore#getIndexDir() to return the current index directory.
<br /><span class="attrib">(Gregg Donovan, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4469">SOLR-4469</a>: A new IndexWriter must be opened on SolrCore reload when the index
directory has changed and the previous SolrCore's state should not be
propagated.
<br /><span class="attrib">(Mark Miller, Gregg Donovan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4471">SOLR-4471</a>: Replication occurs even when a slave is already up to date.
<br /><span class="attrib">(Mark Miller, Andre Charton)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4484">SOLR-4484</a>: ReplicationHandler#loadReplicationProperties still uses Files
rather than the Directory to try and read the replication properties files.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4352">SOLR-4352</a>: /browse pagination now supports and preserves sort context
<br /><span class="attrib">(Eric Spiegelberg, Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-4796">LUCENE-4796</a>, <a href="http://issues.apache.org/jira/browse/SOLR-4373">SOLR-4373</a>: Fix concurrency issue in NamedSPILoader and
AnalysisSPILoader when doing concurrent core loads in multicore
Solr configs.
<br /><span class="attrib">(Uwe Schindler, Hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4504">SOLR-4504</a>: Fixed CurrencyField range queries to correctly exclude
documents w/o values
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4480">SOLR-4480</a>: A trailing + or - caused the edismax parser to throw
an exception.
<br /><span class="attrib">(Fiona Tay, Jan Høydahl, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4507">SOLR-4507</a>: The Cloud tab does not show up in the Admin UI if you
set zkHost in solr.xml.
<br /><span class="attrib">(Alfonso Presa, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4505">SOLR-4505</a>: Possible deadlock around SolrCoreState update lock.
<br /><span class="attrib">(Erick Erickson, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4511">SOLR-4511</a>: When a new index is replicated into place, we need
to update the most recent replicatable index point without
doing a commit. This is important for repeater use cases, as
well as when nodes may switch master/slave roles.
<br /><span class="attrib">(Mark Miller, Raúl Grande)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4515">SOLR-4515</a>: CurrencyField's OpenExchangeRatesOrgProvider now requires
a ratesFileLocation init param, since the previous global default
no longer works
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4518">SOLR-4518</a>: Improved CurrencyField error messages when attempting to
use a Currency that is not supported by the current JVM.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3798">SOLR-3798</a>: Fix copyField implementation in IndexSchema to handle
dynamic field references that aren't string-equal to the name of
the referenced dynamic field.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4497">SOLR-4497</a>: Collection Aliasing.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v4.2.0.optimizations" href="javascript:toggleList('v4.2.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(10)
    <ol id="v4.2.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4339">SOLR-4339</a>: Admin UI - Display Field-Flags on Schema-Browser
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4340">SOLR-4340</a>: Admin UI - Analysis's Button Spinner goes wild
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4341">SOLR-4341</a>: Admin UI - Plugins/Stats Page contains loooong
Values which result in horizontal Scrollbar
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3915">SOLR-3915</a>: Color Legend for Cloud UI
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4306">SOLR-4306</a>: Utilize indexInfo=false when gathering core names in UI
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4284">SOLR-4284</a>: Admin UI - make core list scrollable separate from the rest of
the UI
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4364">SOLR-4364</a>: Admin UI - Locale based number formatting
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4521">SOLR-4521</a>: Stop using the 'force' option for recovery replication. This
will keep some less common unnecessary replications from happening.
<br /><span class="attrib">(Mark Miller, Simon Scofield)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4529">SOLR-4529</a>: Improve Admin UI Dashboard legibility
<br /><span class="attrib">(Felix Buenemann via
steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4526">SOLR-4526</a>: Admin UI depends on optional system info
<br /><span class="attrib">(Felix Buenemann via
steffkes)</span></li>
    </ol>
  </li>
  <li><a id="v4.2.0.other_changes" href="javascript:toggleList('v4.2.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="v4.2.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4259">SOLR-4259</a>: Carrot2 dependency should be declared on the mini version, not the core.
<br /><span class="attrib">(Dawid Weiss)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4348">SOLR-4348</a>: Make the lock type configurable by system property by default.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4353">SOLR-4353</a>: Renamed example jetty context file to reduce confusion
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4384">SOLR-4384</a>: Make post.jar report timing information
<br /><span class="attrib">(Upayavira via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4415">SOLR-4415</a>: Add 'state' to shards (default to 'active') and read/write them to
ZooKeeper
<br /><span class="attrib">(Anshum Gupta via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4394">SOLR-4394</a>: Tests and example configs demonstrating SSL with both server
and client certs
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3060">SOLR-3060</a>: SurroundQParserPlugin highlighting tests
<br /><span class="attrib">(Ahmet Arslan via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2470">SOLR-2470</a>: Added more tests for VelocityResponseWriter
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4471">SOLR-4471</a>: Improve and clean up TestReplicationHandler.
<br /><span class="attrib">(Amit Nithian via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3843">SOLR-3843</a>: Include lucene codecs jar and enable per-field postings and docvalues
support in the schema.xml
<br /><span class="attrib">(Robert Muir, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4511">SOLR-4511</a>: Add new test for 'repeater' replication node.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4458">SOLR-4458</a>: Sort directions (asc, desc) are now case insensitive
<br /><span class="attrib">(Shawn Heisey via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2996">SOLR-2996</a>: A bare * without a field specification is treated as *:*
by the lucene and edismax query parsers.
<br /><span class="attrib">(hossman, Jan Høydahl, Alan Woodward, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4416">SOLR-4416</a>: Upgrade to Tika 1.3.
<br /><span class="attrib">(Markus Jelsma via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4200">SOLR-4200</a>: Reduce INFO level logging from CachingDirectoryFactory
<br /><span class="attrib">(Shawn Heisey via hossman)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.1.0" href="javascript:toggleList('v4.1.0')">Release 4.1.0  [2013-01-22]</a></h3>
<ul id="v4.1.0.list">
  <li><a id="v4.1.0.versions_of_major_components" href="javascript:toggleList('v4.1.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.1.0.versions_of_major_components.list">
      <li>Apache Tika 1.2
</li>
      <li>Carrot2 3.6.2
</li>
      <li>Velocity 1.7 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.4.5
</li>
    </ol>
  </li>
  <li><a id="v4.1.0.upgrading_from_solr_4.0.0" href="javascript:toggleList('v4.1.0.upgrading_from_solr_4.0.0')">Upgrading from Solr 4.0.0</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v4.1.0.upgrading_from_solr_4.0.0.list">
      <li>Custom java parsing plugins need to migrate from throwing the internal
ParseException to throwing SyntaxError.
</li>
      <li>BaseDistributedSearchTestCase now randomizes the servlet context it uses when
creating Jetty instances.  Subclasses that assume a hard coded context of
"/solr" should either be fixed to use the "String context" variable, or should
take advantage of the new BaseDistributedSearchTestCase(String) constructor
to explicitly specify a fixed servlet context path.  See <a href="http://issues.apache.org/jira/browse/SOLR-4136">SOLR-4136</a> for details.
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.1.0.new_features" href="javascript:toggleList('v4.1.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(35)
    <ol id="v4.1.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2255">SOLR-2255</a>: Enhanced pivot faceting to use local-params in the same way that
regular field value faceting can. This means support for excluding a filter
query, using a different output key, and specifying 'threads' to do
facet.method=fcs concurrently. PivotFacetHelper now extends SimpleFacet and
the getFacetImplementation() extension hook was removed.
<br /><span class="attrib">(dsmiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3897">SOLR-3897</a>: A highlighter parameter "hl.preserveMulti" to return all of the
values of a multiValued field in their original order when highlighting.
<br /><span class="attrib">(Joel Bernstein via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3929">SOLR-3929</a>: Support configuring IndexWriter max thread count in solrconfig.
<br /><span class="attrib">(phunt via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3906">SOLR-3906</a>: Add support for AnalyzingSuggester (<a href="http://issues.apache.org/jira/browse/LUCENE-3842">LUCENE-3842</a>), where the
underlying analyzed form used for suggestions is separate from the returned
text.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3985">SOLR-3985</a>: ExternalFileField caches can be reloaded on firstSearcher/
newSearcher events using the ExternalFileFieldReloader
<br /><span class="attrib">(Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3911">SOLR-3911</a>: Make Directory and DirectoryFactory first class so that the majority
of Solr's features work with any custom implementations.
<br /><span class="attrib">(Mark Miller)</span><br />
<p>
Additional Work:<br />
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-4032">SOLR-4032</a>: Files larger than an internal buffer size fail to replicate.
<br /><span class="attrib">(Mark Miller, Markus Jelsma)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-4033">SOLR-4033</a>: Consistently use the solrconfig.xml lockType everywhere.
<br /><span class="attrib">(Mark Miller, Markus Jelsma)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-4144">SOLR-4144</a>: Replication using too much RAM.
<br /><span class="attrib">(yonik, Markus Jelsma)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-4187">SOLR-4187</a>: NPE on Directory release
<br /><span class="attrib">(Mark Miller, Markus Jelsma)</span></li>
</ul>
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4051">SOLR-4051</a>: Add &lt;propertyWriter /&gt; element to DIH's data-config.xml file,
allowing the user to specify the location, filename and Locale for
the "data-config.properties" file.  Alternatively, users can specify their
own property writer implementation for greater control. This new configuration
element is optional, and defaults mimic prior behavior.  The one exception is
that the "root" locale is default. Previously it was the machine's default locale.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4084">SOLR-4084</a>: Add FuzzyLookupFactory, which is like AnalyzingSuggester except that
it can tolerate typos in the input.
<br /><span class="attrib">(Areek Zillur via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4088">SOLR-4088</a>: New and improved auto host detection strategy for SolrCloud.
<br /><span class="attrib">(Raintung Li via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3970">SOLR-3970</a>: SystemInfoHandler now exposes more details about the
JRE/VM/Java version in use.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4101">SOLR-4101</a>: Add support for storing term offsets in the index via a
'storeOffsetsWithPositions' flag on field definitions in the schema.
<br /><span class="attrib">(Tom Winch, Alan Woodward)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4093">SOLR-4093</a>: Solr QParsers may now be directly invoked in the lucene
query syntax without the _query_ magic field hack.
Example:  foo AND {!term f=myfield v=$qq}
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4087">SOLR-4087</a>: Add MAX_DOC_FREQ option to MoreLikeThis.
<br /><span class="attrib">(Andrew Janowczyk via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4114">SOLR-4114</a>: Allow creating more than one shard per instance with the
Collection API.
<br /><span class="attrib">(Per Steffensen, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3531">SOLR-3531</a>: Allowing configuring maxMergeSizeMB and maxCachedMB when
using NRTCachingDirectoryFactory.
<br /><span class="attrib">(Andy Laird via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4118">SOLR-4118</a>: Fix replicationFactor to align with industry usage.
replicationFactor now means the total number of copies
of a document stored in the collection (or the total number of
physical indexes for a single logical slice of the collection).
For example if replicationFactor=3 then for a given shard there
will be a total of 3 replicas (one of which will normally be
designated as the leader.)
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4124">SOLR-4124</a>: You should be able to set the update log directory with the
CoreAdmin API the same way as the data directory.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4028">SOLR-4028</a>: When using ZK chroot, it would be nice if Solr would create the
initial path when it doesn't exist.
<br /><span class="attrib">(Tomás Fernández Löbbe via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3948">SOLR-3948</a>: Calculate/display deleted documents in admin interface.
<br /><span class="attrib">(Shawn Heisey via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4030">SOLR-4030</a>: Allow rate limiting Directory IO based on the IO context.
<br /><span class="attrib">(Mark Miller, Radim Kolar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4166">SOLR-4166</a>: LBHttpSolrServer ignores ResponseParser passed in constructor.
<br /><span class="attrib">(Steve Molloy via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4140">SOLR-4140</a>: Allow access to the collections API through CloudSolrServer
without referencing an existing collection.
<br /><span class="attrib">(Per Steffensen via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-788">SOLR-788</a>: Distributed search support for MLT.
<br /><span class="attrib">(Matthew Woytowitz, Mike Anderson, Jamie Johnson, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4120">SOLR-4120</a>: Collection API: Support for specifying a list of Solr addresses to
spread a new collection across.
<br /><span class="attrib">(Per Steffensen via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4110">SOLR-4110</a>: Configurable Content-Type headers for PHPResponseWriters and
PHPSerializedResponseWriter.
<br /><span class="attrib">(Dominik Siebel via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1028">SOLR-1028</a>: The ability to specify "transient" and "loadOnStartup" as a new properties of
&lt;core&gt; tags in solr.xml. Can specify "transientCacheSize" in the &lt;cores&gt; tag. Together
these allow cores to be loaded only when needed and only transientCacheSize transient
cores will be loaded at a time, the rest aged out on an LRU basis.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4246">SOLR-4246</a>: When update.distrib is set to skip update processors before
the distributed update processor, always include the log update processor
so forwarded updates will still be logged.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4230">SOLR-4230</a>: The new Solr 4 spatial fields now work with the {!geofilt} and
{!bbox} query parsers. The score local-param works too.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1972">SOLR-1972</a>: Add extra statistics to RequestHandlers - 5 &amp; 15-minute reqs/sec
rolling averages; median, 75th, 95th, 99th, 99.9th percentile request times
<br /><span class="attrib">(Alan Woodward, Shawn Heisey, Adrien Grand, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4271">SOLR-4271</a>: Add support for PostingsHighlighter.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4255">SOLR-4255</a>: The new Solr 4 spatial fields now have a 'filter' boolean local-param
that can be set to false to not filter. It's useful when there is already a spatial
filter query but you also need to sort or boost by distance.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4265">SOLR-4265</a>, <a href="http://issues.apache.org/jira/browse/SOLR-4283">SOLR-4283</a>: Solr now parses request parameters (in URL or sent with POST
using content-type application/x-www-form-urlencoded) in its dispatcher code. It no
longer relies on special configuration settings in Tomcat or other web containers
to enable UTF-8 encoding, which is mandatory for correct Solr behaviour. Query
strings passed in via the URL need to be properly-%-escaped, UTF-8 encoded
bytes, otherwise Solr refuses to handle the request. The maximum length of
x-www-form-urlencoded POST parameters can now be configured through the
requestDispatcher/requestParsers/@formdataUploadLimitInKB setting in
solrconfig.xml (defaults to 2 MiB). Solr now works out of the box with
e.g. Tomcat, JBoss,...
<br /><span class="attrib">(Uwe Schindler, Dawid Weiss, Alex Rocher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2201">SOLR-2201</a>: DIH's "formatDate" function now supports a timezone as an optional
fourth parameter
<br /><span class="attrib">(James Dyer, Mark Waddle)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4302">SOLR-4302</a>: New parameter 'indexInfo' (defaults to true) in CoreAdmin STATUS
command can be used to omit index specific information
<br /><span class="attrib">(Shahar Davidson via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2592">SOLR-2592</a>: Collection specific document routing.  The "compositeId"
router is the default for collections with hash based routing (i.e. when
numShards=N is specified on collection creation).  Documents with ids sharing
the same domain (prefix) will be routed to the same shard, allowing for
efficient querying.
<p>
Example:
  The following two documents will be indexed to the same shard
  since they share the same domain "customerB!".
  <pre><code>
     {"id" : "customerB!doc1" [...] }
     {"id" : "customerB!doc2" [...] }></code></pre>
  At query time, one can specify a "shard.keys" parameter that lists what
  shards the query should cover.
     http://.../query?q=my_query&amp;shard.keys=customerB!
<p>
Collections that do not specify numShards at collection creation time
use custom sharding and default to the "implicit" router.  Document updates
received by a shard will be indexed to that shard, unless a "_shard_" parameter
or document field names a different shard.
<br /><span class="attrib">(Michael Garski, Dan Rosher, yonik)</span></li>
    </ol>
  </li>
  <li><a id="v4.1.0.optimizations" href="javascript:toggleList('v4.1.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="v4.1.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3788">SOLR-3788</a>: Admin Cores UI should redirect to newly created core details
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3895">SOLR-3895</a>: XML and XSLT UpdateRequestHandler should not try to resolve
external entities. This improves speed of loading e.g. XSL-transformed
XHTML documents.
<br /><span class="attrib">(Martin Herfurt, uschindler, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3614">SOLR-3614</a>: Fix XML parsing in XPathEntityProcessor to correctly expand
named entities, but ignore external entities.
<br /><span class="attrib">(uschindler, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3734">SOLR-3734</a>: Improve Schema-Browser Handling for CopyField using
dynamicField's
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3941">SOLR-3941</a>: The "commitOnLeader" part of distributed recovery can use
openSearcher=false.
<br /><span class="attrib">(Tomás Fernández Löbbe via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4063">SOLR-4063</a>: Allow CoreContainer to load multiple SolrCores in parallel rather
than just serially.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4199">SOLR-4199</a>: When doing zk retries due to connection loss, rather than just
retrying for 2 minutes, retry in proportion to the session timeout.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4262">SOLR-4262</a>: Replication Icon on Dashboard does not reflect Master-/Slave-
State
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4264">SOLR-4264</a>: Missing Error-Screen on UI's Cloud-Page
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4261">SOLR-4261</a>: Percentage Infos on Dashboard have a fixed width
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3851">SOLR-3851</a>: create a new core/delete an existing core should also update
the main/left list of cores on the admin UI
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3840">SOLR-3840</a>: XML query response display is unreadable in Solr Admin Query UI
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3982">SOLR-3982</a>: Admin UI: Various Dataimport Improvements
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4296">SOLR-4296</a>: Admin UI: Improve Dataimport Auto-Refresh
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3458">SOLR-3458</a>: Allow multiple Items to stay open on Plugins-Page
<br /><span class="attrib">(steffkes)</span></li>
    </ol>
  </li>
  <li><a id="v4.1.0.bug_fixes" href="javascript:toggleList('v4.1.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(83)
    <ol id="v4.1.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4288">SOLR-4288</a>: Improve logging for FileDataSource (basePath, relative
resources).
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4007">SOLR-4007</a>: Morfologik dictionaries not available in Solr field type
due to class loader lookup problems.
<br /><span class="attrib">(Lance Norskog, Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3560">SOLR-3560</a>: Handle different types of Exception Messages for Logging UI
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3637">SOLR-3637</a>: Commit Status at Core-Admin UI is always false
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3917">SOLR-3917</a>: Partial State on Schema-Browser UI is not defined for Dynamic
Fields &amp; Types
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3939">SOLR-3939</a>: Consider a sync attempt from leader to replica that fails due
to 404 a success.
<br /><span class="attrib">(Mark Miller, Joel Bernstein)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3940">SOLR-3940</a>: Rejoining the leader election incorrectly triggers the code path
for a fresh cluster start rather than fail over.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3961">SOLR-3961</a>: Fixed error using LimitTokenCountFilterFactory
<br /><span class="attrib">(Jack Krupansky, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3933">SOLR-3933</a>: Distributed commits are not guaranteed to be ordered within a
request.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3939">SOLR-3939</a>: An empty or just replicated index cannot become the leader of a
shard after a leader goes down.
<br /><span class="attrib">(Joel Bernstein, yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3971">SOLR-3971</a>: A collection that is created with numShards=1 turns into a
numShards=2 collection after starting up a second core and not specifying
numShards.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3988">SOLR-3988</a>: Fixed SolrTestCaseJ4.adoc(SolrInputDocument) to respect
field and document boosts
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3981">SOLR-3981</a>: Fixed bug that resulted in document boosts being compounded in
&lt;copyField/&gt; destination fields.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3920">SOLR-3920</a>: Fix server list caching in CloudSolrServer when using more than one
collection list with the same instance.
<br /><span class="attrib">(Grzegorz Sobczyk, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3938">SOLR-3938</a>: prepareCommit command omits commitData causing a failure to trigger
replication to slaves.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3992">SOLR-3992</a>: QuerySenderListener doesn't populate document cache.
<br /><span class="attrib">(Shotaro Kamio, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3995">SOLR-3995</a>: Recovery may never finish on SolrCore shutdown if the last reference to
a SolrCore is closed by the recovery process.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3998">SOLR-3998</a>: Atomic update on uniqueKey field itself causes duplicate document.
<br /><span class="attrib">(Eric Spencer, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4001">SOLR-4001</a>: In CachingDirectoryFactory#close, if there are still refs for a
Directory outstanding, we need to wait for them to be released before closing.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4005">SOLR-4005</a>: If CoreContainer fails to register a created core, it should close it.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4009">SOLR-4009</a>: OverseerCollectionProcessor is not resilient to many error conditions
and can stop running on errors.
<br /><span class="attrib">(Raintung Li, milesli, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4019">SOLR-4019</a>: Log stack traces for 503/Service Unavailable SolrException if not
thrown by PingRequestHandler. Do not log exceptions if a user tries to view a
hidden file using ShowFileRequestHandler.
<br /><span class="attrib">(Tomás Fernández Löbbe via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3589">SOLR-3589</a>: Edismax parser does not honor mm parameter if analyzer splits a token.
<br /><span class="attrib">(Tom Burton-West, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4031">SOLR-4031</a>: Upgrade to Jetty 8.1.7 to fix a bug where in very rare occasions
the content of two concurrent requests get mixed up.
<br /><span class="attrib">(Per Steffensen, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4060">SOLR-4060</a>: ReplicationHandler can try and do a snappull and open a new IndexWriter
after shutdown has already occurred, leaving an IndexWriter that is not closed.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4055">SOLR-4055</a>: Fix a thread safety issue with the Collections API that could
cause actions to be targeted at the wrong SolrCores.
<br /><span class="attrib">(Raintung Li, Per Steffensen via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3993">SOLR-3993</a>: If multiple SolrCore's for a shard coexist on a node, on cluster
restart, leader election would stall until timeout, waiting to see all of
the replicas come up.
<br /><span class="attrib">(Mark Miller, Alexey Kudinov)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2045">SOLR-2045</a>: Databases that require a commit to be issued before closing the
connection on a non-read-only database leak connections.  Also expanded the
SqlEntityProcessor test to sometimes use Derby as well as HSQLDB (Derby is
one db affected by this bug).
<br /><span class="attrib">(Fenlor Sebastia, James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4064">SOLR-4064</a>: When there is an unexpected exception while trying to run the new
leader process, the SolrCore will not correctly rejoin the election.
<br /><span class="attrib">(Po Rui via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3989">SOLR-3989</a>: SolrZkClient constructor dropped exception cause when throwing
a new RuntimeException.
<br /><span class="attrib">(Colin Bartolome, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4036">SOLR-4036</a>: field aliases in fl should not cause properties of target field
to be used.
<br /><span class="attrib">(Martin Koch, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4003">SOLR-4003</a>: The SolrZKClient clean method should not try and clear zk paths
that start with /zookeeper, as this can fail and stop the removal of
further nodes.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4076">SOLR-4076</a>: SolrQueryParser should run fuzzy terms through
MultiTermAwareComponents to ensure that (for example) a fuzzy query of
foobar~2 is equivalent to FooBar~2 on a field that includes lowercasing.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4081">SOLR-4081</a>: QueryParsing.toString, used during debugQuery=true, did not
correctly handle ExtendedQueries such as WrappedQuery
(used when cache=false), spatial queries, and frange queries.
<br /><span class="attrib">(Eirik Lygre, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3959">SOLR-3959</a>: Ensure the internal comma separator of poly fields is escaped
for CSVResponseWriter.
<br /><span class="attrib">(Areek Zillur via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4075">SOLR-4075</a>: A logical shard that has had all of its SolrCores unloaded should
be removed from the cluster state.
<br /><span class="attrib">(Mark Miller, Gilles Comeau)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4034">SOLR-4034</a>: Check if a collection already exists before trying to create a
new one.
<br /><span class="attrib">(Po Rui, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4097">SOLR-4097</a>: Race can cause NPE in logging line on first cluster state update.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4099">SOLR-4099</a>: Allow the collection api work queue to make forward progress even
when its watcher is not fired for some reason.
<br /><span class="attrib">(Raintung Li via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3960">SOLR-3960</a>: Fixed a bug where Distributed Grouping ignored PostFilters
<br /><span class="attrib">(Nathan Visagan, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3842">SOLR-3842</a>: DIH would not populate multivalued fields if the column name
derives from a resolved variable
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4117">SOLR-4117</a>: Retrieving the size of the index may use the wrong index dir if
you are replicating.
<br /><span class="attrib">(Mark Miller, Markus Jelsma)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2890">SOLR-2890</a>: Fixed a bug that prevented omitNorms and omitTermFreqAndPositions
options from being respected in some &lt;fieldType/&gt; declarations
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4159">SOLR-4159</a>: When we are starting a shard from rest, a potential leader should
not consider its last published state when deciding if it can be the new
leader.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4158">SOLR-4158</a>: When a core is registering in ZooKeeper it may not wait long
enough to find the leader due to how long the potential leader waits to see
replicas.
<br /><span class="attrib">(Mark Miller, Alain Rogister)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4162">SOLR-4162</a>: ZkCli usage examples are not correct because the zkhost parameter
is not present and it is mandatory for all commands.
<br /><span class="attrib">(Tomás Fernández Löbbe via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4071">SOLR-4071</a>: Validate that name is pass to Collections API create, and behave the
same way as on startup when collection.configName is not explicitly passed.
<br /><span class="attrib">(Po Rui, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4127">SOLR-4127</a>: Added explicit error message if users attempt Atomic document
updates with either updateLog or DistribUpdateProcessor.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4136">SOLR-4136</a>: Fix SolrCloud behavior when using "hostContext" containing "_"
or"/" characters.  This fix also makes SolrCloud more accepting of
hostContext values with leading/trailing slashes.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4168">SOLR-4168</a>: Ensure we are using the absolute latest index dir when getting
list of files for replication.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4171">SOLR-4171</a>: CachingDirectoryFactory should not return any directories after it
has been closed.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4102">SOLR-4102</a>: Fix UI javascript error if canonical hostname can not be resolved
<br /><span class="attrib">(steffkes via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4178">SOLR-4178</a>: ReplicationHandler should abort any current pulls and wait for
its executor to stop during core close.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3918">SOLR-3918</a>: Fixed the 'dist-war-excl-slf4j' ant target to exclude all
slf4j jars, so that the resulting war is usable as is provided the servlet
container includes the correct slf4j api and impl jars.
<br /><span class="attrib">(Shawn Heisey, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4198">SOLR-4198</a>: OverseerCollectionProcessor should implement ClosableThread.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4213">SOLR-4213</a>: Directories that are not shutdown until DirectoryFactory#close
do not have close listeners called on them.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4134">SOLR-4134</a>: Standard (XML) request writer cannot "set" multiple values into
multivalued field with partial updates.
<br /><span class="attrib">(Luis Cappa Banda, Will Butler, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3972">SOLR-3972</a>: Fix ShowFileRequestHandler to not log a warning in the
(expected) situation of a file not found.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4133">SOLR-4133</a>: Cannot "set" field to null with partial updates when using the
standard RequestWriter.
<br /><span class="attrib">(Will Butler, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4223">SOLR-4223</a>: "maxFormContentSize" in jetty.xml is not picked up by jetty 8
so set it via solr webapp context file.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4175">SOLR-4175</a>:SearchComponent chain can't contain two components of the
same class and use debugQuery.
<br /><span class="attrib">(Tomás Fernández Löbbe via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4244">SOLR-4244</a>: When coming back from session expiration we should not wait for
the leader to see us in the down state if we are the node that must become
the leader.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4245">SOLR-4245</a>: When a core is registering with ZooKeeper, the timeout to find the
leader in the cluster state is 30 seconds rather than leaderVoteWait + extra
time.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4238">SOLR-4238</a>: Fix jetty example requestLog config
<br /><span class="attrib">(jm via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4251">SOLR-4251</a>: Fix SynonymFilterFactory when an optional tokenizerFactory is supplied.
<br /><span class="attrib">(Chris Bleakley via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4253">SOLR-4253</a>: Misleading resource loading warning from Carrot2 clustering
component fixed
<br /><span class="attrib">(Stanisław Osiński)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4257">SOLR-4257</a>: PeerSync updates and Log Replay updates should not wait for
a ZooKeeper connection in order to proceed.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4045">SOLR-4045</a>: SOLR admin page returns HTTP 404 on core names containing
a '.' (dot)
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4176">SOLR-4176</a>: analysis ui: javascript not properly handling URL decoding
of input
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4079">SOLR-4079</a>: Long core names break web gui appearance and functionality
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4263">SOLR-4263</a>: Incorrect Link from Schema-Browser to Query From for Top-Terms
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3829">SOLR-3829</a>: Admin UI Logging events broken if schema.xml defines a catch-all
dynamicField with type ignored
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4275">SOLR-4275</a>: Fix TrieTokenizer to no longer throw StringIndexOutOfBoundsException
in admin UI / AnalysisRequestHandler when you enter no number to tokenize.
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4279">SOLR-4279</a>: Wrong exception message if _version_ field is multivalued
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4170">SOLR-4170</a>: The 'backup' ReplicationHandler command can sometimes use a stale
index directory rather than the current one.
<br /><span class="attrib">(Mark Miller, Marcin Rzewucki)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3876">SOLR-3876</a>: Solr Admin UI is completely dysfunctional on IE 9
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4112">SOLR-4112</a>: Fixed DataImportHandler ZKAwarePropertiesWriter implementation so
import works fine with SolrCloud clusters
<br /><span class="attrib">(Deniz Durmus, James Dyer,
Erick Erickson, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4291">SOLR-4291</a>: Harden the Overseer work queue thread loop.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3820">SOLR-3820</a>: Solr Admin Query form is missing some edismax request parameters
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4217">SOLR-4217</a>: post.jar no longer ignores -Dparams when -Durl is used.
<br /><span class="attrib">(Alexandre Rafalovitch, ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4303">SOLR-4303</a>: On replication, if the generation of the master is lower than the
slave we need to force a full copy of the index.
<br /><span class="attrib">(Mark Miller, Gregg Donovan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4266">SOLR-4266</a>: HttpSolrServer does not release connection properly on exception
when no response parser is used.
<br /><span class="attrib">(Steve Molloy via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2298">SOLR-2298</a>: Updated JavaDoc for SolrDocument.addField and SolrInputDocument.addField
to have more information on name and value parameters.
<br /><span class="attrib">(Siva Natarajan)</span></li>
    </ol>
  </li>
  <li><a id="v4.1.0.other_changes" href="javascript:toggleList('v4.1.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(29)
    <ol id="v4.1.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4106">SOLR-4106</a>: Javac/ ivy path warnings with morfologik fixed by
upgrading to Morfologik 1.5.5
<br /><span class="attrib">(Robert Muir, Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3899">SOLR-3899</a>: SolrCore should not log at warning level when the index directory
changes - it's an info event.
<br /><span class="attrib">(Tobias Bergman, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3861">SOLR-3861</a>: Refactor SolrCoreState so that it's managed by SolrCore.
<br /><span class="attrib">(Mark Miller, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3966">SOLR-3966</a>: Eliminate superfluous warning from LanguageIdentifierUpdateProcessor
<br /><span class="attrib">(Markus Jelsma via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3932">SOLR-3932</a>: SolrCmdDistributorTest either takes 3 seconds or 3 minutes.
<br /><span class="attrib">(yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3856">SOLR-3856</a>: New tests for SqlEntityProcessor/CachedSqlEntityProcessor
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4067">SOLR-4067</a>: ZkStateReader#getLeaderProps should not return props for a leader
that it does not think is live.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4086">SOLR-4086</a>: DIH refactor of VariableResolver and Evaluator.  VariableResolver
and each built-in Evaluator are separate concrete classes.  DateFormatEvaluator
now defaults with the ROOT Locale. However, users may specify a different
Locale using an optional new third parameter.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3602">SOLR-3602</a>: Update ZooKeeper to 3.4.5
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4095">SOLR-4095</a>: DIH NumberFormatTransformer &amp; DateFormatTransformer default to the
ROOT Locale if none is specified.  These previously used the machine's default.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4096">SOLR-4096</a>: DIH FileDataSource &amp; FieldReaderDataSource default to UTF-8 encoding
if none is specified.  These previously used the machine's default.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1916">SOLR-1916</a>: DIH to not use Lucene-forbidden Java APIs
(default encoding, locale, etc.)
<br /><span class="attrib">(James Dyer, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4111">SOLR-4111</a>: SpellCheckCollatorTest#testContextSensitiveCollate to test against
both DirectSolrSpellChecker &amp; IndexBasedSpellChecker
<br /><span class="attrib">(Tomás Fernández Löbbe via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2141">SOLR-2141</a>: Better test coverage for Evaluators
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4119">SOLR-4119</a>: Update Guava to 13.0.1
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4074">SOLR-4074</a>: Raise default ramBufferSizeMB to 100 from 32.
<br /><span class="attrib">(yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4062">SOLR-4062</a>: The update log location in solrconfig.xml should default to
${solr.ulog.dir} rather than ${solr.data.dir:}
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4155">SOLR-4155</a>: Upgrade Jetty to 8.1.8.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2986">SOLR-2986</a>: Add MoreLikeThis to warning about features that require uniqueKey.
Also, change the warning to warn log level.
<br /><span class="attrib">(Shawn Heisey via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4163">SOLR-4163</a>: README improvements
<br /><span class="attrib">(Shawn Heisey via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4248">SOLR-4248</a>: "ant eclipse" should declare .svn directories as derived.
<br /><span class="attrib">(Shawn Heisey via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3279">SOLR-3279</a>: Upgrade Carrot2 to 3.6.2
<br /><span class="attrib">(Stanisław Osiński)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4254">SOLR-4254</a>: Harden the 'leader requests replica to recover' code path.
<br /><span class="attrib">(Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4226">SOLR-4226</a>: Extract fl parsing code out of ReturnFields constructor.
<br /><span class="attrib">(Ryan Ernst via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4208">SOLR-4208</a>: ExtendedDismaxQParserPlugin has been refactored to make
subclassing easier.
<br /><span class="attrib">(Tomás Fernández Löbbe, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3735">SOLR-3735</a>: Relocate the example mime-to-extension mapping, and
upgrade Velocity Engine to 1.7
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4287">SOLR-4287</a>: Removed "apache-" prefix from Solr distribution and artifact
filenames.
<br /><span class="attrib">(Ryan Ernst, Robert Muir, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4016">SOLR-4016</a>: Deduplication does not work with atomic/partial updates so
disallow atomic update requests which change signature generating fields.
<br /><span class="attrib">(Joel Nothman, yonik, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4308">SOLR-4308</a>: Remove the problematic and now unnecessary log4j-over-slf4j.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.0.0" href="javascript:toggleList('v4.0.0')">Release 4.0.0  [2012-10-12]</a></h3>
<ul id="v4.0.0.list">
  <li><a id="v4.0.0.versions_of_major_components" href="javascript:toggleList('v4.0.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.0.0.versions_of_major_components.list">
      <li>Apache Tika 1.2
</li>
      <li>Carrot2 3.5.0
</li>
      <li>Velocity 1.6.4 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.3.6
</li>
    </ol>
  </li>
  <li><a id="v4.0.0.upgrading_from_solr_4.0.0-beta" href="javascript:toggleList('v4.0.0.upgrading_from_solr_4.0.0-beta')">Upgrading from Solr 4.0.0-BETA</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v4.0.0.upgrading_from_solr_4.0.0-beta.list">
      <li>In order to better support distributed search mode, the TermVectorComponent's
response format has been changed so that if the schema defines a
uniqueKeyField, then that field value is used as the "key" for each document in
its response section, instead of the internal lucene doc id.  Users w/o a
uniqueKeyField will continue to see the same response format.  See <a href="http://issues.apache.org/jira/browse/SOLR-3229">SOLR-3229</a>
for more details.
</li>
      <li>If you are using SolrCloud's distributed update request capabilities and a non
string type id field, you must re-index.
</li>
    </ol>
  </li>
  <li><a id="v4.0.0.upgrading_from_solr_4.0.0-alpha" href="javascript:toggleList('v4.0.0.upgrading_from_solr_4.0.0-alpha')">Upgrading from Solr 4.0.0-ALPHA</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v4.0.0.upgrading_from_solr_4.0.0-alpha.list">
      <li>Solr is now much more strict about requiring that the uniqueKeyField feature
(if used) must refer to a field which is not multiValued.  If you upgrade from
an earlier version of Solr and see an error that your uniqueKeyField "can not
be configured to be multivalued" please add 'multiValued="false"' to the
&lt;field /&gt; declaration for your uniqueKeyField.  See <a href="http://issues.apache.org/jira/browse/SOLR-3682">SOLR-3682</a> for more details.
</li>
      <li>In addition, please review the notes above about upgrading from 4.0.0-BETA
</li>
    </ol>
  </li>
  <li><a id="v4.0.0.upgrading_from_solr_3.6" href="javascript:toggleList('v4.0.0.upgrading_from_solr_3.6')">Upgrading from Solr 3.6</a>&nbsp;&nbsp;&nbsp;(10)
    <ol id="v4.0.0.upgrading_from_solr_3.6.list">
      <li>The Lucene index format has changed and as a result, once you upgrade,
previous versions of Solr will no longer be able to read your indices.
In a master/slave configuration, all searchers/slaves should be upgraded
before the master.  If the master were to be updated first, the older
searchers would not be able to read the new index format.
<p>
</li>
      <li>Setting abortOnConfigurationError=false is no longer supported
(since it has never worked properly).  Solr will now warn you if
you attempt to set this configuration option at all. (see <a href="http://issues.apache.org/jira/browse/SOLR-1846">SOLR-1846</a>)
<p>
</li>
      <li>The default logic for the 'mm' param of the 'dismax' QParser has
been changed.  If no 'mm' param is specified (either in the query,
or as a default in solrconfig.xml) then the effective value of the
'q.op' param (either in the query or as a default in solrconfig.xml
or from the 'defaultOperator' option in schema.xml) is used to
influence the behavior.  If q.op is effectively "AND" then mm=100%.
If q.op is effectively "OR" then mm=0%.  Users who wish to force the
legacy behavior should set a default value for the 'mm' param in
their solrconfig.xml file.
<p>
</li>
      <li>The VelocityResponseWriter is no longer built into the core.  Its JAR and
dependencies now need to be added (via &lt;lib&gt; or solr/home lib inclusion),
and it needs to be registered in solrconfig.xml like this:
  &lt;queryResponseWriter name="velocity" class="solr.VelocityResponseWriter"/&gt;
<p>
</li>
      <li>The update request parameter to choose Update Request Processor Chain is
renamed from "update.processor" to "update.chain". The old parameter was
deprecated but still working since Solr3.2, but is now removed
entirely.
<p>
</li>
      <li>The &lt;indexDefaults&gt; and &lt;mainIndex&gt; sections of solrconfig.xml are discontinued
and replaced with the &lt;indexConfig&gt; section. There are also better defaults.
When migrating, if you don't know what your old settings mean, simply delete
both &lt;indexDefaults&gt; and &lt;mainIndex&gt; sections. If you have customizations,
put them in &lt;indexConfig&gt; section - with same syntax as before.
<p>
</li>
      <li>Two of the SolrServer subclasses in SolrJ were renamed/replaced.
CommonsHttpSolrServer is now HttpSolrServer, and
StreamingUpdateSolrServer is now ConcurrentUpdateSolrServer.
<p>
</li>
      <li>The PingRequestHandler no longer looks for a &lt;healthcheck/&gt; option in the
(legacy) &lt;admin&gt; section of solrconfig.xml.  Users who wish to take
advantage of this feature should configure a "healthcheckFile" init param
directly on the  PingRequestHandler.  As part of this change, relative file
paths have been fixed to be resolved against the data dir.  See the example
solrconfig.xml and <a href="http://issues.apache.org/jira/browse/SOLR-1258">SOLR-1258</a> for more details.
<p>
</li>
      <li>Due to low level changes to support SolrCloud, the uniqueKey field can no
longer be populated via &lt;copyField/&gt; or &lt;field default=...&gt; in the
schema.xml.  Users wishing to have Solr automatically generate a uniqueKey
value when adding documents should instead use an instance of
solr.UUIDUpdateProcessorFactory in their update processor chain.  See
<a href="http://issues.apache.org/jira/browse/SOLR-2796">SOLR-2796</a> for more details.
<p>
</li>
      <li>In addition, please review the notes above about upgrading from 4.0.0-BETA, and 4.0.0-ALPHA
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.0.0.new_features" href="javascript:toggleList('v4.0.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(8)
    <ol id="v4.0.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3670">SOLR-3670</a>: New CountFieldValuesUpdateProcessorFactory makes it easy to index
the number of values in another field for later use at query time.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2768">SOLR-2768</a>: new "mod(x,y)" function for computing the modulus of two value
sources.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3238">SOLR-3238</a>: Numerous small improvements to the Admin UI
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3597">SOLR-3597</a>: seems like a lot of wasted whitespace at the top of the admin screens
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3304">SOLR-3304</a>: Added Solr adapters for Lucene 4's new spatial module.  With
SpatialRecursivePrefixTreeFieldType ("location_rpt" in example schema), it is
possible to index a variable number of points per document (and sort on them),
index not just points but any Spatial4j supported shape such as polygons, and
to query on these shapes too.  Polygons requires adding JTS to the classpath.
<br /><span class="attrib">(David Smiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3825">SOLR-3825</a>: Added optional capability to log what ids are in a response
<br /><span class="attrib">(Scott Stults via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3821">SOLR-3821</a>: Added 'df' to the UI Query form
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3822">SOLR-3822</a>: Added hover titles to the edismax params on the UI Query form
<br /><span class="attrib">(steffkes)</span></li>
    </ol>
  </li>
  <li><a id="v4.0.0.optimizations" href="javascript:toggleList('v4.0.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v4.0.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3715">SOLR-3715</a>: improve concurrency of the transaction log by removing
synchronization around log record serialization.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3807">SOLR-3807</a>: Currently during recovery we pause for a number of seconds after
waiting for the leader to see a recovering state so that any previous updates
will have finished before our commit on the leader - we don't need this wait
for peersync.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3837">SOLR-3837</a>: When a leader is elected and asks replicas to sync back to him and
that fails, we should ask those nodes to recovery asynchronously rather than
synchronously.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3709">SOLR-3709</a>: Cache the url list created from the ClusterState in CloudSolrServer
on each request.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v4.0.0.bug_fixes" href="javascript:toggleList('v4.0.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(58)
    <ol id="v4.0.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3685">SOLR-3685</a>: Solr Cloud sometimes skipped peersync attempt and replicated instead due
to tlog flags not being cleared when no updates were buffered during a previous
replication.
<br /><span class="attrib">(Markus Jelsma, Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3229">SOLR-3229</a>: Fixed TermVectorComponent to work with distributed search
<br /><span class="attrib">(Hang Xie, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3725">SOLR-3725</a>: Fixed package-local-src-tgz target to not bring in unnecessary jars
and binary contents.
<br /><span class="attrib">(Michael Dodsworth via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3649">SOLR-3649</a>: Fixed bug in JavabinLoader that caused deleteById(List&lt;String&gt; ids)
to not work in SolrJ
<br /><span class="attrib">(siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3730">SOLR-3730</a>: Rollback is not implemented quite right and can cause corner case fails in
SolrCloud tests.
<br /><span class="attrib">(rmuir, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2981">SOLR-2981</a>: Fixed StatsComponent to no longer return duplicated information
when requesting multiple stats.facet fields.
<br /><span class="attrib">(Roman Kliewer via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3743">SOLR-3743</a>: Fixed issues with atomic updates and optimistic concurrency in
conjunction with stored copyField targets by making real-time get never
return copyField targets.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3746">SOLR-3746</a>: Proper error reporting if updateLog is configured w/o necessary
"_version_" field in schema.xml
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3745">SOLR-3745</a>: Proper error reporting if SolrCloud mode is used w/o
necessary "_version_" field in schema.xml
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3770">SOLR-3770</a>: Overseer may lose updates to cluster state
<br /><span class="attrib">(siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3721">SOLR-3721</a>: Fix bug that could theoretically allow multiple recoveries to run
briefly at the same time if the recovery thread join call was interrupted.
<br /><span class="attrib">(Per Steffensen, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3782">SOLR-3782</a>: A leader going down while updates are coming in can cause shard
inconsistency.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3611">SOLR-3611</a>: We do not show ZooKeeper data in the UI for a node that has children.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3789">SOLR-3789</a>: Fix bug in SnapPuller that caused "internal" compression to fail.
<br /><span class="attrib">(siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3790">SOLR-3790</a>: ConcurrentModificationException could be thrown when using hl.fl=*.
Fixed in r1231606.
<br /><span class="attrib">(yonik, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3668">SOLR-3668</a>: DataImport : Specifying Custom Parameters
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3793">SOLR-3793</a>: UnInvertedField faceting cached big terms in the filter
cache that ignored deletions, leading to duplicate documents in search
later when a filter of the same term was specified.
<br /><span class="attrib">(Günter Hipler, hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3679">SOLR-3679</a>: Core Admin UI gives no feedback if "Add Core" fails
<br /><span class="attrib">(steffkes, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3795">SOLR-3795</a>: Fixed LukeRequestHandler response to correctly return field name
strings in copyDests and copySources arrays
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3699">SOLR-3699</a>: Fixed some Directory leaks when there were errors during SolrCore
or SolrIndexWriter initialization.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3518">SOLR-3518</a>: Include final 'hits' in log information when aggregating a
distributed request
<br /><span class="attrib">(Markus Jelsma via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3628">SOLR-3628</a>: SolrInputField and SolrInputDocument are now consistently backed
by Collections passed in to setValue/setField, and defensively copy values
from Collections passed to addValue/addField
<br /><span class="attrib">(Tom Switzer via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3595">SOLR-3595</a>: CurrencyField now generates an appropriate error on schema init
if it is configured as multiValued - this has never been properly supported,
but previously failed silently in odd ways.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3823">SOLR-3823</a>: Fix 'bq' parsing in edismax.  Please note that this required
reverting the negative boost support added by <a href="http://issues.apache.org/jira/browse/SOLR-3278">SOLR-3278</a>
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3827">SOLR-3827</a>: Fix shareSchema=true in solr.xml
<br /><span class="attrib">(Tomás Fernández Löbbe via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3809">SOLR-3809</a>: Fixed config file replication when subdirectories are used
<br /><span class="attrib">(Emmanuel Espina via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3828">SOLR-3828</a>: Fixed QueryElevationComponent so that using 'markExcludes' does
not modify the result set or ranking of 'excluded' documents relative to
not using elevation at all.
<br /><span class="attrib">(Alexey Serba via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3569">SOLR-3569</a>: Fixed debug output on distributed requests when there are no
results found.
<br /><span class="attrib">(David Bowen via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3811">SOLR-3811</a>: Query Form using wrong values for dismax, edismax
<br /><span class="attrib">(steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3779">SOLR-3779</a>: DataImportHandler's LineEntityProcessor when used in conjunction
with FileListEntityProcessor would only process the first file.
<br /><span class="attrib">(Ahmet Arslan via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3791">SOLR-3791</a>: CachedSqlEntityProcessor would throw a NullPointerException when
a query returns a row with a NULL key.
<br /><span class="attrib">(Steffen Moelter via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3833">SOLR-3833</a>: When a election is started because a leader went down, the new
leader candidate should decline if the last state they published was not
active.
<br /><span class="attrib">(yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3836">SOLR-3836</a>: When doing peer sync, we should only count sync attempts that
cannot reach the given host as success when the candidate leader is
syncing with the replicas - not when replicas are syncing to the leader.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3835">SOLR-3835</a>: In our leader election algorithm, if on connection loss we found
we did not create our election node, we should retry, not throw an exception.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3834">SOLR-3834</a>: A new leader on cluster startup should also run the leader sync
process in case there was a bad cluster shutdown.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3772">SOLR-3772</a>: On cluster startup, we should wait until we see all registered
replicas before running the leader process - or if they all do not come up,
N amount of time.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3756">SOLR-3756</a>: If we are elected the leader of a shard, but we fail to publish
this for any reason, we should clean up and re trigger a leader election.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3812">SOLR-3812</a>: ConnectionLoss during recovery can cause lost updates, leading to
shard inconsistency.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3813">SOLR-3813</a>: When a new leader syncs, we need to ask all shards to sync back,
not just those that are active.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3641">SOLR-3641</a>: CoreContainer is not persisting roles core attribute.
<br /><span class="attrib">(hossman, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3527">SOLR-3527</a>: SolrCmdDistributor drops some of the important commit attributes
(maxOptimizeSegments, softCommit, expungeDeletes) when sending a commit to
replicas.
<br /><span class="attrib">(Andy Laird, Tomás Fernández Löbbe, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3844">SOLR-3844</a>: SolrCore reload can fail because it tries to remove the index
write lock while already holding it.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3831">SOLR-3831</a>: Atomic updates do not distribute correctly to other nodes.
<br /><span class="attrib">(Jim Musil, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3465">SOLR-3465</a>: Replication causes two searcher warmups.
<br /><span class="attrib">(Michael Garski, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3645">SOLR-3645</a>: /terms should default to distrib=false.
<br /><span class="attrib">(Nick Cotton, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3759">SOLR-3759</a>: Various fixes to the example-DIH configs
<br /><span class="attrib">(Ahmet Arslan, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3777">SOLR-3777</a>: Dataimport-UI does not send unchecked checkboxes
<br /><span class="attrib">(Glenn MacStravic
via steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3850">SOLR-3850</a>: DataImportHandler "cacheKey" parameter was incorrectly renamed "cachePk"
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3087">SOLR-3087</a>: Fixed DOMUtil so that code doing attribute validation will
automatically ignore nodes in the reserved "xml" prefix - in particular this
fixes some bugs related to xinclude and fieldTypes.
<br /><span class="attrib">(Amit Nithian, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3783">SOLR-3783</a>: Fixed Pivot Faceting to work with facet.missing=true
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3869">SOLR-3869</a>: A PeerSync attempt to its replicas by a candidate leader should
not fail on o.a.http.conn.ConnectTimeoutException.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3875">SOLR-3875</a>: Fixed index boosts on multi-valued fields when docBoost is used
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3878">SOLR-3878</a>: Exception when using open-ended range query with CurrencyField
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3891">SOLR-3891</a>: CacheValue in CachingDirectoryFactory cannot be used outside of
solr.core package.
<br /><span class="attrib">(phunt via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3892">SOLR-3892</a>: Inconsistent locking when accessing cache in CachingDirectoryFactory
from RAMDirectoryFactory and MockDirectoryFactory.
<br /><span class="attrib">(phunt via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3883">SOLR-3883</a>: Distributed indexing forwards non-applicable request params.
<br /><span class="attrib">(Dan Sutton, Per Steffensen, yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3903">SOLR-3903</a>: Fixed MissingFormatArgumentException in ConcurrentUpdateSolrServer
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3916">SOLR-3916</a>: Fixed whitespace bug in parsing the fl param
<br /><span class="attrib">(hossman)</span></li>
    </ol>
  </li>
  <li><a id="v4.0.0.other_changes" href="javascript:toggleList('v4.0.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(18)
    <ol id="v4.0.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3690">SOLR-3690</a>: Fixed binary release packages to include dependencies needed for
the solr-test-framework
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2857">SOLR-2857</a>: The /update/json and /update/csv URLs were restored to aid
in the migration of existing clients.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3691">SOLR-3691</a>: SimplePostTool: Mode for crawling/posting web pages
See <a href="https://solr.apache.org/guide/solr/latest/indexing-guide/post-tool.html">https://solr.apache.org/guide/solr/latest/indexing-guide/post-tool.html</a> for examples
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3707">SOLR-3707</a>: Upgrade Solr to Tika 1.2
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2747">SOLR-2747</a>: Updated changes2html.pl to handle Solr's CHANGES.txt; added
target 'changes-to-html' to solr/build.xml.
<br /><span class="attrib">(Steve Rowe, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3752">SOLR-3752</a>: When a leader goes down, have the Overseer clear the leader state
in cluster.json
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3751">SOLR-3751</a>: Add defensive checks for SolrCloud updates and requests that ensure
the local state matches what we can tell the request expected.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3773">SOLR-3773</a>: Hash based on the external String id rather than the indexed
representation for distributed updates.
<br /><span class="attrib">(Michael Garski, yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3780">SOLR-3780</a>: Maven build: Make solrj tests run separately from solr-core.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3772">SOLR-3772</a>: Optionally, on cluster startup, we can wait until we see all registered
replicas before running the leader process - or if they all do not come up,
N amount of time.
<br /><span class="attrib">(Jan Høydahl, Per Steffensen, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3750">SOLR-3750</a>: Optionally, on session expiration, we can explicitly wait some time before
running the leader sync process so that we are sure every node participates.
<br /><span class="attrib">(Per Steffensen, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3824">SOLR-3824</a>: Velocity: Error messages from search not displayed
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3826">SOLR-3826</a>: Test framework improvements for specifying coreName on initCore
<br /><span class="attrib">(Amit Nithian, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3749">SOLR-3749</a>: Allow default UpdateLog syncLevel to be configured by
solrconfig.xml
<br /><span class="attrib">(Raintung Li, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3845">SOLR-3845</a>: Rename numReplicas to replicationFactor in Collections API.
<br /><span class="attrib">(yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3815">SOLR-3815</a>: SolrCloud - Add properties such as "range" to shards, which changes
the clusterstate.json and puts the shard replicas under "replicas".
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3871">SOLR-3871</a>: SyncStrategy should use an executor for the threads it creates to
request recoveries.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3870">SOLR-3870</a>: SyncStrategy should have a close so it can abort earlier on
shutdown.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.0.0-beta" href="javascript:toggleList('v4.0.0-beta')">Release 4.0.0-BETA  [2012-08-13]</a></h3>
<ul id="v4.0.0-beta.list">
  <li><a id="v4.0.0-beta.versions_of_major_components" href="javascript:toggleList('v4.0.0-beta.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.0.0-beta.versions_of_major_components.list">
      <li>Apache Tika 1.1
</li>
      <li>Carrot2 3.5.0
</li>
      <li>Velocity 1.6.4 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.3.6
</li>
    </ol>
  </li>
  <li><a id="v4.0.0-beta.upgrading_from_solr_4.0.0-alpha" href="javascript:toggleList('v4.0.0-beta.upgrading_from_solr_4.0.0-alpha')">Upgrading from Solr 4.0.0-ALPHA</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v4.0.0-beta.upgrading_from_solr_4.0.0-alpha.list">
      <li>Solr is now much more strict about requiring that the uniqueKeyField feature
(if used) must refer to a field which is not multiValued.  If you upgrade from
an earlier version of Solr and see an error that your uniqueKeyField "can not
be configured to be multivalued" please add 'multiValued="false"' to the
&lt;field /&gt; declaration for your uniqueKeyField.  See <a href="http://issues.apache.org/jira/browse/SOLR-3682">SOLR-3682</a> for more details.
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.0.0-beta.new_features" href="javascript:toggleList('v4.0.0-beta.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="v4.0.0-beta.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-4201">LUCENE-4201</a>: Added JapaneseIterationMarkCharFilterFactory to normalize Japanese
iteration marks.
<br /><span class="attrib">(Robert Muir, Christian Moen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1856">SOLR-1856</a>: In Solr Cell, literals should override Tika-parsed values.
Patch adds a param "literalsOverride" which defaults to true, but can be set
to "false" to let Tika-parsed values be appended to literal values
<br /><span class="attrib">(Chris Harris, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3488">SOLR-3488</a>: Added a Collection management API for SolrCloud.
<br /><span class="attrib">(Tommaso Teofili, Sami Siren, yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3559">SOLR-3559</a>: Full deleteByQuery support with SolrCloud distributed indexing.
All replicas of a shard will be consistent, even if updates arrive in a
different order on different replicas.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1929">SOLR-1929</a>: Index encrypted documents with ExtractingUpdateRequestHandler.
By supplying resource.password=&lt;mypw&gt; or specifying an external file with regular
expressions matching file names, Solr will decrypt and index PDFs and DOCX formats.
<br /><span class="attrib">(janhoy, Yiannis Pericleous)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3562">SOLR-3562</a>: Add options to remove instance dir or data dir on core unload.
<br /><span class="attrib">(Mark Miller, Per Steffensen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2702">SOLR-2702</a>: The default directory factory was changed to NRTCachingDirectoryFactory
which wraps the StandardDirectoryFactory and caches small files for improved
Near Real-time (NRT) performance.
<br /><span class="attrib">(Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2616">SOLR-2616</a>: Include a sample java util logging configuration file.
<br /><span class="attrib">(David Smiley, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3460">SOLR-3460</a>: Add cloud-scripts directory and a zkcli.sh|bat tool for easy scripting
and interaction with ZooKeeper.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1725">SOLR-1725</a>: StatelessScriptUpdateProcessorFactory allows users to implement
the full ScriptUpdateProcessor API using any scripting language with a
javax.script.ScriptEngineFactory
<br /><span class="attrib">(Uri Boness, ehatcher, Simon Rosenthal, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-139">SOLR-139</a>: Change to updateable documents to create the document if it doesn't
already exist.  To assert that the document must exist, use the optimistic
concurrency feature by specifying a _version_ of 1.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2510">LUCENE-2510</a>, <a href="http://issues.apache.org/jira/browse/LUCENE-4044">LUCENE-4044</a>: Migrated Solr's Tokenizer-, TokenFilter-, and
CharFilterFactories to the lucene-analysis module. To add new analysis
modules to Solr (like ICU, SmartChinese, Morfologik,...), just drop in
the JAR files from Lucene's binary distribution into your Solr instance's
lib folder. The factories are automatically made available with SPI.
<br /><span class="attrib">(Chris Male, Robert Muir, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3634">SOLR-3634</a>, <a href="http://issues.apache.org/jira/browse/SOLR-3635">SOLR-3635</a>: CoreContainer and CoreAdminHandler will now remember
and report back information about failures to initialize SolrCores.  These
failures will be accessible from the web UI and CoreAdminHandler STATUS
command until they are "reset" by creating/renaming a SolrCore with the
same name.
<br /><span class="attrib">(hossman, steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1280">SOLR-1280</a>: Added commented-out example of the new script update processor
to the example configuration.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3672">SOLR-3672</a>: SimplePostTool: Improvements for posting files
Support for auto mode, recursive and wildcards
<br /><span class="attrib">(janhoy)</span></li>
    </ol>
  </li>
  <li><a id="v4.0.0-beta.optimizations" href="javascript:toggleList('v4.0.0-beta.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v4.0.0-beta.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3708">SOLR-3708</a>: Add hashCode to ClusterState so that structures built based on the
ClusterState can be easily cached.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3709">SOLR-3709</a>: Cache the url list created from the ClusterState in CloudSolrServer on each
request.
<br /><span class="attrib">(Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3710">SOLR-3710</a>: Change CloudSolrServer so that update requests are only sent to leaders by
default.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v4.0.0-beta.bug_fixes" href="javascript:toggleList('v4.0.0-beta.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(22)
    <ol id="v4.0.0-beta.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3582">SOLR-3582</a>: Our ZooKeeper watchers respond to session events as if they are change events,
creating undesirable side effects.
<br /><span class="attrib">(Trym R. Møller, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3467">SOLR-3467</a>: ExtendedDismax escaping is missing several reserved characters
<br /><span class="attrib">(Michael Dodsworth via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3587">SOLR-3587</a>: After reloading a SolrCore, the original Analyzer is still used rather than a new
one.
<br /><span class="attrib">(Alexey Serba, yonik, rmuir, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-4185">LUCENE-4185</a>: Fix a bug where CharFilters were wrongly being applied twice.
<br /><span class="attrib">(Michael Froh, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3610">SOLR-3610</a>: After reloading a core, indexing would fail on any newly added fields to the schema.
<br /><span class="attrib">(Brent Mills, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3377">SOLR-3377</a>: edismax fails to correctly parse a fielded query wrapped by parens.
This regression was introduced in 3.6.
<br /><span class="attrib">(Bernd Fehling, Jan Høydahl, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3621">SOLR-3621</a>: Fix rare concurrency issue when opening a new IndexWriter for replication or rollback.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1781">SOLR-1781</a>: Replication index directories not always cleaned up.
<br /><span class="attrib">(Markus Jelsma, Terje Sten Bjerkseth, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3639">SOLR-3639</a>: Update ZooKeeper to 3.3.6 for a variety of bug fixes.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3629">SOLR-3629</a>: Typo in solr.xml persistence when overriding the solrconfig.xml
file name using the "config" attribute prevented the override file from being
used.
<br /><span class="attrib">(Ryan Zezeski, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3642">SOLR-3642</a>: Correct broken check for multivalued fields in stats.facet
<br /><span class="attrib">(Yandong Yao, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3660">SOLR-3660</a>: Velocity: Link to admin page broken
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3658">SOLR-3658</a>: Adding thousands of docs with one UpdateProcessorChain instance can briefly create
spikes of threads in the thousands.
<br /><span class="attrib">(yonik, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3656">SOLR-3656</a>: A core reload now always uses the same dataDir.
<br /><span class="attrib">(Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3662">SOLR-3662</a>: Core reload bugs: a reload always obtained a non-NRT searcher, which
could go back in time with respect to the previous core's NRT searcher.  Versioning
did not work correctly across a core reload, and update handler synchronization
was changed to synchronize on core state since more than on update handler
can coexist for a single index during a reload.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3663">SOLR-3663</a>: There are a couple of bugs in the sync process when a leader goes down and a
new leader is elected.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3623">SOLR-3623</a>: Fixed inconsistent treatment of third-party dependencies for
solr contribs analysis-extras &amp; uima
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3652">SOLR-3652</a>: Fixed range faceting to error instead of looping infinitely
when 'gap' is zero -- or effectively zero due to floating point arithmetic
underflow.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3648">SOLR-3648</a>: Fixed VelocityResponseWriter template loading in SolrCloud mode.
For the example configuration, this means /browse now works with SolrCloud.
<br /><span class="attrib">(janhoy, ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3677">SOLR-3677</a>: Fixed misleading error message in web ui to distinguish between
no SolrCores loaded vs. no /admin/ handler available.
<br /><span class="attrib">(hossman, steffkes)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3428">SOLR-3428</a>: SolrCmdDistributor flushAdds/flushDeletes can cause repeated
adds/deletes to be sent
<br /><span class="attrib">(Mark Miller, Per Steffensen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3647">SOLR-3647</a>: DistributedQueue should use our Solr zk client rather than the std zk
client. ZooKeeper expiration can be permanent otherwise.
<br /><span class="attrib">(Mark Miller)</span></li>
    </ol>
  </li>
  <li><a id="v4.0.0-beta.other_changes" href="javascript:toggleList('v4.0.0-beta.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(14)
    <ol id="v4.0.0-beta.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3524">SOLR-3524</a>: Make discarding punctuation configurable in JapaneseTokenizerFactory.
The default is to discard punctuation, but this is overridable as an expert option.
<br /><span class="attrib">(Kazuaki Hiraga, Jun Ohtani via Christian Moen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1770">SOLR-1770</a>: Move the default core instance directory into a collection1 folder.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3355">SOLR-3355</a>: Add shard and collection to SolrCore statistics.
<br /><span class="attrib">(Michael Garski, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3575">SOLR-3575</a>: solr.xml should default to persist=true
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3563">SOLR-3563</a>: Unloading all cores in a SolrCloud collection will now cause the removal of
that collection's meta data from ZooKeeper.
<br /><span class="attrib">(Mark Miller, Per Steffensen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3599">SOLR-3599</a>: Add zkClientTimeout to solr.xml so that it's obvious how to change it and so
that you can change it with a system property.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3609">SOLR-3609</a>: Change Solr's expanded webapp directory to be at a consistent path called
solr-webapp rather than a temporary directory.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3600">SOLR-3600</a>: Raise the default zkClientTimeout from 10 seconds to 15 seconds.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3215">SOLR-3215</a>: Clone SolrInputDocument when distrib indexing so that update processors after
the distrib update process do not process the document twice.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3683">SOLR-3683</a>: Improved error handling if an &lt;analyzer&gt; contains both an
explicit class attribute, as well as nested factories.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3682">SOLR-3682</a>: Fail to parse schema.xml if uniqueKeyField is multivalued
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2115">SOLR-2115</a>: DIH no longer requires the "config" parameter to be specified in solrconfig.xml.
Instead, the configuration is loaded and parsed with every import.  This allows the use of
a different configuration with each import, and makes correcting configuration errors simpler.
Also, the configuration itself can be passed using the "dataConfig" parameter rather than
using a file (this previously worked in debug mode only).  When configuration errors are
encountered, the error message is returned in XML format.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3439">SOLR-3439</a>: Make SolrCell easier to use out of the box. Also improves "/browse" to display
rich-text documents correctly, along with facets for author and content_type.
With the new "content" field, highlighting of body is supported. See also <a href="http://issues.apache.org/jira/browse/SOLR-3672">SOLR-3672</a> for
easier posting of a whole directory structure.
<br /><span class="attrib">(Jack Krupansky, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3579">SOLR-3579</a>: SolrCloud view should default to the graph view rather than tree view.
<br /><span class="attrib">(steffkes, Mark Miller)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v4.0.0-alpha" href="javascript:toggleList('v4.0.0-alpha')">Release 4.0.0-ALPHA  [2012-07-03]</a></h3>
<ul id="v4.0.0-alpha.list">
      <li>More information about this release, including any errata related to the
release notes, upgrade instructions, or other changes may be found online at:
   <a href="https://cwiki.apache.org/confluence/display/solr/Solr4.0">https://cwiki.apache.org/confluence/display/solr/Solr4.0</a>
</li>
  <li><a id="v4.0.0-alpha.versions_of_major_components" href="javascript:toggleList('v4.0.0-alpha.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.0.0-alpha.versions_of_major_components.list">
      <li>Apache Tika 1.1
</li>
      <li>Carrot2 3.5.0
</li>
      <li>Velocity 1.6.4 and Velocity Tools 2.0
</li>
      <li>Apache UIMA 2.3.1
</li>
      <li>Apache ZooKeeper 3.3.4
</li>
    </ol>
  </li>
  <li><a id="v4.0.0-alpha.upgrading_from_solr_3.6-dev" href="javascript:toggleList('v4.0.0-alpha.upgrading_from_solr_3.6-dev')">Upgrading from Solr 3.6-dev</a>&nbsp;&nbsp;&nbsp;(9)
    <ol id="v4.0.0-alpha.upgrading_from_solr_3.6-dev.list">
      <li>The Lucene index format has changed and as a result, once you upgrade,
previous versions of Solr will no longer be able to read your indices.
In a master/slave configuration, all searchers/slaves should be upgraded
before the master.  If the master were to be updated first, the older
searchers would not be able to read the new index format.
<p>
</li>
      <li>Setting abortOnConfigurationError=false is no longer supported
(since it has never worked properly).  Solr will now warn you if
you attempt to set this configuration option at all. (see <a href="http://issues.apache.org/jira/browse/SOLR-1846">SOLR-1846</a>)
<p>
</li>
      <li>The default logic for the 'mm' param of the 'dismax' QParser has
been changed.  If no 'mm' param is specified (either in the query,
or as a default in solrconfig.xml) then the effective value of the
'q.op' param (either in the query or as a default in solrconfig.xml
or from the 'defaultOperator' option in schema.xml) is used to
influence the behavior.  If q.op is effectively "AND" then mm=100%.
If q.op is effectively "OR" then mm=0%.  Users who wish to force the
legacy behavior should set a default value for the 'mm' param in
their solrconfig.xml file.
<p>
</li>
      <li>The VelocityResponseWriter is no longer built into the core.  Its JAR and
dependencies now need to be added (via &lt;lib&gt; or solr/home lib inclusion),
and it needs to be registered in solrconfig.xml like this:
  &lt;queryResponseWriter name="velocity" class="solr.VelocityResponseWriter"/&gt;
<p>
</li>
      <li>The update request parameter to choose Update Request Processor Chain is
renamed from "update.processor" to "update.chain". The old parameter was
deprecated but still working since Solr3.2, but is now removed
entirely.
<p>
</li>
      <li>The &lt;indexDefaults&gt; and &lt;mainIndex&gt; sections of solrconfig.xml are discontinued
and replaced with the &lt;indexConfig&gt; section. There are also better defaults.
When migrating, if you don't know what your old settings mean, simply delete
both &lt;indexDefaults&gt; and &lt;mainIndex&gt; sections. If you have customizations,
put them in &lt;indexConfig&gt; section - with same syntax as before.
<p>
</li>
      <li>Two of the SolrServer subclasses in SolrJ were renamed/replaced.
CommonsHttpSolrServer is now HttpSolrServer, and
StreamingUpdateSolrServer is now ConcurrentUpdateSolrServer.
<p>
</li>
      <li>The PingRequestHandler no longer looks for a &lt;healthcheck/&gt; option in the
(legacy) &lt;admin&gt; section of solrconfig.xml.  Users who wish to take
advantage of this feature should configure a "healthcheckFile" init param
directly on the  PingRequestHandler.  As part of this change, relative file
paths have been fixed to be resolved against the data dir.  See the example
solrconfig.xml and <a href="http://issues.apache.org/jira/browse/SOLR-1258">SOLR-1258</a> for more details.
<p>
</li>
      <li>Due to low level changes to support SolrCloud, the uniqueKey field can no
longer be populated via &lt;copyField/&gt; or &lt;field default=...&gt; in the
schema.xml.  Users wishing to have Solr automatically generate a uniqueKey
value when adding documents should instead use an instance of
solr.UUIDUpdateProcessorFactory in their update processor chain.  See
<a href="http://issues.apache.org/jira/browse/SOLR-2796">SOLR-2796</a> for more details.
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v4.0.0-alpha.new_features" href="javascript:toggleList('v4.0.0-alpha.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(60)
    <ol id="v4.0.0-alpha.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3272">SOLR-3272</a>: Solr filter factory for MorfologikFilter (Polish lemmatisation).
<br /><span class="attrib">(Rafał Kuć via Dawid Weiss, Steven Rowe, Uwe Schindler)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-571">SOLR-571</a>: The autowarmCount for LRUCaches (LRUCache and FastLRUCache) now
supports "percentages" which get evaluated  relative the current size of
the cache when warming happens.
<br /><span class="attrib">(Tomás Fernández Löbbe and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1932">SOLR-1932</a>: New relevancy function queries: termfreq, tf, docfreq, idf
norm, maxdoc, numdocs.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1665">SOLR-1665</a>: Add debug component options for timings, results and query info only
<br /><span class="attrib">(gsingers, hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2112">SOLR-2112</a>: Solrj API now supports streaming results.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-792">SOLR-792</a>: Adding PivotFacetComponent for Hierarchical faceting
<br /><span class="attrib">(ehatcher, Jeremy Hinegardner, Thibaut Lassalle, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2507">LUCENE-2507</a>, <a href="http://issues.apache.org/jira/browse/SOLR-2571">SOLR-2571</a>, <a href="http://issues.apache.org/jira/browse/SOLR-2576">SOLR-2576</a>: Added DirectSolrSpellChecker, which uses Lucene's
DirectSpellChecker to retrieve correction candidates directly from the term dictionary using
levenshtein automata.
<br /><span class="attrib">(James Dyer, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1873">SOLR-1873</a>, <a href="http://issues.apache.org/jira/browse/SOLR-2358">SOLR-2358</a>: SolrCloud - added shared/central config and core/shard management via zookeeper,
built-in load balancing, and distributed indexing.
<br /><span class="attrib">(Jamie Johnson, Sami Siren, Ted Dunning, yonik, Mark Miller)</span><br />
<p>
Additional Work:<br />
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-2324">SOLR-2324</a>: SolrCloud solr.xml parameters are not persisted by CoreContainer.
<br /><span class="attrib">(Massimo Schiavon, Mark Miller)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-2287">SOLR-2287</a>: Allow users to query by multiple, compatible collections with SolrCloud.
<br /><span class="attrib">(Soheb Mahmood, Alex Cowell, Mark Miller)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-2622">SOLR-2622</a>: ShowFileRequestHandler does not work in SolrCloud mode.
<br /><span class="attrib">(Stefan Matheis, Mark Miller)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-3108">SOLR-3108</a>: Error in SolrCloud's replica lookup code when replica's are hosted in same Solr instance.
<br /><span class="attrib">(Bruno Dumon, Sami Siren, Mark Miller)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-3080">SOLR-3080</a>: Remove shard info from zookeeper when SolrCore is explicitly unloaded.
<br /><span class="attrib">(yonik, Mark Miller, siren)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-3437">SOLR-3437</a>: Recovery issues a spurious commit to the cluster.
<br /><span class="attrib">(Trym R. Møller via Mark Miller)</span></li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-2822">SOLR-2822</a>: Skip update processors already run on other nodes
<br /><span class="attrib">(hossman)</span></li>
</ul>
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1566">SOLR-1566</a>: Transforming documents in the ResponseWriters.  This will allow
for more complex results in responses and open the door for function queries
as results.
<br /><span class="attrib">(ryan with patches from grant, noble, cmale, yonik, Jan Høydahl,
Arul Kalaipandian, Luca Cavanna, hossman)</span>
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-2037">SOLR-2037</a>: Thanks to <a href="http://issues.apache.org/jira/browse/SOLR-1566">SOLR-1566</a>, documents boosted by the QueryElevationComponent
  can be marked as boosted.
<br /><span class="attrib">(gsingers, ryan, yonik)</span></li>
</ul>
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2396">SOLR-2396</a>: Add CollationField, which is much more efficient than
the Solr 3.x CollationKeyFilterFactory, and also supports
Locale-sensitive range queries.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2338">SOLR-2338</a>: Add support for using &lt;similarity/&gt; in a schema's fieldType,
for customizing scoring on a per-field basis.
<br /><span class="attrib">(hossman, yonik, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2335">SOLR-2335</a>: New 'field("...")' function syntax for referring to complex
field names (containing whitespace or special characters) in functions.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2383">SOLR-2383</a>: /browse improvements: generalize range and date facet display
<br /><span class="attrib">(Jan Høydahl via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2272">SOLR-2272</a>: Pseudo-join queries / filters.  Examples:
<ul class="bulleted-list">
<li class="bulleted-list">
To restrict to the set of parents with at least one blue-eyed child:
    fq={!join from=parent to=name}eyes:blue
</li>
<li class="bulleted-list">
To restrict to the set of children with at least one blue-eyed parent:
    fq={!join from=name to=parent}eyes:blue
</li>
</ul>
<span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1942">SOLR-1942</a>: Added the ability to select postings format per fieldType in schema.xml
as well as support custom Codecs in solrconfig.xml.
<br /><span class="attrib">(simonw via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2136">SOLR-2136</a>: Boolean type added to function queries, along with
new functions exists(), if(), and(), or(), xor(), not(), def(),
and true and false constants.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2491">SOLR-2491</a>: Add support for using spellcheck collation in conjunction
with grouping. Note that the number of hits returned for collations
is the number of ungrouped hits.
<br /><span class="attrib">(James Dyer via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1298">SOLR-1298</a>: Return FunctionQuery as pseudo field.  The solr 'fl' param
now supports functions.  For example:  fl=id,sum(x,y) -- NOTE: only
functions with fast random access are recommended.
<br /><span class="attrib">(yonik, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-705">SOLR-705</a>: Optionally return shard info with each document in distributed
search.  Use fl=id,[shard]  to return the shard url.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2417">SOLR-2417</a>: Add explain info directly to return documents using
?fl=id,[explain]
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2533">SOLR-2533</a>: Converted ValueSource.ValueSourceSortField over to new rewriteable Lucene
SortFields.  ValueSourceSortField instances must be rewritten before they can be used.
This is done by SolrIndexSearcher when necessary.
<br /><span class="attrib">(Chris Male)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2193">SOLR-2193</a>, <a href="http://issues.apache.org/jira/browse/SOLR-2565">SOLR-2565</a>: You may now specify a 'soft' commit when committing. This will
use Lucene's NRT feature to avoid guaranteeing documents are on stable storage in exchange
for faster reopen times. There is also a new 'soft' autocommit tracker that can be
configured.
<br /><span class="attrib">(Mark Miller, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2399">SOLR-2399</a>: Updated Solr Admin interface.  New look and feel with per core administration
and many new options.
<br /><span class="attrib">(Stefan Matheis via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1032">SOLR-1032</a>: CSV handler now supports "literal.field_name=value" parameters.
<br /><span class="attrib">(Simon Rosenthal, ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2656">SOLR-2656</a>: realtime-get, efficiently retrieves the latest stored fields for specified
documents, even if they are not yet searchable (i.e. without reopening a searcher)
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2703">SOLR-2703</a>: Added support for Lucene's "surround" query parser.
<br /><span class="attrib">(Simon Rosenthal, ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2754">SOLR-2754</a>: Added factories for several ranking algorithms:
<ul class="bulleted-list">
<li class="bulleted-list">
BM25SimilarityFactory: Okapi BM25
</li>
<li class="bulleted-list">
DFRSimilarityFactory: Divergence from Randomness models
</li>
<li class="bulleted-list">
IBSimilarityFactory: Information-based models
</li>
<li class="bulleted-list">
LMDirichletSimilarity: LM with Dirichlet smoothing
</li>
<li class="bulleted-list">
LMJelinekMercerSimilarity: LM with Jelinek-Mercer smoothing
</li>
</ul>
<span class="attrib">(David Mark Nemeskey, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2134">SOLR-2134</a> Trie* fields should support sortMissingLast=true, and deprecate Sortable* Field Types
<br /><span class="attrib">(Ryan McKinley, Mike McCandless, Uwe Schindler, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2438">SOLR-2438</a> added MultiTermAwareComponent to the various classes to allow automatic lowercasing
for multiterm queries (wildcards, regex, prefix, range, etc). You can now optionally specify a
"multiterm" analyzer in our schema.xml, but Solr should "do the right thing" if you don't
specify &lt;analyzer type="multiterm"&gt;
<br /><span class="attrib">(Pete Sturge Erick Erickson, Mentoring from Seeley and Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2481">SOLR-2481</a>: Add support for commitWithin in DataImportHandler
<br /><span class="attrib">(Sami Siren via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2992">SOLR-2992</a>: Add support for IndexWriter.prepareCommit() via prepareCommit=true
on update URLs.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2906">SOLR-2906</a>: Added LFU cache options to Solr.
<br /><span class="attrib">(Shawn Heisey via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3069">SOLR-3069</a>: Ability to add openSearcher=false to not open a searcher when doing
a hard commit.  commitWithin now only invokes a softCommit.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2802">SOLR-2802</a>: New FieldMutatingUpdateProcessor and Factory to simplify the
development of UpdateProcessors that modify field values of documents as
they are indexed. Also includes several useful new implementations:
<ul class="bulleted-list">
<li class="bulleted-list">
RemoveBlankFieldUpdateProcessorFactory
</li>
<li class="bulleted-list">
TrimFieldUpdateProcessorFactory
</li>
<li class="bulleted-list">
HTMLStripFieldUpdateProcessorFactory
</li>
<li class="bulleted-list">
RegexReplaceProcessorFactory
</li>
<li class="bulleted-list">
FieldLengthUpdateProcessorFactory
</li>
<li class="bulleted-list">
ConcatFieldUpdateProcessorFactory
</li>
<li class="bulleted-list">
FirstFieldValueUpdateProcessorFactory
</li>
<li class="bulleted-list">
LastFieldValueUpdateProcessorFactory
</li>
<li class="bulleted-list">
MinFieldValueUpdateProcessorFactory
</li>
<li class="bulleted-list">
MaxFieldValueUpdateProcessorFactory
</li>
<li class="bulleted-list">
TruncateFieldUpdateProcessorFactory
</li>
<li class="bulleted-list">
IgnoreFieldUpdateProcessorFactory
</li>
</ul>
<span class="attrib">(hossman, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3120">SOLR-3120</a>: Optional post filtering for spatial queries bbox and geofilt
for LatLonType.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2459">SOLR-2459</a>: Expose LogLevel selection with a RequestHandler rather then servlet
<br /><span class="attrib">(Stefan Matheis, Upayavira, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3134">SOLR-3134</a>: Include shard info in distributed response when shards.info=true
<br /><span class="attrib">(Russell Black, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2898">SOLR-2898</a>: Support grouped faceting.
<br /><span class="attrib">(Martijn van Groningen)</span><br />
<p>
Additional Work:<br />
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-3406">SOLR-3406</a>: Extended grouped faceting support to facet.query and facet.range parameters.
<br /><span class="attrib">(David Boychuck, Martijn van Groningen)</span></li>
</ul>
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2949">SOLR-2949</a>: QueryElevationComponent is now supported with distributed search.
<br /><span class="attrib">(Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3221">SOLR-3221</a>: Added the ability to directly configure aspects of the concurrency
 and thread-pooling used within distributed search in solr. This allows for finer
 grained controlled and can be tuned by end users to target their own specific
 requirements. This builds on the work of the HttpCommComponent and uses the same configuration
 block to configure the thread pool. The default configuration has
 the same behaviour as solr 3.5, favouring throughput over latency. More
 information can be found on the wiki (<a href="http://wiki.apache.org/solr/SolrConfigXml">http://wiki.apache.org/solr/SolrConfigXml</a>)
<br /><span class="attrib">(Greg Bowyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3278">SOLR-3278</a>: Negative boost support to the Extended Dismax Query Parser Boost Query (bq).
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3255">SOLR-3255</a>: OpenExchangeRates.Org Exchange Rate Provider for CurrencyField
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3358">SOLR-3358</a>: Logging events are captured and available from the /admin/logging
request handler.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1535">SOLR-1535</a>: PreAnalyzedField type provides a functionality to index (and optionally store)
field content that was already processed and split into tokens using some external processing
chain. Serialization format is pluggable, and defaults to JSON.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3363">SOLR-3363</a>: Consolidated Exceptions in Analysis Factories so they only throw
InitializationExceptions
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2690">SOLR-2690</a>: New support for a "TZ" request param which overrides the TimeZone
used when rounding Dates in DateMath expressions for the entire request
(all date range queries and date faceting is affected).  The default TZ
is still UTC.
<br /><span class="attrib">(David Schlotfeldt, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3402">SOLR-3402</a>: Analysis Factories are now configured with their Lucene Version
throw setLuceneMatchVersion, rather than through the Map passed to init.
Parsing and simple error checking for the Version is now done inside
the code that creates the Analysis Factories.
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3178">SOLR-3178</a>: Optimistic locking.  If a _version_ is provided with an update
that does not match the version in the index, an HTTP 409 error (Conflict)
will result.
<br /><span class="attrib">(Per Steffensen, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-139">SOLR-139</a>: Updateable documents.  JSON Example:
{"id":"mydoc", "f1":{"set":10}, "f2":{"add":20}}  will result in field "f1"
being set to 10, "f2" having an additional value of 20 added, and all
other existing fields unchanged.  All source fields must be stored for
this feature to work correctly.
<br /><span class="attrib">(Ryan McKinley, Erik Hatcher, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2857">SOLR-2857</a>: Support XML,CSV,JSON, and javabin in a single RequestHandler and
choose the correct ContentStreamLoader based on Content-Type header.  This
also deprecates the existing [Xml,JSON,CSV,Binary,Xslt]UpdateRequestHandler.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2585">SOLR-2585</a>: Context-Sensitive Spelling Suggestions &amp; Collations.  This adds support
for the "spellcheck.alternativeTermCount" &amp; "spellcheck.maxResultsForSuggest"
parameters, letting users receive suggestions even when all the queried terms
exist in the dictionary.  This differs from "spellcheck.onlyMorePopular" in
that the suggestions need not consist entirely of terms with a greater document
frequency than the queried terms.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2058">SOLR-2058</a>: Edismax query parser to allow "phrase slop" to be specified per-field
on the pf/pf2/pf3 parameters using optional "FieldName~slop^boost" syntax.  The
prior "FieldName^boost" syntax is still accepted.  In such cases the value on the
"ps" parameter serves as the default slop.
<br /><span class="attrib">(Ron Mayer via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3495">SOLR-3495</a>: New UpdateProcessors have been added to create default values for
configured fields.  These works similarly to the &lt;field default="..."/&gt;
option in schema.xml, but are applied in the UpdateProcessorChain, so they
may be used prior to other UpdateProcessors, or to generate a uniqueKey field
value when using the DistributedUpdateProcessor (ie: SolrCloud)
  TimestampUpdateProcessorFactory
  UUIDUpdateProcessorFactory
  DefaultValueUpdateProcessorFactory
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2993">SOLR-2993</a>: Add WordBreakSolrSpellChecker to offer suggestions by combining adjacent
query terms and/or breaking terms into multiple words.  This spellchecker can be
configured with a traditional checker (ie: DirectSolrSpellChecker).  The results
are combined and collations can contain a mix of corrections from both spellcheckers.
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3508">SOLR-3508</a>: Simplify JSON update format for deletes as well as allow
version specification for optimistic locking.  Examples:
<ul class="bulleted-list">
<li class="bulleted-list">
{"delete":"myid"}
</li>
<li class="bulleted-list">
{"delete":["id1","id2","id3"]}
</li>
<li class="bulleted-list">
{"delete":{"id":"myid", "_version_":123456789}}
</li>
</ul>
<span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3211">SOLR-3211</a>:  Allow parameter overrides in conjunction with "spellcheck.maxCollationTries".
To do so, use parameters starting with "spellcheck.collateParam."  For instance, to
override the "mm" parameter, specify "spellcheck.collateParam.mm".  This is helpful
in cases where testing spellcheck collations for result counts should use different
parameters from the main query
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2599">SOLR-2599</a>: CloneFieldUpdateProcessorFactory provides similar functionality
to schema.xml's &lt;copyField/&gt; declaration but as an update processor that can
be combined with other processors in any order.
<br /><span class="attrib">(Jan Høydahl &amp; hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3351">SOLR-3351</a>: eDismax: ps2 and ps3 params
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3542">SOLR-3542</a>: Add WeightedFragListBuilder for FVH and set it to default fragListBuilder
in example solrconfig.xml.
<br /><span class="attrib">(Sebastian Lutze, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2396">SOLR-2396</a>: Add ICUCollationField to contrib/analysis-extras, which is much
more efficient than the Solr 3.x ICUCollationKeyFilterFactory, and also
supports Locale-sensitive range queries.
<br /><span class="attrib">(rmuir)</span></li>
    </ol>
  </li>
  <li><a id="v4.0.0-alpha.optimizations" href="javascript:toggleList('v4.0.0-alpha.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v4.0.0-alpha.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1875">SOLR-1875</a>: Per-segment field faceting for single valued string fields.
Enable with facet.method=fcs, control the number of threads used with
the "threads" local param on the facet.field param.  This algorithm will
only be faster in the presence of rapid index changes.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1904">SOLR-1904</a>: When facet.enum.cache.minDf &gt; 0 and the base doc set is a
SortedIntSet, convert to HashDocSet for better performance.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2092">SOLR-2092</a>: Speed up single-valued and multi-valued "fc" faceting. Typical
improvement is 5%, but can be much greater (up to 10x faster) when facet.offset
is very large (deep paging).
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2193">SOLR-2193</a>, <a href="http://issues.apache.org/jira/browse/SOLR-2565">SOLR-2565</a>: The default Solr update handler has been improved so
that it uses fewer locks, keeps the IndexWriter open rather than closing it
on each commit (ie commits no longer wait for background merges to complete),
works with SolrCore to provide faster 'soft' commits, and has an improved API
that requires less instanceof special casing.
<br /><span class="attrib">(Mark Miller, Robert Muir)</span><br />
<p>
Additional Work:<br />
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-2697">SOLR-2697</a>: commit and autocommit operations don't reset
  DirectUpdateHandler2.numDocsPending stats attribute.
<br /><span class="attrib">(Alexey Serba, Mark Miller)</span></li>
</ul>
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2950">SOLR-2950</a>: The QueryElevationComponent now avoids using the FieldCache and looking up
every document id
<br /><span class="attrib">(gsingers, yonik)</span></li>
    </ol>
  </li>
  <li><a id="v4.0.0-alpha.bug_fixes" href="javascript:toggleList('v4.0.0-alpha.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(41)
    <ol id="v4.0.0-alpha.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3139">SOLR-3139</a>: Make ConcurrentUpdateSolrServer send UpdateRequest.getParams()
as HTTP request params
<br /><span class="attrib">(siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3165">SOLR-3165</a>: Cannot use DIH in Solrcloud + Zookeeper
<br /><span class="attrib">(Alexey Serba,
Mark Miller, siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3068">SOLR-3068</a>: Occasional NPE in ThreadDumpHandler
<br /><span class="attrib">(siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2762">SOLR-2762</a>: FSTLookup could return duplicate results or one results less
than requested.
<br /><span class="attrib">(David Smiley, Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2741">SOLR-2741</a>: Bugs in facet range display in trunk
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1908">SOLR-1908</a>: Fixed SignatureUpdateProcessor to fail to initialize on
invalid config.  Specifically: a signatureField that does not exist,
or overwriteDupes=true with a signatureField that is not indexed.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1824">SOLR-1824</a>: IndexSchema will now fail to initialize if there is a
problem initializing one of the fields or field types.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1928">SOLR-1928</a>: TermsComponent didn't correctly break ties for non-text
fields sorted by count.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2107">SOLR-2107</a>: MoreLikeThisHandler doesn't work with alternate qparsers.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2108">SOLR-2108</a>: Fixed false positives when using wildcard queries on fields with reversed
wildcard support. For example, a query of *zemog* would match documents that contain
'gomez'.
<br /><span class="attrib">(Landon Kuhn via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1962">SOLR-1962</a>: SolrCore#initIndex should not use a mix of indexPath and newIndexPath
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2275">SOLR-2275</a>: fix DisMax 'mm' parsing to be tolerant of whitespace
<br /><span class="attrib">(Erick Erickson via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2193">SOLR-2193</a>, <a href="http://issues.apache.org/jira/browse/SOLR-2565">SOLR-2565</a>, <a href="http://issues.apache.org/jira/browse/SOLR-2651">SOLR-2651</a>: SolrCores now properly share IndexWriters across SolrCore reloads.
<br /><span class="attrib">(Mark Miller, Robert Muir)</span><br />
<p>
Additional Work:<br />
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-2705">SOLR-2705</a>: On reload, IndexWriterProvider holds onto the initial SolrCore it was created with.
<br /><span class="attrib">(Yury Kats, Mark Miller)</span></li>
</ul>
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2682">SOLR-2682</a>: Remove addException() in SimpleFacet. FacetComponent no longer catches and embeds
exceptions occurred during facet processing, it throws HTTP 400 or 500 exceptions instead.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2654">SOLR-2654</a>: Directorys used by a SolrCore are now closed when they are no longer used.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2854">SOLR-2854</a>: Now load URL content stream data (via stream.url) when called for during request handling,
rather than loading URL content streams automatically regardless of use.
<br /><span class="attrib">(David Smiley and Ryan McKinley via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2829">SOLR-2829</a>: Fix problem with false-positives due to incorrect
equals methods.
<br /><span class="attrib">(Yonik Seeley, Hossman, Erick Erickson.
Marc Tinnemeyer caught the bug)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2848">SOLR-2848</a>: Removed 'instanceof AbstractLuceneSpellChecker' hacks from distributed spellchecking code,
and added a merge() method to SolrSpellChecker instead. Previously if you extended SolrSpellChecker
your spellchecker would not work in distributed fashion.
<br /><span class="attrib">(James Dyer via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2509">SOLR-2509</a>: StringIndexOutOfBoundsException in the spellchecker collate when the term contains
a hyphen.
<br /><span class="attrib">(Thomas Gambier caught the bug, Steffen Godskesen did the patch, via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1730">SOLR-1730</a>: Made it clearer when a core failed to load as well as better logging when the
QueryElevationComponent fails to properly initialize
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1520">SOLR-1520</a>: QueryElevationComponent now supports non-string ids
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3037">SOLR-3037</a>: When using binary format in solrj the codec screws up parameters
<br /><span class="attrib">(Sami Siren, Jörg Maier  via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3062">SOLR-3062</a>: A join in the main query was not respecting any filters pushed
down to it via acceptDocs since <a href="http://issues.apache.org/jira/browse/LUCENE-1536">LUCENE-1536</a>.
<br /><span class="attrib">(Mike Hugo, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3214">SOLR-3214</a>: If you use multiple fl entries rather than a comma separated list, all but the first
entry can be ignored if you are using distributed search.
<br /><span class="attrib">(Tomás Fernández Löbbe via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3352">SOLR-3352</a>: eDismax: pf2 should kick in for a query with 2 terms
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3361">SOLR-3361</a>: ReplicationHandler "maxNumberOfBackups" doesn't work if backups are triggered on commit
<br /><span class="attrib">(James Dyer, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2605">SOLR-2605</a>: fixed tracking of the 'defaultCoreName' in CoreContainer so that
CoreAdminHandler could return consistent information regardless of whether
there is a a default core name or not.
<br /><span class="attrib">(steffkes, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3370">SOLR-3370</a>: fixed CSVResponseWriter to respect globs in the 'fl' param
<br /><span class="attrib">(Keith Fligg via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3436">SOLR-3436</a>: Group count incorrect when not all shards are queried in the second
pass.
<br /><span class="attrib">(Francois Perron, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3454">SOLR-3454</a>: Exception when using result grouping with main=true and using
wt=javabin.
<br /><span class="attrib">(Ludovic Boutros, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3446">SOLR-3446</a>: Better errors when PatternTokenizerFactory is configured with
an invalid pattern, and include the 'name' whenever possible in plugin init
error messages.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-4075">LUCENE-4075</a>: Cleaner path usage in TestXPathEntityProcessor
<br /><span class="attrib">(Greg Bowyer via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2923">SOLR-2923</a>: IllegalArgumentException when using useFilterForSortedQuery on an
empty index.
<br /><span class="attrib">(Adrien Grand via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2352">SOLR-2352</a>: Fixed TermVectorComponent so that it will not fail if the fl
param contains globs or pseudo-fields
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3541">SOLR-3541</a>: add missing solrj dependencies to binary packages.
<br /><span class="attrib">(Thijs Vonk via siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3522">SOLR-3522</a>: fixed parsing of the 'literal()' function
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3548">SOLR-3548</a>: Fixed a bug in the cachability of queries using the {!join}
parser or the strdist() function, as well as some minor improvements to
the hashCode implementation of {!bbox} and {!geofilt} queries.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3470">SOLR-3470</a>: contrib/clustering: custom Carrot2 tokenizer and stemmer factories
are respected now
<br /><span class="attrib">(Stanislaw Osinski, Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3430">SOLR-3430</a>: Added a new DIH test against a real SQL database.  Fixed problems
revealed by this new test related to  the expanded cache support added to
3.6/<a href="http://issues.apache.org/jira/browse/SOLR-2382">SOLR-2382</a>
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1958">SOLR-1958</a>: When using the MailEntityProcessor, import would fail if
fetchMailsSince was not specified.
<br /><span class="attrib">(Max Lynch via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-4289">SOLR-4289</a>: Admin UI - JVM memory bar - dark grey "used" width is too small
<br /><span class="attrib">(steffkes, elyograg)</span></li>
    </ol>
  </li>
  <li><a id="v4.0.0-alpha.other_changes" href="javascript:toggleList('v4.0.0-alpha.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(48)
    <ol id="v4.0.0-alpha.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1846">SOLR-1846</a>: Eliminate support for the abortOnConfigurationError
option.  It has never worked very well, and in recent versions of
Solr hasn't worked at all.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1889">SOLR-1889</a>: The default logic for the 'mm' param of DismaxQParser and
ExtendedDismaxQParser has been changed to be determined based on the
effective value of the 'q.op' param
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1946">SOLR-1946</a>: Misc improvements to the SystemInfoHandler: /admin/system
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2289">SOLR-2289</a>: Tweak spatial coords for example docs so they are a bit
more spread out
<br /><span class="attrib">(Erick Erickson via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2288">SOLR-2288</a>: Small tweaks to eliminate compiler warnings.  primarily
using Generics where applicable in method/object declarations, and
adding @SuppressWarnings("unchecked") when appropriate
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2375">SOLR-2375</a>: Suggester Lookup implementations now store trie data
and load it back on init. This means that large tries don't have to be
rebuilt on every commit or core reload.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2413">SOLR-2413</a>: Support for returning multi-valued fields w/o &lt;arr&gt; tag
in the XMLResponseWriter was removed.  XMLResponseWriter only
no longer work with values less then 2.2
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2423">SOLR-2423</a>: FieldType argument changed from String to Object
Conversion from SolrInputDocument &gt; Object &gt; Fieldable is now managed
by FieldType rather then DocumentBuilder.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2461">SOLR-2461</a>: QuerySenderListener and AbstractSolrEventListener are
now public
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2995">LUCENE-2995</a>: Moved some spellchecker and suggest APIs to modules/suggest:
HighFrequencyDictionary, SortedIterator, TermFreqIterator, and the
suggester APIs and implementations.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2576">SOLR-2576</a>: Remove deprecated SpellingResult.add(Token, int).
<br /><span class="attrib">(James Dyer via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3232">LUCENE-3232</a>: Moved MutableValue classes to new 'common' module.
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2883">LUCENE-2883</a>: FunctionQuery, DocValues (and its impls), ValueSource (and its
impls) and BoostedQuery have been consolidated into the queries module.  They
can now be found at o.a.l.queries.function.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2027">SOLR-2027</a>: FacetField.getValues() now returns an empty list if there are no
values, instead of null
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1825">SOLR-1825</a>: SolrQuery.addFacetQuery now enables facets automatically, like
addFacetField
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2663">SOLR-2663</a>: FieldTypePluginLoader has been refactored out of IndexSchema
and made public.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2331">SOLR-2331</a>,<a href="http://issues.apache.org/jira/browse/SOLR-2691">SOLR-2691</a>: Refactor CoreContainer's SolrXML serialization code and improve testing
<br /><span class="attrib">(Yury Kats, hossman, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2698">SOLR-2698</a>: Enhance CoreAdmin STATUS command to return index size.
<br /><span class="attrib">(Yury Kats, hossman, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2654">SOLR-2654</a>: The same Directory instance is now always used across a SolrCore so that
it's easier to add other DirectoryFactory's without static caching hacks.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3286">LUCENE-3286</a>: 'luke' ant target has been disabled due to incompatibilities with XML
queryparser location
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1897">SOLR-1897</a>: The data dir from the core descriptor should override the data dir from
the solrconfig.xml rather than the other way round.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2756">SOLR-2756</a>: Maven configuration: Excluded transitive stax:stax-api dependency
from org.codehaus.woodstox:wstx-asl dependency.
<br /><span class="attrib">(David Smiley via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2588">SOLR-2588</a>: Moved VelocityResponseWriter back to contrib module in order to
remove it as a mandatory core dependency.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2862">SOLR-2862</a>: More explicit lexical resources location logged if Carrot2 clustering
extension is used. Fixed solr. impl. of IResource and IResourceLookup.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1123">SOLR-1123</a>: Changed JSONResponseWriter to now use application/json as its Content-Type
by default.  However the Content-Type can be overwritten and is set to text/plain in
the example configuration.
<br /><span class="attrib">(Uri Boness, Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2607">SOLR-2607</a>: Removed deprecated client/ruby directory, which included solr-ruby and flare.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3032">SOLR-3032</a>: logOnce from SolrException logOnce and all the supporting
structure is gone. abortOnConfigurationError is also gone as it is no longer referenced.
Errors should be caught and logged at the top-most level or logged and NOT propagated up the
chain.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2105">SOLR-2105</a>: Remove support for deprecated "update.processor" (since 3.2), in favor of
"update.chain"
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3005">SOLR-3005</a>: Default QueryResponseWriters are now initialized via init() with an empty
NamedList.
<br /><span class="attrib">(Gasol Wu, Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2607">SOLR-2607</a>: Removed obsolete client/ folder
<br /><span class="attrib">(ehatcher, Eric Pugh, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3202">SOLR-3202</a>, <a href="http://issues.apache.org/jira/browse/SOLR-3244">SOLR-3244</a>: Dropping Support for JSP.  New Admin UI is all client side
<br /><span class="attrib">(ryan, Aliaksandr Zhuhrou, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3159">SOLR-3159</a>: Upgrade example and tests to run with Jetty 8
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3254">SOLR-3254</a>: Upgrade Solr to Tika 1.1
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3329">SOLR-3329</a>: Dropped getSourceID() from SolrInfoMBean and using
getClass().getPackage().getSpecificationVersion() for Version.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3302">SOLR-3302</a>: Upgraded SLF4j to version 1.6.4
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3322">SOLR-3322</a>: Add more context to IndexReaderFactory.newReader
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3343">SOLR-3343</a>: Moved FastWriter, FileUtils, RegexFileFilter, RTimer and SystemIdResolver
from org.apache.solr.common to org.apache.solr.util
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3357">SOLR-3357</a>: ResourceLoader.newInstance now accepts a Class representation of the expected
instance type
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3388">SOLR-3388</a>: HTTP caching is now disabled by default for RequestUpdateHandlers.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3309">SOLR-3309</a>: web.xml now specifies metadata-complete=true (which requires
Servlet 2.5) to prevent servlet containers from scanning class annotations
on startup.  This allows for faster startup times on some servlet containers.
<br /><span class="attrib">(Bill Bell, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1893">SOLR-1893</a>: Refactored some common code from LRUCache and FastLRUCache into
SolrCacheBase
<br /><span class="attrib">(Tomás Fernández Löbbe via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3403">SOLR-3403</a>: Deprecated Analysis Factories now log their own deprecation messages.
No logging support is provided by Factory parent classes.
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1258">SOLR-1258</a>: PingRequestHandler is now directly configured with a
"healthcheckFile" instead of looking for the legacy
&lt;admin&gt;&lt;healthcheck/&gt;&lt;/admin&gt; syntax.  Filenames specified as relative
paths have been fixed so that they are resolved against the data dir
instead of the CWD of the java process.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3083">SOLR-3083</a>: JMX beans now report Numbers as numeric values rather then String
<br /><span class="attrib">(Tagged Siteops, Greg Bowyer via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2796">SOLR-2796</a>: Due to low level changes to support SolrCloud, the uniqueKey
field can no longer be populated via &lt;copyField/&gt; or &lt;field default=...&gt;
in the schema.xml.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3534">SOLR-3534</a>: The Dismax and eDismax query parsers will fall back on the 'df' parameter
when 'qf' is absent.  And if neither is present nor the schema default search field
then an exception will be thrown now.
<br /><span class="attrib">(dsmiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3262">SOLR-3262</a>: The "threads" feature of DIH is removed (deprecated in Solr 3.6)
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3422">SOLR-3422</a>: Refactored DIH internal data classes.  All entities in
data-config.xml must have a name
<br /><span class="attrib">(James Dyer)</span></li>
    </ol>
  </li>
  <li><a id="v4.0.0-alpha.documentation" href="javascript:toggleList('v4.0.0-alpha.documentation')">Documentation</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v4.0.0-alpha.documentation.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2232">SOLR-2232</a>: Improved README info on solr.solr.home in examples
<br /><span class="attrib">(Eric Pugh and hossman)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v3.6.2" href="javascript:toggleList('v3.6.2')">Release 3.6.2  [2012-12-25]</a></h3>
<ul id="v3.6.2.list">
  <li><a id="v3.6.2.bug_fixes" href="javascript:toggleList('v3.6.2.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v3.6.2.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3790">SOLR-3790</a>: ConcurrentModificationException could be thrown when using hl.fl=*.
<br /><span class="attrib">(yonik, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3589">SOLR-3589</a>: Edismax parser does not honor mm parameter if analyzer splits a token.
<br /><span class="attrib">(Tom Burton-West, Robert Muir)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v3.6.1" href="javascript:toggleList('v3.6.1')">Release 3.6.1  [2012-07-22]</a></h3>
<ul id="v3.6.1.list">
      <li>More information about this release, including any errata related to the
release notes, upgrade instructions, or other changes may be found online at:
   <a href="https://wiki.apache.org/solr/Solr3.6.1">https://wiki.apache.org/solr/Solr3.6.1</a>
</li>
  <li><a id="v3.6.1.bug_fixes" href="javascript:toggleList('v3.6.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="v3.6.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3969">LUCENE-3969</a>: Throw IAE on bad arguments that could cause confusing errors in
PatternTokenizer. CommonGrams populates PositionLengthAttribute correctly.
<br /><span class="attrib">(Uwe Schindler, Mike McCandless, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3361">SOLR-3361</a>: ReplicationHandler "maxNumberOfBackups" doesn't work if backups are triggered on commit
<br /><span class="attrib">(James Dyer, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3375">SOLR-3375</a>: Fix charset problems with HttpSolrServer
<br /><span class="attrib">(Roger Håkansson, yonik, siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3436">SOLR-3436</a>: Group count incorrect when not all shards are queried in the second
pass.
<br /><span class="attrib">(Francois Perron, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3454">SOLR-3454</a>: Exception when using result grouping with main=true and using
wt=javabin.
<br /><span class="attrib">(Ludovic Boutros, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3489">SOLR-3489</a>: Config file replication less error prone
<br /><span class="attrib">(Jochen Just via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3477">SOLR-3477</a>: SOLR does not start up when no cores are defined
<br /><span class="attrib">(Tomás Fernández Löbbe via tommaso)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3470">SOLR-3470</a>: contrib/clustering: custom Carrot2 tokenizer and stemmer factories
are respected now
<br /><span class="attrib">(Stanislaw Osinski, Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3360">SOLR-3360</a>: More DIH bug fixes for the deprecated "threads" parameter.
<br /><span class="attrib">(Mikhail Khludnev, Claudio R, via James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3430">SOLR-3430</a>: Added a new DIH test against a real SQL database.  Fixed problems
revealed by this new test related to the expanded cache support added to
3.6/<a href="http://issues.apache.org/jira/browse/SOLR-2382">SOLR-2382</a>
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3336">SOLR-3336</a>: SolrEntityProcessor substitutes most variables at query time.
<br /><span class="attrib">(Michael Kroh, Lance Norskog, via Martijn van Groningen)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v3.6.0" href="javascript:toggleList('v3.6.0')">Release 3.6.0  [2012-04-12]</a></h3>
<ul id="v3.6.0.list">
      <li>More information about this release, including any errata related to the
release notes, upgrade instructions, or other changes may be found online at:
   <a href="https://wiki.apache.org/solr/Solr3.6">https://wiki.apache.org/solr/Solr3.6</a>
</li>
  <li><a id="v3.6.0.upgrading_from_solr_3.5" href="javascript:toggleList('v3.6.0.upgrading_from_solr_3.5')">Upgrading from Solr 3.5</a>&nbsp;&nbsp;&nbsp;(9)
    <ol id="v3.6.0.upgrading_from_solr_3.5.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2983">SOLR-2983</a>: As a consequence of moving the code which sets a MergePolicy from SolrIndexWriter to SolrIndexConfig,
(custom) MergePolicies should now have an empty constructor; thus an IndexWriter should not be passed as constructor
parameter but instead set using the setIndexWriter() method.
<p>
</li>
      <li>As doGet() methods in SimplePostTool was changed to static, the client applications of this
class need to be recompiled.
<p>
</li>
      <li>In Solr version 3.5 and earlier, HTMLStripCharFilter had known bugs in the
character offsets it provided, triggering e.g. exceptions in highlighting.
HTMLStripCharFilter has been re-implemented, addressing this and other
issues.  See the entry for <a href="http://issues.apache.org/jira/browse/LUCENE-3690">LUCENE-3690</a> in the Bug Fixes section below for a
detailed list of changes.  For people who depend on the behavior of
HTMLStripCharFilter in Solr version 3.5 and earlier: the old implementation
(bugs and all) is preserved as LegacyHTMLStripCharFilter.
<p>
</li>
      <li>As of Solr 3.6, the &lt;indexDefaults&gt; and &lt;mainIndex&gt; sections of solrconfig.xml are deprecated
and replaced with a new &lt;indexConfig&gt; section. Read more in <a href="http://issues.apache.org/jira/browse/SOLR-1052">SOLR-1052</a> below.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3040">SOLR-3040</a>: The DIH's admin UI (dataimport.jsp) now requires DIH request handlers to start with
a '/'.
<br /><span class="attrib">(dsmiley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3161">SOLR-3161</a>: &lt;requestDispatcher handleSelect="false"&gt; is now the default. An existing config will
probably work as-is because handleSelect was explicitly enabled in default configs. HandleSelect
makes /select work as well as enables the 'qt' parameter. Instead, consider explicitly
configuring /select as is done in the example solrconfig.xml, and register your other search
handlers with a leading '/' which is a recommended practice.
<br /><span class="attrib">(David Smiley, Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3161">SOLR-3161</a>: Don't use the 'qt' parameter with a leading '/'.  It probably won't work in 4.0
and it's now limited in 3.6 to SearchHandler subclasses that aren't lazy-loaded.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2724">SOLR-2724</a>: Specifying &lt;defaultSearchField&gt; and &lt;solrQueryParser defaultOperator="..."/&gt; in
schema.xml is now considered deprecated.  Instead you are encouraged to specify these via the "df"
and "q.op" parameters in your request handler definition.
<br /><span class="attrib">(David Smiley)</span></li>
      <li>Bugs found and fixed in the SignatureUpdateProcessor that previously caused
some documents to produce the same signature even when the configured fields
contained distinct (non-String) values.  Users of SignatureUpdateProcessor
are strongly advised that they should re-index as document signatures may
have now changed. (see <a href="http://issues.apache.org/jira/browse/SOLR-3200">SOLR-3200</a> &amp; <a href="http://issues.apache.org/jira/browse/SOLR-3226">SOLR-3226</a> for details)
<p>
</li>
    </ol>
  </li>
  <li><a id="v3.6.0.new_features" href="javascript:toggleList('v3.6.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(31)
    <ol id="v3.6.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2020">SOLR-2020</a>: Add Java client that uses Apache Http Components http client (4.x).
<br /><span class="attrib">(Chantal Ackermann, Ryan McKinley, Yonik Seeley, siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2854">SOLR-2854</a>: Now load URL content stream data (via stream.url) when called for during request handling,
rather than loading URL content streams automatically regardless of use.
<br /><span class="attrib">(David Smiley and Ryan McKinley via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2904">SOLR-2904</a>: BinaryUpdateRequestHandler should be able to accept multiple update requests from
a stream
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1565">SOLR-1565</a>: StreamingUpdateSolrServer supports RequestWriter API and therefore, javabin update
format
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2438">SOLR-2438</a> added MultiTermAwareComponent to the various classes to allow automatic lowercasing
for multiterm queries (wildcards, regex, prefix, range, etc). You can now optionally specify a
"multiterm" analyzer in our schema.xml, but Solr should "do the right thing" if you don't
specify &lt;fieldType="multiterm"&gt;
<br /><span class="attrib">(Pete Sturge Erick Erickson, Mentoring from Seeley and Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2919">SOLR-2919</a>: Added support for localized range queries when the analysis chain uses
CollationKeyFilter or ICUCollationKeyFilter.
<br /><span class="attrib">(Michael Sokolov, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2982">SOLR-2982</a>: Added BeiderMorseFilterFactory for Beider-Morse (BMPM) phonetic encoder. Upgrades
commons-codec to version 1.6
<br /><span class="attrib">(Brooke Schreier Ganz, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1843">SOLR-1843</a>: A new "rootName" attribute is now available when
configuring &lt;jmx/&gt; in solrconfig.xml.  If this attribute is set,
Solr will use it as the root name for all MBeans Solr exposes via
JMX.  The default root name is "solr" followed by the core name.
<br /><span class="attrib">(Constantijn Visinescu, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2906">SOLR-2906</a>: Added LFU cache options to Solr.
<br /><span class="attrib">(Shawn Heisey via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3036">SOLR-3036</a>: Ability to specify overwrite=false on the URL for XML updates.
<br /><span class="attrib">(Sami Siren via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2603">SOLR-2603</a>: Add the encoding function for alternate fields in highlighting.
<br /><span class="attrib">(Massimo Schiavon, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1729">SOLR-1729</a>: Evaluation of NOW for date math is done only once per request for
consistency, and is also propagated to shards in distributed search.
Adding a parameter NOW=&lt;time_in_ms&gt; to the request will override the
current time.
<br /><span class="attrib">(Peter Sturge, yonik, Simon Willnauer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1709">SOLR-1709</a>: Distributed support for Date and Numeric Range Faceting
<br /><span class="attrib">(Peter Sturge, David Smiley, hossman, Simon Willnauer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3054">SOLR-3054</a>, <a href="http://issues.apache.org/jira/browse/LUCENE-3671">LUCENE-3671</a>: Add TypeTokenFilterFactory that creates TypeTokenFilter
that filters tokens based on their TypeAttribute.
<br /><span class="attrib">(Tommaso Teofili via
Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3305">LUCENE-3305</a>, <a href="http://issues.apache.org/jira/browse/SOLR-3056">SOLR-3056</a>: Added Kuromoji morphological analyzer for Japanese.
See the 'text_ja' fieldtype in the example to get started.
<br /><span class="attrib">(Christian Moen, Masaru Hasegawa via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1860">SOLR-1860</a>: StopFilterFactory, CommonGramsFilterFactory, and
CommonGramsQueryFilterFactory can optionally read stopwords in Snowball
format (specify format="snowball").
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3105">SOLR-3105</a>: ElisionFilterFactory optionally allows the parameter
ignoreCase (default=false).
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3714">LUCENE-3714</a>: Add WFSTLookupFactory, a suggester that uses a weighted FST
for more fine-grained suggestions.
<br /><span class="attrib">(Mike McCandless, Dawid Weiss, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3143">SOLR-3143</a>: Add SuggestQueryConverter, a QueryConverter intended for
auto-suggesters.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3033">SOLR-3033</a>: ReplicationHandler's backup command now supports a 'maxNumberOfBackups'
init param that can be used to delete all but the most recent N backups.
<br /><span class="attrib">(Torsten Krah, James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2202">SOLR-2202</a>: Currency FieldType, whith support for currencies and exchange rates
<br /><span class="attrib">(Greg Fodor &amp; Andrew Morrison via janhoy, rmuir, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3026">SOLR-3026</a>: eDismax: Locking down which fields can be explicitly queried (user fields aka uf)
<br /><span class="attrib">(janhoy, hossmann, Tomás Fernández Löbbe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2826">SOLR-2826</a>: URLClassify Update Processor
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2764">SOLR-2764</a>: Create a NorwegianLightStemmer and NorwegianMinimalStemmer
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3221">SOLR-3221</a>: Added the ability to directly configure aspects of the concurrency
 and thread-pooling used within distributed search in solr. This allows for finer
 grained controlled and can be tuned by end users to target their own specific
 requirements. This builds on the work of the HttpCommComponent and uses the same configuration
 block to configure the thread pool. The default configuration has
 the same behaviour as solr 3.5, favouring throughput over latency. More
 information can be found on the wiki (<a href="http://wiki.apache.org/solr/SolrConfigXml">http://wiki.apache.org/solr/SolrConfigXml</a>)
<br /><span class="attrib">(Greg Bowyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2001">SOLR-2001</a>: The query component will substitute an empty query that matches
no documents if the query parser returns null.  This also prevents an
exception from being thrown by the default parser if "q" is missing.
<br /><span class="attrib">(yonik)</span>
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-435">SOLR-435</a>: if q is "" then it's also acceptable.
<br /><span class="attrib">(dsmiley, hoss)</span></li>
</ul>
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2919">SOLR-2919</a>: Added parametric tailoring options to ICUCollationKeyFilterFactory.
These can be used to customize range query/sort behavior, for example to
support numeric collation, ignore punctuation/whitespace, ignore accents but
not case, control whether upper/lowercase values are sorted first, etc.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2346">SOLR-2346</a>: Add a chance to set content encoding explicitly via content type
of stream for extracting request handler.  This is convenient when Tika's
auto detector cannot detect encoding, especially the text file is too short
to detect encoding.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1499">SOLR-1499</a>: Added SolrEntityProcessor that imports data from another Solr core
or instance based on a specified query.
<br /><span class="attrib">(Lance Norskog, Erik Hatcher, Pulkit Singhal, Ahmet Arslan, Luca Cavanna,
Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3190">SOLR-3190</a>: Minor improvements to SolrEntityProcessor. Add more consistency
between solr parameters and parameters used in SolrEntityProcessor and
ability to specify a custom HttpClient instance.
<br /><span class="attrib">(Luca Cavanna via Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2382">SOLR-2382</a>: Added pluggable cache support to DIH so that any Entity can be
made cache-able by adding the "cacheImpl" parameter.  Include
"SortedMapBackedCache" to provide in-memory caching (as previously this was
the only option when using CachedSqlEntityProcessor).  Users can provide
their own implementations of DIHCache for other caching strategies.
Deprecate CachedSqlEntityProcessor in favor of specifing "cacheImpl" with
SqlEntityProcessor.  Make SolrWriter implement DIHWriter and allow the
possibility of pluggable Writers (DIH writing to something other than Solr).
<br /><span class="attrib">(James Dyer, Noble Paul)</span></li>
    </ol>
  </li>
  <li><a id="v3.6.0.optimizations" href="javascript:toggleList('v3.6.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v3.6.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1931">SOLR-1931</a>: Speedup for LukeRequestHandler and admin/schema browser. New parameter
reportDocCount defaults to 'false'. Old behavior still possible by specifying this as 'true'
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3012">SOLR-3012</a>: Move System.getProperty("type") in postData() to main() and add type argument so that
the client applications of SimplePostTool can set content type via method argument.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2888">SOLR-2888</a>: FSTSuggester refactoring: internal storage is now UTF-8,
external sorting (on disk) prevents OOMs even with large data sets
(the bottleneck is now FST construction), code cleanups and API cleanups.
<br /><span class="attrib">(Dawid Weiss, Robert Muir)</span></li>
    </ol>
  </li>
  <li><a id="v3.6.0.bug_fixes" href="javascript:toggleList('v3.6.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(43)
    <ol id="v3.6.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3187">SOLR-3187</a> SystemInfoHandler leaks filehandles
<br /><span class="attrib">(siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3820">LUCENE-3820</a>: Fixed invalid position indexes by reimplementing PatternReplaceCharFilter.
This change also drops real support for boundary characters -- all input is prebuffered
for pattern matching.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3068">SOLR-3068</a>: Fixed NPE in ThreadDumpHandler
<br /><span class="attrib">(siren)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2912">SOLR-2912</a>: Fixed File descriptor leak in ShowFileRequestHandler
<br /><span class="attrib">(Michael Ryan, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2819">SOLR-2819</a>: Improved speed of parsing hex entities in HTMLStripCharFilter
<br /><span class="attrib">(Bernhard Berger, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2509">SOLR-2509</a>: StringIndexOutOfBoundsException in the spellchecker collate when the term contains
a hyphen.
<br /><span class="attrib">(Thomas Gambier caught the bug, Steffen Godskesen did the patch, via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2955">SOLR-2955</a>: Fixed IllegalStateException when querying with group.sort=score desc in sharded
           environment.
<br /><span class="attrib">(Steffen Elberg Godskesen, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2956">SOLR-2956</a>: Fixed inconsistencies in the flags (and flag key) reported by
the LukeRequestHandler
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1730">SOLR-1730</a>: Made it clearer when a core failed to load as well as better logging when the
QueryElevationComponent fails to properly initialize
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1520">SOLR-1520</a>: QueryElevationComponent now supports non-string ids
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3024">SOLR-3024</a>: Fixed JSONTestUtil.matchObj, in previous releases it was not
respecting the 'delta' arg
<br /><span class="attrib">(David Smiley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2542">SOLR-2542</a>: Fixed DIH Context variables which were broken for all scopes other
then SCOPE_ENTITY
<br /><span class="attrib">(Linbin Chen &amp; Frank Wesemann via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3042">SOLR-3042</a>: Fixed Maven Jetty plugin configuration.
<br /><span class="attrib">(David Smiley via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2970">SOLR-2970</a>: CSV ResponseWriter returns fields defined as stored=false in schema
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3690">LUCENE-3690</a>, <a href="http://issues.apache.org/jira/browse/LUCENE-2208">LUCENE-2208</a>, <a href="http://issues.apache.org/jira/browse/SOLR-882">SOLR-882</a>, <a href="http://issues.apache.org/jira/browse/SOLR-42">SOLR-42</a>: Re-implemented
HTMLStripCharFilter as a JFlex-generated scanner and moved it to
lucene/contrib/analyzers/common/.  See below for a list of bug fixes and
other changes.  To get the same behavior as HTMLStripCharFilter in Solr
version 3.5 and earlier (including the bugs), use LegacyHTMLStripCharFilter,
which is the previous implementation.
<p>
Behavior changes from the previous version:
<ul class="bulleted-list">
<li class="bulleted-list">
Known offset bugs are fixed.
</li>
<li class="bulleted-list">
The "Mark invalid" exceptions reported in <a href="http://issues.apache.org/jira/browse/SOLR-1283">SOLR-1283</a> are no longer
  triggered (the bug is still present in LegacyHTMLStripCharFilter).
</li>
<li class="bulleted-list">
The character entity "&amp;apos;" is now always properly decoded.
</li>
<li class="bulleted-list">
More cases of &lt;script&gt; tags are now properly stripped.
</li>
<li class="bulleted-list">
CDATA sections are now handled properly.
</li>
<li class="bulleted-list">
Valid tag name characters now include the supplementary Unicode characters
  from Unicode character classes [:ID_Start:] and [:ID_Continue:].
</li>
<li class="bulleted-list">
Uppercase character entities "&amp;QUOT;", "&amp;COPY;", "&amp;GT;", "&amp;LT;", "&amp;REG;",
  and "&amp;AMP;" are now recognized and handled as if they were in lowercase.
</li>
<li class="bulleted-list">
The REPLACEMENT CHARACTER U+FFFD is now used to replace numeric character
  entities for unpaired UTF-16 low and high surrogates (in the range
  [U+D800-U+DFFF]).
</li>
<li class="bulleted-list">
Properly paired numeric character entities for UTF-16 surrogates are now
  converted to the corresponding code units.
</li>
<li class="bulleted-list">
Opening tags with unbalanced quotation marks are now properly stripped.
</li>
<li class="bulleted-list">
Literal "&lt;" and "&gt;" characters in opening tags, regardless of whether they
  appear inside quotation marks, now inhibit recognition (and stripping) of
  the tags.  The only exception to this is for values of event-handler
  attributes, e.g. "onClick", "onLoad", "onSelect".
</li>
<li class="bulleted-list">
A newline '\n' is substituted instead of a space for stripped HTML markup.
</li>
<li class="bulleted-list">
Nothing is substituted for opening and closing inline tags - they are
  simply removed.  The list of inline tags is (case insensitively): &lt;a&gt;,
  &lt;abbr&gt;, &lt;acronym&gt;, &lt;b&gt;, &lt;basefont&gt;, &lt;bdo&gt;, &lt;big&gt;, &lt;cite&gt;, &lt;code>, &lt;dfn&gt;,
  &lt;em&gt;, &lt;font&gt;, &lt;i&gt;, &lt;img&gt;, &lt;input&gt;, &lt;kbd&gt;, &lt;label&gt;, &lt;q&gt;, &lt;s&gt;, &lt;samp&gt;,
  &lt;select&gt;, &lt;small&gt;, &lt;span&gt;, &lt;strike&gt;, &lt;strong&gt;, &lt;sub&gt;, &lt;sup&gt;, &lt;textarea&gt;,
  &lt;tt&gt;, &lt;u&gt;, and &lt;var&gt;.
</li>
<li class="bulleted-list">
HTMLStripCharFilterFactory now handles HTMLStripCharFilter's "escapedTags"
  feature: opening and closing tags with the given names, including any
  attributes and their values, are left intact in the output.
</li>
</ul>
<span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3717">LUCENE-3717</a>: Fixed offset bugs in TrimFilter, WordDelimiterFilter, and
HyphenatedWordsFilter where they would create invalid offsets in
some situations, leading to problems in highlighting.
<br /><span class="attrib">(Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2280">SOLR-2280</a>: commitWithin ignored for a delete query
<br /><span class="attrib">(Juan Grande via janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3073">SOLR-3073</a>: Fixed 'Invalid UUID string' error when having an UUID field as
the unique key and executing a distributed grouping request.
<br /><span class="attrib">(Devon Krisman, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3084">SOLR-3084</a>: Fixed initialization error when using
&lt;queryResponseWriter default="true" ... /&gt;
<br /><span class="attrib">(Bernd Fehling and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3109">SOLR-3109</a>: Fixed numerous redundant shard requests when using distributed grouping.
<br /><span class="attrib">(rblack via Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3052">SOLR-3052</a>: Fixed typo in distributed grouping parameters.
<br /><span class="attrib">(Martijn van Groningen, Grant Ingersoll)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2909">SOLR-2909</a>: Add support for ResourceLoaderAware tokenizerFactories in synonym
filter factories.
<br /><span class="attrib">(Tom Klonikowski, Jun Ohtani via Koji Sekiguchi)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3168">SOLR-3168</a>: ReplicationHandler "numberToKeep" &amp; "maxNumberOfBackups" parameters
would keep only 1 backup, even if more than 1 was specified
<br /><span class="attrib">(Neil Hooey, James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3009">SOLR-3009</a>: hitGrouped.vm isn't shipped with 3.x
<br /><span class="attrib">(ehatcher, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3195">SOLR-3195</a>: timeAllowed is ignored for grouping queries
<br /><span class="attrib">(Russell Black via Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2124">SOLR-2124</a>: Do not log stack traces for "Service Disabled" / 503 Exceptions (PingRequestHandler, etc)
<br /><span class="attrib">(James Dyer, others)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3260">SOLR-3260</a>: DataImportHandler: ScriptTransformer gives better error messages when
problems arise on initialization (no Script Engine, invalid script, etc).
<br /><span class="attrib">(James Dyer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2959">SOLR-2959</a>: edismax now respects the magic fields '_val_' and '_query_'
<br /><span class="attrib">(Michael Watts, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3074">SOLR-3074</a>: fix SolrPluginUtils.docListToSolrDocumentList to respect the
list of fields specified.  This fix also deprecates
DocumentBuilder.loadStoredFields which is not used anywhere in Solr,
and was fundamentally broken/bizarre.
<br /><span class="attrib">(hossman, Ahmet Arslan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2291">SOLR-2291</a>: fix JSONWriter to respect field list when writing SolrDocuments
<br /><span class="attrib">(Ahmet Arslan via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3264">SOLR-3264</a>: Fix CoreContainer and SolrResourceLoader logging to be more
clear about when SolrCores are being created, and stop misleading people
about SolrCore instanceDir's being the "Solr Home Dir"
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3046">SOLR-3046</a>: Fix whitespace typo in DIH response "Time taken"
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3261">SOLR-3261</a>: Fix edismax to respect query operators when literal colons
are used in query string.
<br /><span class="attrib">(Juan Grande via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3226">SOLR-3226</a>: Fix SignatureUpdateProcessor to no longer ignore non-String
field values
<br /><span class="attrib">(Spyros Kapnissis, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3200">SOLR-3200</a>: Fix SignatureUpdateProcessor "all fields" mode to use all
fields of each document instead of the fields specified by the first
document indexed
<br /><span class="attrib">(Spyros Kapnissis via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3316">SOLR-3316</a>: Distributed grouping failed when rows parameter was set to 0 and
sometimes returned a wrong hit count as matches.
<br /><span class="attrib">(Cody Young, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3107">SOLR-3107</a>: contrib/langid: When using the LangDetect implementation of
langid, set the random seed to 0, so that the same document is detected as
the same language with the same probability every time.
<br /><span class="attrib">(Christian Moen via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2937">SOLR-2937</a>: Configuring the number of contextual snippets used for
search results clustering. The hl.snippets parameter is now respected
by the clustering plugin, can be overridden by carrot.summarySnippets
if needed
<br /><span class="attrib">(Stanislaw Osinski)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2938">SOLR-2938</a>: Clustering on multiple fields. The carrot.title and
carrot.snippet can now take comma- or space-separated lists of
field names to cluster
<br /><span class="attrib">(Stanislaw Osinski)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2939">SOLR-2939</a>: Clustering of multilingual search results. The document's
language field be passed in the carrot.lang parameter, the carrot.lcmap
parameter enables mapping of language codes to ISO 639
<br /><span class="attrib">(Stanislaw Osinski)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2940">SOLR-2940</a>: Passing values for custom Carrot2 fields to Clustering component.
The custom field mapping are defined using the carrot.custom parameter
<br /><span class="attrib">(Stanislaw Osinski)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2941">SOLR-2941</a>: NullPointerException on clustering component initialization
when schema does not have a unique key field
<br /><span class="attrib">(Stanislaw Osinski)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2942">SOLR-2942</a>: ClassCastException when passing non-textual fields to
clustering component
<br /><span class="attrib">(Stanislaw Osinski)</span>.
<p>
</li>
    </ol>
  </li>
  <li><a id="v3.6.0.other_changes" href="javascript:toggleList('v3.6.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(16)
    <ol id="v3.6.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2922">SOLR-2922</a>: Upgrade commons-io and commons-lang to 2.1 and 2.6, respectively.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2920">SOLR-2920</a>: Refactor frequent conditional use of DefaultSolrParams and
AppendedSolrParams into factory methods.
<br /><span class="attrib">(David Smiley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3032">SOLR-3032</a>: Deprecate logOnce from SolrException logOnce and all the supporting
structure will disappear in 4.0. Errors should be caught and logged at the
top-most level or logged and NOT propagated up the chain.
<br /><span class="attrib">(Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2718">SOLR-2718</a>: Add ability to lazy load response writers, defined with startup="lazy".
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2901">SOLR-2901</a>: Upgrade Solr to Tika 1.0
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3059">SOLR-3059</a>: Example XSL stylesheet for indexing query result XML
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3097">SOLR-3097</a>, <a href="http://issues.apache.org/jira/browse/SOLR-3105">SOLR-3105</a>: Add analysis configurations for different languages to
the example.
<br /><span class="attrib">(Christian Moen, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3005">SOLR-3005</a>: Default QueryResponseWriters are now initialized via init() with an empty
NamedList.
<br /><span class="attrib">(Gasol Wu, Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3140">SOLR-3140</a>: Upgrade schema version to 1.5, where omitNorms defaults to "true" for all
primitive (non-analyzed) field types such as int, float, date, bool, string..
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3077">SOLR-3077</a>: Better error messages when attempting to use "blank" field names
<br /><span class="attrib">(Antony Stubbs via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2712">SOLR-2712</a>: expecting fl=score to return all fields is now deprecated.
In solr 4.0, this will only return the score.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3156">SOLR-3156</a>: Check for Lucene directory locks at startup. In previous versions
this check was only performed during modifying (e.g. adding and deleting
documents) the index.
<br /><span class="attrib">(Luca Cavanna via Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1052">SOLR-1052</a>: Deprecated &lt;indexDefaults&gt; and &lt;mainIndex&gt; in solrconfig.xml
From now, all settings go in the new &lt;indexConfig&gt; tag, and some defaults are
changed: useCompoundFile=false, ramBufferSizeMB=32, lockType=native, so that
the effect of NOT specifying &lt;indexConfig&gt; at all gives same result as the
example config used to give in 3.5
<br /><span class="attrib">(janhoy, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3294">SOLR-3294</a>: In contrib/clustering/lib/, replaced the manually retrowoven
Java 1.5-compatible carrot2-core-3.5.0.jar (which is not publicly available,
except from the Solr Subversion repository), with newly released Java
1.5-compatible carrot2-core-3.5.0.1.jar (hosted on the Maven Central
repository).  Also updated dependencies jackson-core-asl and
jackson-mapper-asl (both v1.5.2 -&gt; v1.7.4).
<br /><span class="attrib">(Dawid Weiss, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3295">SOLR-3295</a>: netcdf jar is excluded from the binary release (and disabled in
ivy.xml) because it requires java 6. If you want to parse this content with
extracting request handler and are willing to use java 6, just add the jar.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3142">SOLR-3142</a>: DIH Imports no longer default optimize to true, instead false.
If you want to force all segments to be merged into one, you can specify
this parameter yourself. NOTE: this can be very expensive operation and
usually does not make sense for delta-imports.
<br /><span class="attrib">(Robert Muir)</span></li>
    </ol>
  </li>
  <li><a id="v3.6.0.build" href="javascript:toggleList('v3.6.0.build')">Build</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v3.6.0.build.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2487">SOLR-2487</a>: Add build target to package war without slf4j jars
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3112">SOLR-3112</a>: Fix tests not to write to src/test-files
<br /><span class="attrib">(Luca Cavanna via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3753">LUCENE-3753</a>: Restructure the Solr build system.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-3204">SOLR-3204</a>: The packaged pre-release artifact of Commons CSV used the original
package name (org.apache.commons.csv). This created a compatibility issue as
the Apache Commons team works toward an official release of Commons CSV.
The source of Commons CSV was added under a separate package name to the
Solr source code.
<br /><span class="attrib">(Uwe Schindler, Chris Male, Emmanuel Bourg)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3930">LUCENE-3930</a>: Changed build system to use Apache Ivy for retrival of 3rd
party JAR files.  Please review README.txt for instructions.
<br /><span class="attrib">(Robert Muir, Chris Male, Uwe Schindler, Steven Rowe, Hossman)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v3.5.0" href="javascript:toggleList('v3.5.0')">Release 3.5.0  [2011-11-11]</a></h3>
<ul id="v3.5.0.list">
  <li><a id="v3.5.0.new_features" href="javascript:toggleList('v3.5.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="v3.5.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2749">SOLR-2749</a>: Add boundary scanners for FastVectorHighlighter. &lt;boundaryScanner/&gt;
can be specified with a name in solrconfig.xml, and use hl.boundaryScanner=name
parameter to specify the named &lt;boundaryScanner/&gt;.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2066">SOLR-2066</a>,<a href="http://issues.apache.org/jira/browse/SOLR-2776">SOLR-2776</a>: Added support for distributed grouping.
<br /><span class="attrib">(Martijn van Groningen, Jasper van Veghel, Matt Beaumont)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2769">SOLR-2769</a>: Added factory for the new Hunspell stemmer capable of doing stemming
for 99 languages
<br /><span class="attrib">(janhoy, cmale)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1979">SOLR-1979</a>: New contrib "langid". Adds language identification capabilities as an
Update Processor, using Tika's LanguageIdentifier or Cybozu language-detection
library
<br /><span class="attrib">(janhoy, Tommaso Teofili, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2818">SOLR-2818</a>: Added before/after count response parsing support for range facets in
SolrJ.
<br /><span class="attrib">(Bernhard Frauendienst via Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2276">SOLR-2276</a>: Add support for cologne phonetic to PhoneticFilterFactory.
<br /><span class="attrib">(Marc Pompl via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1926">SOLR-1926</a>: Add hl.q parameter.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2881">SOLR-2881</a>: Numeric types now support sortMissingFirst/Last. This includes Trie and date types
<br /><span class="attrib">(Ryan McKinley, Mike McCandless, Uwe Schindler, Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1023">SOLR-1023</a>: StatsComponent now supports date fields and string fields.
<br /><span class="attrib">(Chris Male, Mark Holland, Gunnlaugur Thor Briem, Ryan McKinley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2578">SOLR-2578</a>: ReplicationHandler's backup command now supports a 'numberToKeep'
request param that can be used to delete all but the most recent N backups.
<br /><span class="attrib">(James Dyer via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2839">SOLR-2839</a>: Add alternative implementation to contrib/langid supporting 53
languages, based on <a href="http://code.google.com/p/language-detection/">http://code.google.com/p/language-detection/</a>
<br /><span class="attrib">(rmuir)</span></li>
    </ol>
  </li>
  <li><a id="v3.5.0.optimizations" href="javascript:toggleList('v3.5.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v3.5.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2742">SOLR-2742</a>: SolrJ: Provide commitWithinMs as optional parameter for all add() methods,
making the feature more conveniently accessible for developers
<br /><span class="attrib">(janhoy)</span></li>
    </ol>
  </li>
  <li><a id="v3.5.0.bug_fixes" href="javascript:toggleList('v3.5.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="v3.5.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2748">SOLR-2748</a>: The CommitTracker used for commitWith or autoCommit by maxTime
could commit too frequently and could block adds until a new searcher was
registered.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2726">SOLR-2726</a>: Fixed NullPointerException when using spellcheck.q with Suggester.
<br /><span class="attrib">(Bernd Fehling, valentin via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2772">SOLR-2772</a>: Fixed Date parsing/formatting of years 0001-1000
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2763">SOLR-2763</a>: Extracting update request handler throws exception and returns 400
when zero-length file posted using multipart form post
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2780">SOLR-2780</a>: Fixed issue where multi select facets didn't respect group.truncate parameter.
<br /><span class="attrib">(Martijn van Groningen, Ramzi Alqrainy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2793">SOLR-2793</a>: In rare cases (most likely during shutdown), a SolrIndexSearcher can be left
open if the executor rejects a task.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2791">SOLR-2791</a>: Replication: abortfetch command is broken if replication was started
by fetchindex command instead of a regular poll
<br /><span class="attrib">(Yury Kats via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2861">SOLR-2861</a>: Fix extremely rare race condition on commit that can result
in a NPE
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2813">SOLR-2813</a>: Fix HTTP error codes returned when requests contain strings that
can not be parsed as numbers for Trie fields.
<br /><span class="attrib">(Jeff Crump and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2902">SOLR-2902</a>: List of collations are wrong parsed in SpellCheckResponse causing
a wrong number of collation results in the response.
<br /><span class="attrib">(Bastiaan Verhoef, James Dyer via Simon Willnauer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2875">SOLR-2875</a>: Fix the incorrect url in DIH example tika-data-config.xml
<br /><span class="attrib">(Shinichiro Abe via koji)</span></li>
    </ol>
  </li>
  <li><a id="v3.5.0.other_changes" href="javascript:toggleList('v3.5.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(13)
    <ol id="v3.5.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2750">SOLR-2750</a>: Make both "update.chain" and the deprecated "update.param" work
consistently everywhere; see also <a href="http://issues.apache.org/jira/browse/SOLR-2105">SOLR-2105</a>.
<br /><span class="attrib">(Mark Miller, janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3410">LUCENE-3410</a>: Deprecated the WordDelimiterFilter constructors accepting multiple
ints masquerading as booleans.  Preferred constructor now accepts a single int
bitfield
<br /><span class="attrib">(Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2758">SOLR-2758</a>: Moved ConcurrentLRUCache from o.a.s.common.util package in the solrj
module to the o.a.s.util package in the Solr core module.
<br /><span class="attrib">(David Smiley via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2766">SOLR-2766</a>: Package individual javadoc sites for solrj and test-framework.
<br /><span class="attrib">(Steve Rowe, Mike McCandless)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2771">SOLR-2771</a>: Solr modules' tests should not depend on solr-core test classes;
move BufferingRequestProcessor from solr-core tests to test-framework so that
the Solr Cell module can use it.
<br /><span class="attrib">(janhoy, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3457">LUCENE-3457</a>: Upgrade commons-compress to 1.2
<br /><span class="attrib">(Doron Cohen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2757">SOLR-2757</a>: min() and max() functions now support an arbitrary number of
ValueSources
<br /><span class="attrib">(Bill Bell via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2372">SOLR-2372</a>: Upgrade Solr to Tika 0.10
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2792">SOLR-2792</a>: Allow case insensitive Hunspell stemming
<br /><span class="attrib">(janhoy, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2862">SOLR-2862</a>: More explicit lexical resources location logged if Carrot2 clustering
extension is used. Fixed solr. impl. of IResource and IResourceLookup.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2849">SOLR-2849</a>: Fix dependencies in Maven POMs.
<br /><span class="attrib">(David Smiley via Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2591">SOLR-2591</a>: Remove commitLockTimeout option from solrconfig.xml
<br /><span class="attrib">(Luca Cavanna via Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2746">SOLR-2746</a>: Upgraded UIMA dependencies from *-2.3.1-SNAPSHOT.jar to *-2.3.1.jar.
<p>
</li>
    </ol>
  </li>
</ul>
<h3><a id="v3.4.0" href="javascript:toggleList('v3.4.0')">Release 3.4.0  [2011-09-15]</a></h3>
<ul id="v3.4.0.list">
  <li><a id="v3.4.0.upgrading_from_solr_3.3" href="javascript:toggleList('v3.4.0.upgrading_from_solr_3.3')">Upgrading from Solr 3.3</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v3.4.0.upgrading_from_solr_3.3.list">
      <li>The Lucene index format has changed and as a result, once you upgrade,
previous versions of Solr will no longer be able to read your indices.
In a master/slave configuration, all searchers/slaves should be upgraded
before the master.  If the master were to be updated first, the older
searchers would not be able to read the new index format.
<p>
</li>
      <li>Previous versions of Solr silently allow and ignore some contradictory
properties specified in schema.xml.  For example:
<ul class="bulleted-list">
<li class="bulleted-list">
indexed="false" omitNorms="false"
</li>
<li class="bulleted-list">
indexed="false" omitTermFreqAndPositions="false"
</li>
</ul>
Field property validation has now been fixed, to ensure that
contradictions like these now generate error messages.  If users
have existing schemas that generate one of these new "conflicting
'false' field options for non-indexed field" error messages the
conflicting "omit*" properties can safely be removed, or changed to
"true" for consistent behavior with previous Solr versions.  This
situation has now been fixed to cause an error on startup when these
contradictory options.  See <a href="http://issues.apache.org/jira/browse/SOLR-2669">SOLR-2669</a>.
<p>
</li>
      <li>FacetComponent no longer catches and embeds exceptions occurred during facet
processing, it throws HTTP 400 or 500 exceptions instead.
<p>
</li>
    </ol>
  </li>
  <li><a id="v3.4.0.new_features" href="javascript:toggleList('v3.4.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(14)
    <ol id="v3.4.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2540">SOLR-2540</a>: CommitWithin as an Update Request parameter
You can now specify &amp;commitWithin=N (ms) on the update request
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2458">SOLR-2458</a>: post.jar enhanced to handle JSON, CSV and &lt;optimize&gt;
<br /><span class="attrib">(janhoy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3234">LUCENE-3234</a>: add a new parameter hl.phraseLimit for FastVectorHighlighter speed up.
<br /><span class="attrib">(Mike Sokolov via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2429">SOLR-2429</a>: Ability to add cache=false to queries and query filters to avoid
using the filterCache or queryCache.  A cost may also be specified and is used
to order the evaluation of non-cached filters from least to greatest cost .
For very expensive query filters (cost &gt;= 100) if the query implements
the PostFilter interface, it will be used to obtain a Collector that is
checked only for documents that match the main query and all other filters.
The "frange" query now implements the PostFilter interface.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2630">SOLR-2630</a>: Added new XsltUpdateRequestHandler that works like
XmlUpdateRequestHandler but allows to transform the POSTed XML document
using XSLT. This allows to POST arbitrary XML documents to the update
handler, as long as you also provide a XSL to transform them to a valid
Solr input document.
<br /><span class="attrib">(Upayavira, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2615">SOLR-2615</a>: Log individual updates (adds and deletes) at the FINE level
before adding to the index.  Fix a null pointer exception in logging
when there was no unique key.
<br /><span class="attrib">(David Smiley via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2048">LUCENE-2048</a>: Added omitPositions to the schema, so you can omit position
information while still indexing term frequencies.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2584">SOLR-2584</a>: add UniqFieldsUpdateProcessor that removes duplicate values in the
specified fields.
<br /><span class="attrib">(Elmer Garduno, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2670">SOLR-2670</a>: Added NIOFSDirectoryFactory
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2523">SOLR-2523</a>: Added support in SolrJ to easily interact with range facets.
The range facet response can be parsed and is retrievable from the
QueryResponse class. The SolrQuery class has convenient methods for using
range facets.
<br /><span class="attrib">(Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2637">SOLR-2637</a>: Added support for group result parsing in SolrJ.
<br /><span class="attrib">(Tao Cheng, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2665">SOLR-2665</a>: Added post group faceting. Facet counts are based on the most
relevant document of each group matching the query. This feature has the
same impact on the StatsComponent.
<br /><span class="attrib">(Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2675">SOLR-2675</a>: CoreAdminHandler now allows arbitrary properties to be
specified when CREATEing a new SolrCore using property.* request
params.
<br /><span class="attrib">(Yury Kats, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2714">SOLR-2714</a>: JSON update format - "null" field values are now dropped
instead of causing an exception.
<br /><span class="attrib">(Trygve Laugstøl, yonik)</span></li>
    </ol>
  </li>
  <li><a id="v3.4.0.optimizations" href="javascript:toggleList('v3.4.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v3.4.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3233">LUCENE-3233</a>: Improved memory usage, build time, and performance of
SynonymFilterFactory.
<br /><span class="attrib">(Mike McCandless, Robert Muir)</span></li>
    </ol>
  </li>
  <li><a id="v3.4.0.bug_fixes" href="javascript:toggleList('v3.4.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(24)
    <ol id="v3.4.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2625">SOLR-2625</a>: TermVectorComponent throws NPE if TF-IDF option is used without DF
option.
<br /><span class="attrib">(Daniel Erenrich, Simon Willnauer)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2631">SOLR-2631</a>: PingRequestHandler should not allow to ping itself using "qt"
param to prevent infinite loop.
<br /><span class="attrib">(Edoardo Tosca, Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2636">SOLR-2636</a>: Fix explain functionality for negative queries.
<br /><span class="attrib">(Tom Hill via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2538">SOLR-2538</a>: Range Faceting on long/double fields could overflow if values
bigger then the max int/float were used.
<br /><span class="attrib">(Erbi Hanka, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2230">SOLR-2230</a>: CommonsHttpSolrServer.addFile could not be used to send
multiple files in a single request.
<br /><span class="attrib">(Stephan Günther, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2541">SOLR-2541</a>: PluginInfos was not correctly parsing &lt;long/&gt; tags when
initializing plugins
<br /><span class="attrib">(Frank Wesemann, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2623">SOLR-2623</a>: Solr JMX MBeans do not survive core reloads
<br /><span class="attrib">(Alexey Serba, shalin)</span></li>
      <li>Fixed grouping bug when start is bigger than rows and format is simple that zero documents are returned even
if there are documents to display.
<br /><span class="attrib">(Martijn van Groningen, Nikhil Chhaochharia)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2564">SOLR-2564</a>: Fixed ArrayIndexOutOfBoundsException when using simple format and
start &gt; 0
<br /><span class="attrib">(Martijn van Groningen, Matteo Melli)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2642">SOLR-2642</a>: Fixed sorting by function when using grouping.
<br /><span class="attrib">(Thomas Heigl, Martijn van Groningen)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2535">SOLR-2535</a>: REGRESSION: in Solr 3.x and trunk the admin/file handler
fails to show directory listings
<br /><span class="attrib">(David Smiley, Peter Wolanin via Erick Erickson)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2545">SOLR-2545</a>: ExternalFileField file parsing would fail if any key
contained an "=" character.  It now only looks for the last "=" delimiter
prior to the float value.
<br /><span class="attrib">(Markus Jelsma, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2662">SOLR-2662</a>: When Solr is configured to have no queryResultCache, the
"start" parameter was not honored and the documents returned were
 0 through start+offset.
<br /><span class="attrib">(Markus Jelsma, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2669">SOLR-2669</a>: Fix backwards validation of field properties in
SchemaField.calcProps
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2676">SOLR-2676</a>: Add "welcome-file-list" to solr.war so admin UI works correctly
in servlet containers such as WebSphere that do not use a default list
<br /><span class="attrib">(Jay R. Jaeger, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2606">SOLR-2606</a>: Fixed sort parsing of fields containing punctuation that
failed due to sort by function changes introduced in <a href="http://issues.apache.org/jira/browse/SOLR-1297">SOLR-1297</a>
<br /><span class="attrib">(Mitsu Hadeishi, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2706">SOLR-2706</a>: contrib/clustering: The carrot.lexicalResourcesDir parameter
now works with absolute directories
<br /><span class="attrib">(Stanislaw Osinski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2692">SOLR-2692</a>: contrib/clustering: Typo in param name fixed: "carrot.fragzise"
changed to "carrot.fragSize"
<br /><span class="attrib">(Stanislaw Osinski)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2644">SOLR-2644</a>: When using DIH with threads=2 the default logging is set too high
<br /><span class="attrib">(Bill Bell via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2492">SOLR-2492</a>: DIH does not commit if only deletes are processed
<br /><span class="attrib">(James Dyer via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2186">SOLR-2186</a>: DataImportHandler's multi-threaded option throws NPE
<br /><span class="attrib">(Lance Norskog, Frank Wesemann, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2655">SOLR-2655</a>: DIH multi threaded mode does not resolve attributes correctly
<br /><span class="attrib">(Frank Wesemann, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2695">SOLR-2695</a>: DIH: Documents are collected in unsynchronized list in
multi-threaded debug mode
<br /><span class="attrib">(Michael McCandless, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2668">SOLR-2668</a>: DIH multithreaded mode does not rollback on errors from
EntityProcessor
<br /><span class="attrib">(Frank Wesemann, shalin)</span></li>
    </ol>
  </li>
  <li><a id="v3.4.0.other_changes" href="javascript:toggleList('v3.4.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v3.4.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2629">SOLR-2629</a>: Eliminate deprecation warnings in some JSPs.
<br /><span class="attrib">(Bernd Fehling, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2743">SOLR-2743</a>: Remove commons logging from contrib/extraction.
<br /><span class="attrib">(koji)</span></li>
    </ol>
  </li>
  <li><a id="v3.4.0.build" href="javascript:toggleList('v3.4.0.build')">Build</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v3.4.0.build.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2452">SOLR-2452</a>,<a href="http://issues.apache.org/jira/browse/SOLR-2653">SOLR-2653</a>,<a href="http://issues.apache.org/jira/browse/LUCENE-3323">LUCENE-3323</a>,<a href="http://issues.apache.org/jira/browse/SOLR-2659">SOLR-2659</a>,<a href="http://issues.apache.org/jira/browse/LUCENE-3329">LUCENE-3329</a>,<a href="http://issues.apache.org/jira/browse/SOLR-2666">SOLR-2666</a>:
Rewrote the Solr build system:
<ul class="bulleted-list">
<li class="bulleted-list">
Integrated more fully with the Lucene build system: generalized the
  Lucene build system and eliminated duplication.
</li>
<li class="bulleted-list">
Converted all Solr contribs to the Lucene/Solr conventional src/ layout:
  java/, resources/, test/, and test-files/&lt;contrib-name&gt;.
</li>
<li class="bulleted-list">
Created a new Solr-internal module named "core" by moving the java/,
  test/, and test-files/ directories from solr/src/ to solr/core/src/.
</li>
<li class="bulleted-list">
Merged solr/src/webapp/src/ into solr/core/src/java/.
</li>
<li class="bulleted-list">
Eliminated solr/src/ by moving all its directories up one level;
  renamed solr/src/site/ to solr/site-src/ because solr/site/ already
  exists.
</li>
<li class="bulleted-list">
Merged solr/src/common/ into solr/solrj/src/java/.
</li>
<li class="bulleted-list">
Moved o.a.s.client.solrj.* and o.a.s.common.* tests from
  solr/src/test/ to solr/solrj/src/test/.
</li>
<li class="bulleted-list">
Made the solrj tests not depend on the solr core tests by moving
  some classes from solr/src/test/ to solr/test-framework/src/java/.
</li>
<li class="bulleted-list">
Each internal module (core/, solrj/, test-framework/, and webapp/)
  now has its own build.xml, from which it is possible to run
  module-specific targets.  solr/build.xml delegates all build
  tasks (via &lt;ant dir="internal-module-dir"&gt; calls) to these
  modules' build.xml files.
</li>
</ul>
<span class="attrib">(Steve Rowe, Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3406">LUCENE-3406</a>: Add ant target 'package-local-src-tgz' to Lucene and Solr
to package sources from the local working copy.
<br /><span class="attrib">(Seung-Yeoul Yang via Steve Rowe)</span></li>
    </ol>
  </li>
  <li><a id="v3.4.0.documentation" href="javascript:toggleList('v3.4.0.documentation')">Documentation</a>&nbsp;&nbsp;&nbsp;(none)
    <ol id="v3.4.0.documentation.list">
    </ol>
  </li>
</ul>
<h3><a id="v3.3.0" href="javascript:toggleList('v3.3.0')">Release 3.3.0  [2011-07-10]</a></h3>
<ul id="v3.3.0.list">
  <li><a id="v3.3.0.upgrading_from_solr_3.2.0" href="javascript:toggleList('v3.3.0.upgrading_from_solr_3.2.0')">Upgrading from Solr 3.2.0</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v3.3.0.upgrading_from_solr_3.2.0.list">
      <li>SolrCore's CloseHook API has been changed in a backward-incompatible way. It
has been changed from an interface to an abstract class. Any custom
components which use the SolrCore.addCloseHook method will need to
be modified accordingly. To migrate, put your old CloseHook#close impl into
CloseHook#preClose.
<p>
</li>
    </ol>
  </li>
  <li><a id="v3.3.0.new_features" href="javascript:toggleList('v3.3.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v3.3.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2378">SOLR-2378</a>: A new, automaton-based, implementation of suggest (autocomplete)
component, offering an order of magnitude smaller memory consumption
compared to ternary trees and jaspell and very fast lookups at runtime.
<br /><span class="attrib">(Dawid Weiss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2400">SOLR-2400</a>: Field- and DocumentAnalysisRequestHandler now provide a position
history for each token, so you can follow the token through all analysis stages.
The output contains a separate int[] attribute containing all positions from
previous Tokenizers/TokenFilters (called "positionHistory").
<br /><span class="attrib">(Uwe Schindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2524">SOLR-2524</a>: (<a href="http://issues.apache.org/jira/browse/SOLR-236">SOLR-236</a>, <a href="http://issues.apache.org/jira/browse/SOLR-237">SOLR-237</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1773">SOLR-1773</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1311">SOLR-1311</a>) Grouping / Field collapsing
using the Lucene grouping contrib. The search result can be grouped by field and query.
<br /><span class="attrib">(Martijn van Groningen, Emmanuel Keller, Shalin Shekhar Mangar, Koji Sekiguchi,
 Iván de Prado, Ryan McKinley, Marc Sturlese, Peter Karich, Bojan Smid,
 Charles Hornberger, Dieter Grad, Dmitry Lihachev, Doug Steigerwald,
 Karsten Sperling, Michael Gundlach, Oleg Gnatovskiy, Thomas Traeger,
 Harish Agarwal, yonik, Michael McCandless, Bill Bell)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1331">SOLR-1331</a> -- Added a srcCore parameter to CoreAdminHandler's mergeindexes action
to merge one or more cores' indexes to a target core
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2610">SOLR-2610</a> -- Add an option to delete index through CoreAdmin UNLOAD action
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2480">SOLR-2480</a>: Add ignoreTikaException flag to the extraction request handler so
that users can ignore TikaException but index meta data.
<br /><span class="attrib">(Shinichiro Abe, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2582">SOLR-2582</a>: Use uniqueKey for error log in UIMAUpdateRequestProcessor.
<br /><span class="attrib">(Tommaso Teofili via koji)</span></li>
    </ol>
  </li>
  <li><a id="v3.3.0.optimizations" href="javascript:toggleList('v3.3.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v3.3.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2567">SOLR-2567</a>: Solr now defaults to TieredMergePolicy. See <a href="http://s.apache.org/merging">http://s.apache.org/merging</a>
for more information.
<br /><span class="attrib">(rmuir)</span></li>
    </ol>
  </li>
  <li><a id="v3.3.0.bug_fixes" href="javascript:toggleList('v3.3.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v3.3.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2519">SOLR-2519</a>: Improve text_* fieldTypes in example schema.xml: improve
cross-language defaults for text_general; break out separate
English-specific fieldTypes
<br /><span class="attrib">(Jan Høydahl, hossman, Robert Muir,
yonik, Mike McCandless)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2462">SOLR-2462</a>: Fix extremely high memory usage problems with spellcheck.collate.
Separately, an additional spellcheck.maxCollationEvaluations (default=10000)
parameter is added to avoid excessive CPU time in extreme cases (e.g. long
queries with many misspelled words).
<br /><span class="attrib">(James Dyer via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2579">SOLR-2579</a>: UIMAUpdateRequestProcessor ignore error fails if text.length() &lt; 100.
<br /><span class="attrib">(Elmer Garduno via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2581">SOLR-2581</a>: UIMAToSolrMapper wrongly instantiates Type with reflection.
<br /><span class="attrib">(Tommaso Teofili via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2551">SOLR-2551</a>: Check dataimport.properties for write access (if delta-import is
supported in DIH configuration) before starting an import
<br /><span class="attrib">(C S, shalin)</span></li>
    </ol>
  </li>
  <li><a id="v3.3.0.other_changes" href="javascript:toggleList('v3.3.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v3.3.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2571">SOLR-2571</a>: Add a commented out example of the spellchecker's thresholdTokenFrequency
parameter to the example solrconfig.xml, and also add a unit test for this feature.
<br /><span class="attrib">(James Dyer via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2576">SOLR-2576</a>: Deprecate SpellingResult.add(Token token, int docFreq), please use
SpellingResult.addFrequency(Token token, int docFreq) instead.
<br /><span class="attrib">(James Dyer via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2574">SOLR-2574</a>: Upgrade slf4j to v1.6.1
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3204">LUCENE-3204</a>: The maven-ant-tasks jar is now included in the source tree;
users of the generate-maven-artifacts target no longer have to manually
place this jar in the Ant classpath.  NOTE: when Ant looks for the
maven-ant-tasks jar, it looks first in its pre-existing classpath, so
any copies it finds will be used instead of the copy included in the
Lucene/Solr source tree.  For this reason, it is recommeded to remove
any copies of the maven-ant-tasks jar in the Ant classpath, e.g. under
~/.ant/lib/ or under the Ant installation's lib/ directory.
<br /><span class="attrib">(Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2611">SOLR-2611</a>: Fix typos in the example configuration
<br /><span class="attrib">(Eric Pugh via rmuir)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v3.2.0" href="javascript:toggleList('v3.2.0')">Release 3.2.0  [2011-06-03]</a></h3>
<ul id="v3.2.0.list">
  <li><a id="v3.2.0.versions_of_major_components" href="javascript:toggleList('v3.2.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v3.2.0.versions_of_major_components.list">
      <li>Apache Lucene trunk
</li>
      <li>Apache Tika 0.8
</li>
      <li>Carrot2 3.4.2
</li>
    </ol>
  </li>
  <li><a id="v3.2.0.upgrading_from_solr_3.1" href="javascript:toggleList('v3.2.0.upgrading_from_solr_3.1')">Upgrading from Solr 3.1</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v3.2.0.upgrading_from_solr_3.1.list">
      <li>The updateRequestProcessorChain for a RequestHandler is now defined
with update.chain rather than update.processor. The latter still works,
but has been deprecated.
<p>
</li>
      <li>&lt;uimaConfig/&gt; just beneath &lt;config&gt; ... &lt;/config&gt; is no longer supported.
It should move to UIMAUpdateRequestProcessorFactory setting.
See contrib/uima/README.txt for more details. (<a href="http://issues.apache.org/jira/browse/SOLR-2436">SOLR-2436</a>)
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v3.2.0.new_features" href="javascript:toggleList('v3.2.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v3.2.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2496">SOLR-2496</a>: Add ability to specify overwrite and commitWithin as request
parameters (e.g. specified in the URL) when using the JSON update format,
and added a simplified format for specifying multiple documents.
Example: [{"id":"doc1"},{"id":"doc2"}]
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2113">SOLR-2113</a>: Add TermQParserPlugin, registered as "term".  This is useful
when generating filter queries from terms returned from field faceting or
the terms component. Example: fq={!term f=weight}1.5
<br /><span class="attrib">(hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1915">SOLR-1915</a>: DebugComponent now supports using a NamedList to model
Explanation objects in its responses instead of
Explanation.toString
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2448">SOLR-2448</a>: Search results clustering updates: bisecting k-means
clustering algorithm added, loading of Carrot2 stop words from
&lt;solr.home&gt;/conf/carrot2 (<a href="http://issues.apache.org/jira/browse/SOLR-2449">SOLR-2449</a>), using Solr's stopwords.txt
for clustering (<a href="http://issues.apache.org/jira/browse/SOLR-2450">SOLR-2450</a>), output of cluster scores (<a href="http://issues.apache.org/jira/browse/SOLR-2505">SOLR-2505</a>)
<br /><span class="attrib">(Stanislaw Osinski, Dawid Weiss)</span>.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2503">SOLR-2503</a>: extend UIMAUpdateRequestProcessorFactory mapping function to
map feature value to dynamicField.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2512">SOLR-2512</a>: add ignoreErrors flag to UIMAUpdateRequestProcessorFactory so
that users can ignore exceptions in AE.
<br /><span class="attrib">(Tommaso Teofili, koji)</span></li>
    </ol>
  </li>
  <li><a id="v3.2.0.optimizations" href="javascript:toggleList('v3.2.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(none)
    <ol id="v3.2.0.optimizations.list">
    </ol>
  </li>
  <li><a id="v3.2.0.bug_fixes" href="javascript:toggleList('v3.2.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(17)
    <ol id="v3.2.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2445">SOLR-2445</a>: Change the default qt to blank in form.jsp, because there is no "standard"
request handler unless you have it in your solrconfig.xml explicitly.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2455">SOLR-2455</a>: Prevent double submit of forms in admin interface.
<br /><span class="attrib">(Jeffrey Chang via uschindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2464">SOLR-2464</a>: Fix potential slowness in QueryValueSource (the query() function) when
the query is very sparse and may not match any documents in a segment.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2469">SOLR-2469</a>: When using java replication with replicateAfter=startup, the first
commit point on server startup is never removed.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2466">SOLR-2466</a>: SolrJ's CommonsHttpSolrServer would retry requests on failure, regardless
of the configured maxRetries, due to HttpClient having its own retry mechanism
by default.  The retryCount of HttpClient is now set to 0, and SolrJ does
the retry.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2409">SOLR-2409</a>: edismax parser - treat the text of a fielded query as a literal if the
fieldname does not exist.  For example Mission: Impossible should not search on
the "Mission" field unless it's a valid field in the schema.
<br /><span class="attrib">(Ryan McKinley, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2403">SOLR-2403</a>: facet.sort=index reported incorrect results for distributed search
in a number of scenarios when facet.mincount&gt;0.  This patch also adds some
performance/algorithmic improvements when (facet.sort=count &amp;&amp; facet.mincount=1
&amp;&amp; facet.limit=-1) and when (facet.sort=index &amp;&amp; facet.mincount&gt;0)
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2333">SOLR-2333</a>: The "rename" core admin action does not persist the new name to solr.xml
<br /><span class="attrib">(Rasmus Hahn, Paul R. Brown via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2390">SOLR-2390</a>: Performance of usePhraseHighlighter is terrible on very large Documents,
regardless of hl.maxDocCharsToAnalyze.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2474">SOLR-2474</a>: The helper TokenStreams in analysis.jsp and AnalysisRequestHandlerBase
did not clear all attributes so they displayed incorrect attribute values for tokens
in later filter stages.
<br /><span class="attrib">(uschindler, rmuir, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2467">SOLR-2467</a>: Fix &lt;analyzer class="..." /&gt; initialization so any errors
are logged properly.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2493">SOLR-2493</a>: SolrQueryParser was fixed to not parse the SolrConfig DOM tree on each
instantiation which is a huge slowdown.
<br /><span class="attrib">(Stephane Bailliez via uschindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2495">SOLR-2495</a>: The JSON parser could hang on corrupted input and could fail
to detect numbers that were too large to fit in a long.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2520">SOLR-2520</a>: Make JSON response format escape \u2029 as well as \u2028
in strings since those characters are not valid in javascript strings
(although they are valid in JSON strings).
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2536">SOLR-2536</a>: Add ReloadCacheRequestHandler to fix ExternalFileField bug (if reopenReaders
set to true and no index segments have been changed, commit cannot trigger reload
external file).
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2539">SOLR-2539</a>: VectorValueSource.floatVal incorrectly used byteVal on sub-sources.
<br /><span class="attrib">(Tom Liu via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2554">SOLR-2554</a>: RandomSortField didn't work when used in a function query.
<br /><span class="attrib">(yonik)</span></li>
    </ol>
  </li>
  <li><a id="v3.2.0.other_changes" href="javascript:toggleList('v3.2.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v3.2.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2061">SOLR-2061</a>: Pull base tests out into a new Solr Test Framework module,
and publish binary, javadoc, and source test-framework jars.
<br /><span class="attrib">(Drew Farris, Robert Muir, Steve Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2105">SOLR-2105</a>: Rename RequestHandler param 'update.processor' to 'update.chain'.
<br /><span class="attrib">(Jan Høydahl via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2485">SOLR-2485</a>: Deprecate BaseResponseWriter, GenericBinaryResponseWriter, and
GenericTextResponseWriter.  These classes will be removed in 4.0.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2451">SOLR-2451</a>: Enhance assertJQ to allow individual tests to specify the
tolerance delta used in numeric equalities.  This allows for slight
variance in asserting score comparisons in unit tests.
<br /><span class="attrib">(David Smiley, Chris Hostetter)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2528">SOLR-2528</a>: Remove default="true" from HtmlEncoder in example solrconfig.xml,
because html encoding confuses non-ascii users.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2387">SOLR-2387</a>: add mock annotators for improved testing in contrib/uima,
<br /><span class="attrib">(Tommaso Teofili via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2436">SOLR-2436</a>: move uimaConfig to under the uima's update processor in
solrconfig.xml.
<br /><span class="attrib">(Tommaso Teofili, koji)</span></li>
    </ol>
  </li>
  <li><a id="v3.2.0.build" href="javascript:toggleList('v3.2.0.build')">Build</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v3.2.0.build.list">
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-3006">LUCENE-3006</a>: Building javadocs will fail on warnings by default.  Override with -Dfailonjavadocwarning=false
<br /><span class="attrib">(sarowe, gsingers)</span></li>
    </ol>
  </li>
  <li><a id="v3.2.0.documentation" href="javascript:toggleList('v3.2.0.documentation')">Documentation</a>&nbsp;&nbsp;&nbsp;(none)
    <ol id="v3.2.0.documentation.list">
    </ol>
  </li>
</ul>
<h3><a id="v3.1.0" href="javascript:toggleList('v3.1.0')">Release 3.1.0  [2011-03-31]</a></h3>
<ul id="v3.1.0.list">
  <li><a id="v3.1.0.versions_of_major_components" href="javascript:toggleList('v3.1.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v3.1.0.versions_of_major_components.list">
      <li>Apache Lucene 3.1.0
</li>
      <li>Apache Tika 0.8
</li>
      <li>Carrot2 3.4.2
</li>
      <li>Velocity 1.6.1 and Velocity Tools 2.0-beta3
</li>
      <li>Apache UIMA 2.3.1-SNAPSHOT
</li>
    </ol>
  </li>
  <li><a id="v3.1.0.upgrading_from_solr_1.4" href="javascript:toggleList('v3.1.0.upgrading_from_solr_1.4')">Upgrading from Solr 1.4</a>&nbsp;&nbsp;&nbsp;(13)
    <ol id="v3.1.0.upgrading_from_solr_1.4.list">
      <li>The Lucene index format has changed and as a result, once you upgrade,
previous versions of Solr will no longer be able to read your indices.
In a master/slave configuration, all searchers/slaves should be upgraded
before the master.  If the master were to be updated first, the older
searchers would not be able to read the new index format.
<p>
</li>
      <li>The Solr JavaBin format has changed as of Solr 3.1. If you are using the
JavaBin format, you will need to upgrade your SolrJ client. (<a href="http://issues.apache.org/jira/browse/SOLR-2034">SOLR-2034</a>)
<p>
</li>
      <li>The experimental ALIAS command has been removed (<a href="http://issues.apache.org/jira/browse/SOLR-1637">SOLR-1637</a>)
<p>
</li>
      <li>Using solr.xml is recommended for single cores also (<a href="http://issues.apache.org/jira/browse/SOLR-1621">SOLR-1621</a>)
<p>
</li>
      <li>Old syntax of &lt;highlighting&gt; configuration in solrconfig.xml
is deprecated (<a href="http://issues.apache.org/jira/browse/SOLR-1696">SOLR-1696</a>)
<p>
</li>
      <li>The deprecated HTMLStripReader, HTMLStripWhitespaceTokenizerFactory and
HTMLStripStandardTokenizerFactory were removed. To strip HTML tags,
HTMLStripCharFilter should be used instead, and it works with any
Tokenizer of your choice.  (<a href="http://issues.apache.org/jira/browse/SOLR-1657">SOLR-1657</a>)
<p>
</li>
      <li>Field compression is no longer supported. Fields that were formerly
compressed will be uncompressed as index segments are merged. For
shorter fields, this may actually be an improvement, as the compression
used was not very good for short text. Some indexes may get larger though.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1845">SOLR-1845</a>: The TermsComponent response format was changed so that the
"terms" container is a map instead of a named list.  This affects
 response formats like JSON, but not XML.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1876">SOLR-1876</a>: All Analyzers and TokenStreams are now final to enforce
the decorator pattern.
<br /><span class="attrib">(rmuir, uschindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2608">LUCENE-2608</a>: Added the ability to specify the accuracy on a per request basis.
It is recommended that implementations of SolrSpellChecker should change over to the new SolrSpellChecker
methods using the new SpellingOptions class, but are not required to.  While this change is
backward compatible, the trunk version of Solr has already dropped support for all but the SpellingOptions method.
<br /><span class="attrib">(gsingers)</span></li>
      <li>readercycle script was removed. (<a href="http://issues.apache.org/jira/browse/SOLR-2046">SOLR-2046</a>)
<p>
</li>
      <li>In previous releases, sorting or evaluating function queries on
fields that were "multiValued" (either by explicit declaration in
schema.xml or by implict behavior because the "version" attribute on
the schema was less then 1.2) did not generally work, but it would
sometimes silently act as if it succeeded and order the docs
arbitrarily.  Solr will now fail on any attempt to sort, or apply a
function to, multi-valued fields
<p>
</li>
      <li>The DataImportHandler jars are no longer included in the solr
WAR and should be added in Solr's lib directory, or referenced
via the &lt;lib&gt; directive in solrconfig.xml.
<p>
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v3.1.0.new_features" href="javascript:toggleList('v3.1.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(71)
    <ol id="v3.1.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1302">SOLR-1302</a>: Added several new distance based functions, including
Great Circle (haversine), Manhattan, Euclidean and String (using the
StringDistance methods in the Lucene spellchecker).
Also added geohash(), deg() and rad() convenience functions.
See <a href="https://solr.apache.org/guide/solr/latest/query-guide/function-queries.html">https://solr.apache.org/guide/solr/latest/query-guide/function-queries.html</a>
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1553">SOLR-1553</a>: New dismax parser implementation (accessible as "edismax")
that supports full lucene syntax, improved reserved char escaping,
fielded queries, improved proximity boosting, and improved stopword
handling. Note: status is experimental for now.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1574">SOLR-1574</a>: Add many new functions from java Math (e.g. sin, cos)
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1569">SOLR-1569</a>: Allow functions to take in literal strings by modifying the
FunctionQParser and adding LiteralValueSource
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1571">SOLR-1571</a>: Added unicode collation support though Lucene's CollationKeyFilter
<br /><span class="attrib">(Robert Muir via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-785">SOLR-785</a>: Distributed Search support for SpellCheckComponent
<br /><span class="attrib">(Matthew Woytowitz, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1625">SOLR-1625</a>: Add regexp support for TermsComponent
<br /><span class="attrib">(Uri Boness via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1297">SOLR-1297</a>: Add sort by Function capability
<br /><span class="attrib">(gsingers, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1139">SOLR-1139</a>: Add TermsComponent Query and Response Support in SolrJ
<br /><span class="attrib">(Matt Weber via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1177">SOLR-1177</a>: Distributed Search support for TermsComponent
<br /><span class="attrib">(Matt Weber via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1621">SOLR-1621</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1722">SOLR-1722</a>: Allow current single core deployments to be specified by solr.xml
<br /><span class="attrib">(Mark Miller , noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1532">SOLR-1532</a>: Allow StreamingUpdateSolrServer to use a provided HttpClient
<br /><span class="attrib">(Gabriele Renzi via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1653">SOLR-1653</a>: Add PatternReplaceCharFilter
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1131">SOLR-1131</a>: FieldTypes can now output multiple Fields per Type and still be searched.  This can be handy for hiding the details of a particular
implementation such as in the spatial case.
<br /><span class="attrib">(Chris Mattmann, shalin, noble, gsingers, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1586">SOLR-1586</a>: Add support for Geohash and Spatial Tile FieldType
<br /><span class="attrib">(Chris Mattmann, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1697">SOLR-1697</a>: PluginInfo should load plugins w/o class attribute also
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1268">SOLR-1268</a>: Incorporate FastVectorHighlighter
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1750">SOLR-1750</a>: SolrInfoMBeanHandler added for simpler programmatic access
to info currently available from registry.jsp and stats.jsp
<br /><span class="attrib">(ehatcher, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1815">SOLR-1815</a>: SolrJ now preserves the order of facet queries.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1677">SOLR-1677</a>: Add support for choosing the Lucene Version for Lucene components within
Solr.
<br /><span class="attrib">(Uwe Schindler, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1379">SOLR-1379</a>: Add RAMDirectoryFactory for non-persistent in memory index storage.
<br /><span class="attrib">(Alex Baranov via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1857">SOLR-1857</a>: Synced Solr analysis with Lucene 3.1. Added KeywordMarkerFilterFactory
and StemmerOverrideFilterFactory, which can be used to tune stemming algorithms.
Added factories for Bulgarian, Czech, Hindi, Turkish, and Wikipedia analysis. Improved the
performance of SnowballPorterFilterFactory.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1657">SOLR-1657</a>: Converted remaining TokenStreams to the Attributes-based API. All Solr
TokenFilters now support custom Attributes, and some have improved performance:
especially WordDelimiterFilter and CommonGramsFilter.
<br /><span class="attrib">(rmuir, cmale, uschindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1740">SOLR-1740</a>: ShingleFilterFactory supports the "minShingleSize" and "tokenSeparator"
parameters for controlling the minimum shingle size produced by the filter, and
the separator string that it uses, respectively.
<br /><span class="attrib">(Steven Rowe via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-744">SOLR-744</a>: ShingleFilterFactory supports the "outputUnigramsIfNoShingles"
parameter, to output unigrams if the number of input tokens is fewer than
minShingleSize, and no shingles can be generated.
<br /><span class="attrib">(Chris Harris via Steven Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1923">SOLR-1923</a>: PhoneticFilterFactory now has support for the
Caverphone algorithm.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1957">SOLR-1957</a>: The VelocityResponseWriter contrib moved to core.
     Example search UI now available at http://localhost:8983/solr/browse
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1974">SOLR-1974</a>: Add LimitTokenCountFilterFactory.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1966">SOLR-1966</a>: QueryElevationComponent can now return just the included results in the elevation file
<br /><span class="attrib">(gsingers, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1556">SOLR-1556</a>: TermVectorComponent now supports per field overrides.  Also, it now throws an error
 if passed in fields do not exist and warnings
if fields that do not have term vector options (termVectors, offsets, positions)
 that align with the schema declaration. It also
  will now return warnings about
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1985">SOLR-1985</a>: FastVectorHighlighter: add wrapper class for Lucene's SingleFragListBuilder
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1984">SOLR-1984</a>: Add HyphenationCompoundWordTokenFilterFactory.
<br /><span class="attrib">(PB via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-397">SOLR-397</a>: Date Faceting now supports a "facet.date.include" param
for specifying when the upper &amp; lower end points of computed date
ranges should be included in the range.  Legal values are: "all",
"lower", "upper", "edge", and "outer".  For backwards compatibility
the default value is the set: [lower,upper,edge], so that all ranges
between start and end are inclusive of their endpoints, but the
"before" and "after" ranges are not.
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-945">SOLR-945</a>: JSON update handler that accepts add, delete, commit
commands in JSON format.
<br /><span class="attrib">(Ryan McKinley, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2015">SOLR-2015</a>: Add a boolean attribute autoGeneratePhraseQueries to TextField.
autoGeneratePhraseQueries="true" (the default) causes the query parser to
generate phrase queries if multiple tokens are generated from a single
non-quoted analysis string.  For example WordDelimiterFilter splitting text:pdp-11
will cause the parser to generate text:"pdp 11" rather than (text:PDP OR text:11).
Note that autoGeneratePhraseQueries="true" tends to not work well for non whitespace
delimited languages.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1925">SOLR-1925</a>: Add CSVResponseWriter (use wt=csv) that returns the list of documents
in CSV format.
<br /><span class="attrib">(Chris Mattmann, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1240">SOLR-1240</a>: "Range Faceting" has been added.  This is a generalization
of the existing "Date Faceting" logic so that it now supports any
all stock numeric field types that support range queries in addition
to dates. facet.date is now deprecated in favor of this generalized mechanism.
<br /><span class="attrib">(Gijs Kunze, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2021">SOLR-2021</a>: Add SolrEncoder plugin to Highlighter.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2030">SOLR-2030</a>: Make FastVectorHighlighter use of SolrEncoder.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2053">SOLR-2053</a>: Add support for custom comparators in Solr spellchecker, per <a href="http://issues.apache.org/jira/browse/LUCENE-2479">LUCENE-2479</a>
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2049">SOLR-2049</a>: Add hl.multiValuedSeparatorChar for FastVectorHighlighter, per <a href="http://issues.apache.org/jira/browse/LUCENE-2603">LUCENE-2603</a>.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2059">SOLR-2059</a>: Add "types" attribute to WordDelimiterFilterFactory, which
allows you to customize how WordDelimiterFilter tokenizes text with
a configuration file.
<br /><span class="attrib">(Peter Karich, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2099">SOLR-2099</a>: Add ability to throttle rsync based replication using rsync option --bwlimit.
<br /><span class="attrib">(Brandon Evans via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1316">SOLR-1316</a>: Create autosuggest component.
<br /><span class="attrib">(Ankul Garg, Jason Rutherglen, Shalin Shekhar Mangar, Grant Ingersoll, Robert Muir, ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1568">SOLR-1568</a>: Added "native" filtering support for PointType, GeohashField.  Added LatLonType with filtering support too.  See
<a href="http://wiki.apache.org/solr/SpatialSearch">http://wiki.apache.org/solr/SpatialSearch</a> and the example.  Refactored some items in Lucene spatial.
Removed SpatialTileField as the underlying CartesianTier is broken beyond repair and is going to be moved.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2128">SOLR-2128</a>: Full parameter substitution for function queries.
Example: q=add($v1,$v2)&amp;v1=mul(popularity,5)&amp;v2=20.0
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2133">SOLR-2133</a>: Function query parser can now parse multiple comma separated
value sources.  It also now fails if there is extra unexpected text
after parsing the functions, instead of silently ignoring it.
This allows expressions like q=dist(2,vector(1,2),$pt)&amp;pt=3,4
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2157">SOLR-2157</a>: Suggester should return alpha-sorted results when onlyMorePopular=false
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2010">SOLR-2010</a>: Added ability to verify that spell checking collations have
 actual results in the index.
<br /><span class="attrib">(James Dyer via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2188">SOLR-2188</a>: Added "maxTokenLength" argument to the factories for ClassicTokenizer,
StandardTokenizer, and UAX29URLEmailTokenizer.
<br /><span class="attrib">(Steven Rowe)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2129">SOLR-2129</a>: Added a Solr module for dynamic metadata extraction/indexing with Apache UIMA.
See contrib/uima/README.txt for more information.
<br /><span class="attrib">(Tommaso Teofili via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2325">SOLR-2325</a>: Allow tagging and exclusion of main query for faceting.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2263">SOLR-2263</a>: Add ability for RawResponseWriter to stream binary files as well as
text files.
<br /><span class="attrib">(Eric Pugh via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-860">SOLR-860</a>: Add debug output for MoreLikeThis.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1057">SOLR-1057</a>: Add PathHierarchyTokenizerFactory.
<br /><span class="attrib">(ryan, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1804">SOLR-1804</a>: Re-enabled clustering component on trunk, updated to latest
version of Carrot2.  No more LGPL run-time dependencies.  This release of
C2 also does not have a specific Lucene dependency.
<br /><span class="attrib">(Stanislaw Osinski, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2282">SOLR-2282</a>: Add distributed search support for search result clustering.
<br /><span class="attrib">(Brad Giaccio, Dawid Weiss, Stanislaw Osinski, rmuir, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2210">SOLR-2210</a>: Add icu-based tokenizer and filters to contrib/analysis-extras
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1336">SOLR-1336</a>: Add SmartChinese (word segmentation for Simplified Chinese)
tokenizer and filters to contrib/analysis-extras
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2211">SOLR-2211</a>,<a href="http://issues.apache.org/jira/browse/LUCENE-2763">LUCENE-2763</a>: Added UAX29URLEmailTokenizerFactory, which implements
UAX#29, a unicode algorithm with good results for most languages, as well as
URL and E-mail tokenization according to the relevant RFCs.
<br /><span class="attrib">(Tom Burton-West via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2237">SOLR-2237</a>: Added StempelPolishStemFilterFactory to contrib/analysis-extras
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1525">SOLR-1525</a>: allow DIH to refer to core properties
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1547">SOLR-1547</a>: DIH TemplateTransformer copy objects more intelligently when the
template is a single variable
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1627">SOLR-1627</a>: DIH VariableResolver should be fetched just in time
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1583">SOLR-1583</a>: DIH Create DataSources that return InputStream
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1358">SOLR-1358</a>: Integration of Tika and DataImportHandler
<br /><span class="attrib">(Akshay Ukey, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1654">SOLR-1654</a>: TikaEntityProcessor example added DIHExample
<br /><span class="attrib">(Akshay Ukey via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1678">SOLR-1678</a>: Move onError handling to DIH framework
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1352">SOLR-1352</a>: Multi-threaded implementation of DIH
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1721">SOLR-1721</a>: Add explicit option to run DataImportHandler in synchronous mode
<br /><span class="attrib">(Alexey Serba via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1737">SOLR-1737</a>: Added FieldStreamDataSource
<br /><span class="attrib">(noble)</span></li>
    </ol>
  </li>
  <li><a id="v3.1.0.optimizations" href="javascript:toggleList('v3.1.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v3.1.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1679">SOLR-1679</a>: Don't build up string messages in SolrCore.execute unless they
are necessary for the current log level.
<br /><span class="attrib">(Fuad Efendi and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1874">SOLR-1874</a>: Optimize PatternReplaceFilter for better performance.
<br /><span class="attrib">(rmuir, uschindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1968">SOLR-1968</a>: speed up initial filter cache population for facet.method=enum and
also big terms for multi-valued facet.method=fc.  The resulting speedup
for the first facet request is anywhere from 30% to 32x, depending on how many
terms are in the field and how many documents match per term.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2089">SOLR-2089</a>: Speed up UnInvertedField faceting (facet.method=fc for
multi-valued fields) when facet.limit is both high, and a high enough
percentage of the number of unique terms in the field.  Extreme cases
yield speedups over 3x.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2046">SOLR-2046</a>: add common functions to scripts-util.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1684">SOLR-1684</a>: Switch clustering component to use the
SolrIndexSearcher.doc(int, Set&lt;String&gt;) method b/c it can use the document
cache
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2200">SOLR-2200</a>: Improve the performance of DataImportHandler for large
delta-import updates.
<br /><span class="attrib">(Mark Waddle via rmuir)</span></li>
    </ol>
  </li>
  <li><a id="v3.1.0.bug_fixes" href="javascript:toggleList('v3.1.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(93)
    <ol id="v3.1.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1769">SOLR-1769</a>: Solr 1.4 Replication - Repeater throwing NullPointerException
<br /><span class="attrib">(Jörgen Rydenius via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1432">SOLR-1432</a>: Make the new ValueSource.getValues(context,reader) delegate
to the original ValueSource.getValues(reader) so custom sources
will work.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1572">SOLR-1572</a>: FastLRUCache correctly implemented the LRU policy only
for the first 2B accesses.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1582">SOLR-1582</a>: copyField was ignored for BinaryField types
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1563">SOLR-1563</a>: Binary fields, including trie-based numeric fields, caused null
pointer exceptions in the luke request handler.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1577">SOLR-1577</a>: The example solrconfig.xml defaulted to a solr data dir
relative to the current working directory, even if a different solr home
was being used.  The new behavior changes the default to a zero length
string, which is treated the same as if no dataDir had been specified,
hence the "data" directory under the solr home will be used.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1584">SOLR-1584</a>: SolrJ - SolrQuery.setIncludeScore() incorrectly added
fl=score to the parameter list instead of appending score to the
existing field list.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1580">SOLR-1580</a>: Solr Configuration ignores 'mergeFactor' parameter, always
uses Lucene default.
<br /><span class="attrib">(Lance Norskog via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1593">SOLR-1593</a>: ReverseWildcardFilter didn't work for surrogate pairs
(i.e. code points outside of the BMP), resulting in incorrect
matching.  This change requires reindexing for any content with
such characters.
<br /><span class="attrib">(Robert Muir, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1596">SOLR-1596</a>: A rollback operation followed by the shutdown of Solr
or the close of a core resulted in a warning:
"SEVERE: SolrIndexWriter was not closed prior to finalize()" although
there were no other consequences.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1595">SOLR-1595</a>: StreamingUpdateSolrServer used the platform default character
set when streaming updates, rather than using UTF-8 as the HTTP headers
indicated, leading to an encoding mismatch.
<br /><span class="attrib">(hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1587">SOLR-1587</a>: A distributed search request with fl=score, didn't match
the behavior of a non-distributed request since it only returned
the id,score fields instead of all fields in addition to score.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1601">SOLR-1601</a>: Schema browser does not indicate presence of charFilter.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1615">SOLR-1615</a>: Backslash escaping did not work in quoted strings
for local param arguments.
<br /><span class="attrib">(Wojtek Piaseczny, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1628">SOLR-1628</a>: log contains incorrect number of adds and deletes.
<br /><span class="attrib">(Thijs Vonk via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-343">SOLR-343</a>: Date faceting now respects facet.mincount limiting
<br /><span class="attrib">(Uri Boness, Raiko Eckstein via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1624">SOLR-1624</a>: Highlighter only highlights values from the first field  value
in a multivalued field when term positions (term vectors) are stored.
<br /><span class="attrib">(Chris Harris via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1635">SOLR-1635</a>: Fixed error message when numeric values can't be parsed by
DOMUtils - notably for plugin init params in solrconfig.xml.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1651">SOLR-1651</a>: Fixed Incorrect dataimport handler package name in SolrResourceLoader
<br /><span class="attrib">(Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1660">SOLR-1660</a>: CapitalizationFilter crashes if you use the maxWordCountOption
<br /><span class="attrib">(Robert Muir via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1667">SOLR-1667</a>: PatternTokenizer does not reset attributes such as positionIncrementGap
<br /><span class="attrib">(Robert Muir via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1711">SOLR-1711</a>: SolrJ - StreamingUpdateSolrServer had a race condition that
could halt the streaming of documents. The original patch to fix this
(never officially released) introduced another hanging bug due to
connections not being released.
<br /><span class="attrib">(Attila Babo, Erik Hetzner, Johannes Tuchscherer via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1748">SOLR-1748</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1747">SOLR-1747</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1746">SOLR-1746</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1745">SOLR-1745</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1744">SOLR-1744</a>: Streams and Readers
retrieved from ContentStreams are not closed in various places, resulting
in file descriptor leaks.
<br /><span class="attrib">(Christoff Brill, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1753">SOLR-1753</a>: StatsComponent throws NPE when getting statistics for facets in distributed search
<br /><span class="attrib">(Janne Majaranta via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1736">SOLR-1736</a>:In the slave , If 'mov'ing file does not succeed , copy the file
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1579">SOLR-1579</a>: Fixes to XML escaping in stats.jsp
<br /><span class="attrib">(David Bowen and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1777">SOLR-1777</a>: fieldTypes with sortMissingLast=true or sortMissingFirst=true can
result in incorrectly sorted results.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1798">SOLR-1798</a>: Small memory leak (~100 bytes) in fastLRUCache for every
commit.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1823">SOLR-1823</a>: Fixed XMLResponseWriter (via XMLWriter) so it no longer throws
a ClassCastException when a Map containing a non-String key is used.
<br /><span class="attrib">(Frank Wesemann, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1797">SOLR-1797</a>: fix ConcurrentModificationException and potential memory
leaks in ResourceLoader.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1850">SOLR-1850</a>: change KeepWordFilter so a new word set is not created for
each instance
<br /><span class="attrib">(John Wang via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1706">SOLR-1706</a>: fixed WordDelimiterFilter for certain combinations of options
where it would output incorrect tokens.
<br /><span class="attrib">(Robert Muir, Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1936">SOLR-1936</a>: The JSON response format needed to escape unicode code point
U+2028 - 'LINE SEPARATOR'
<br /><span class="attrib">(Robert Hofstra, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1914">SOLR-1914</a>: Change the JSON response format to output float/double
values of NaN,Infinity,-Infinity as strings.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1948">SOLR-1948</a>: PatternTokenizerFactory should use parent's args
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1870">SOLR-1870</a>: Indexing documents using the 'javabin' format no longer
fails with a ClassCastException whenSolrInputDocuments contain field
values which are Collections or other classes that implement
Iterable.
<br /><span class="attrib">(noble, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1981">SOLR-1981</a>: Solr will now fail correctly if solr.xml attempts to
specify multiple cores that have the same name
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1791">SOLR-1791</a>: Fix messed up core names on admin gui
<br /><span class="attrib">(yonik via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1995">SOLR-1995</a>: Change date format from "hour in am/pm" to "hour in day"
in CoreContainer and SnapShooter.
<br /><span class="attrib">(Hayato Ito, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2008">SOLR-2008</a>: avoid possible RejectedExecutionException w/autoCommit
by making SolreCore close the UpdateHandler before closing the
SearchExecutor.
<br /><span class="attrib">(NarasimhaRaju, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2036">SOLR-2036</a>: Avoid expensive fieldCache ram estimation for the
admin stats page.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2047">SOLR-2047</a>: ReplicationHandler should accept bool type for enable flag.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1630">SOLR-1630</a>: Fix spell checking collation issue related to token positions
<br /><span class="attrib">(rmuir, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2100">SOLR-2100</a>: The replication handler backup command didn't save the commit
point and hence could fail when a newer commit caused the older commit point
to be removed before it was finished being copied.  This did not affect
normal master/slave replication.
<br /><span class="attrib">(Peter Sturge via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2114">SOLR-2114</a>: Fixed parsing error in hsin function.  The function signature has changed slightly.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2083">SOLR-2083</a>: SpellCheckComponent misreports suggestions when distributed
<br /><span class="attrib">(James Dyer via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2111">SOLR-2111</a>: Change exception handling in distributed faceting to work more
like non-distributed faceting, change facet_counts/exception from a String
to a List&lt;String&gt; to enable listing all exceptions that happened, and
prevent an exception in one facet command from affecting another
facet command.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2110">SOLR-2110</a>: Remove the restriction on names for local params
substitution/dereferencing.  Properly encode local params in
distributed faceting.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2135">SOLR-2135</a>: Fix behavior of ConcurrentLRUCache when asking for
getLatestAccessedItems(0) or getOldestAccessedItems(0).
<br /><span class="attrib">(David Smiley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2148">SOLR-2148</a>: Highlighter doesn't support q.alt.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2180">SOLR-2180</a>: It was possible for EmbeddedSolrServer to leave searchers
open if a request threw an exception.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2173">SOLR-2173</a>: Suggester should always rebuild Lookup data if Lookup.load fails.
<br /><span class="attrib">(ab)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2081">SOLR-2081</a>: BaseResponseWriter.isStreamingDocs causes
SingleResponseWriter.end to be called 2x
<br /><span class="attrib">(Chris A. Mattmann via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2219">SOLR-2219</a>: The init() method of every SolrRequestHandler was being
called twice.
<br /><span class="attrib">(ambikeshwar singh and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2285">SOLR-2285</a>: duplicate SolrEventListeners no longer created
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1993">SOLR-1993</a>: fix String cast assumption in JavaBinCodec - specific
addresses "commitWithin" option on Update requests.
<br /><span class="attrib">(noble, hossman, and Maxim Valyanskiy)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2261">SOLR-2261</a>: fix velocity template layout.vm that referred to an older
version of jquery.
<br /><span class="attrib">(Eric Pugh via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2307">SOLR-2307</a>: fix bug in PHPSerializedResponseWriter (wt=phps) when
dealing with SolrDocumentList objects -- ie: sharded queries.
<br /><span class="attrib">(Antonio Verni via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2127">SOLR-2127</a>: Fixed serialization of default core and indentation of solr.xml when serializing.
<br /><span class="attrib">(Ephraim Ofir, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2320">SOLR-2320</a>: Fixed ReplicationHandler detail reporting for masters
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-482">SOLR-482</a>: Provide more exception handling in CSVLoader
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1283">SOLR-1283</a>: HTMLStripCharFilter sometimes threw a "Mark Invalid" exception.
<br /><span class="attrib">(Julien Coloos, hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2085">SOLR-2085</a>: Improve SolrJ behavior when FacetComponent comes before
QueryComponent
<br /><span class="attrib">(Tomas Salfischberger via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1940">SOLR-1940</a>: Fix SolrDispatchFilter behavior when Content-Type is
unknown
<br /><span class="attrib">(Lance Norskog and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1983">SOLR-1983</a>: snappuller fails when modifiedConfFiles is not empty and
full copy of index is needed.
<br /><span class="attrib">(Alexander Kanarsky via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2156">SOLR-2156</a>: SnapPuller fails to clean Old Index Directories on Full Copy
<br /><span class="attrib">(Jayendra Patil via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-96">SOLR-96</a>: Fix XML parsing in XMLUpdateRequestHandler and
DocumentAnalysisRequestHandler to respect charset from XML file and only
use HTTP header's "Content-Type" as a "hint".
<br /><span class="attrib">(uschindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2339">SOLR-2339</a>: Fix sorting to explicitly generate an error if you
attempt to sort on a multiValued field.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2348">SOLR-2348</a>: Fix field types to explicitly generate an error if you
attempt to get a ValueSource for a multiValued field.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2380">SOLR-2380</a>: Distributed faceting could miss values when facet.sort=index
and when facet.offset was greater than 0.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1656">SOLR-1656</a>: XIncludes and other HREFs in XML files loaded by ResourceLoader
are fixed to be resolved using the URI standard (RFC 2396). The system
identifier is no longer a plain filename with path, it gets initialized
using a custom URI scheme "solrres:". This scheme is resolved using a
EntityResolver that utilizes ResourceLoader
(org.apache.solr.common.util.SystemIdResolver). This makes all relative
pathes in Solr's config files behave like expected. This change
introduces some backwards breaks in the API: Some config classes
(Config, SolrConfig, IndexSchema) were changed to take
org.xml.sax.InputSource instead of InputStream. There may also be some
backwards breaks in existing config files, it is recommended to check
your config files / XSLTs and replace all XIncludes/HREFs that were
hacked to use absolute paths to use relative ones.
<br /><span class="attrib">(uschindler)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-309">SOLR-309</a>: Fix FieldType so setting an analyzer on a FieldType that
doesn't expect it will generate an error.  Practically speaking this
means that Solr will now correctly generate an error on
initialization if the schema.xml contains an analyzer configuration
for a fieldType that does not use TextField.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2192">SOLR-2192</a>: StreamingUpdateSolrServer.blockUntilFinished was not
thread safe and could throw an exception.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1692">SOLR-1692</a>: Fix bug in clustering component relating to carrot.produceSummary
option
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1756">SOLR-1756</a>: The date.format setting for extraction request handler causes
ClassCastException when enabled and the config code that parses this setting
does not properly use the same iterator instance.
<br /><span class="attrib">(Christoph Brill, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1638">SOLR-1638</a>: Fixed NullPointerException during DIH import if uniqueKey is not
specified in schema
<br /><span class="attrib">(Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1639">SOLR-1639</a>: Fixed misleading error message when dataimport.properties is not
writable
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1598">SOLR-1598</a>: DIH: Reader used in PlainTextEntityProcessor is not explicitly
closed
<br /><span class="attrib">(Sascha Szott via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1759">SOLR-1759</a>: DIH: $skipDoc was not working correctly
<br /><span class="attrib">(Gian Marco Tagliani via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1762">SOLR-1762</a>: DIH: DateFormatTransformer does not work correctly with
non-default locale dates
<br /><span class="attrib">(tommy chheng via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1757">SOLR-1757</a>: DIH multithreading sometimes throws NPE
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1766">SOLR-1766</a>: DIH with threads enabled doesn't respond to the abort command
<br /><span class="attrib">(Michael Henson via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1767">SOLR-1767</a>: dataimporter.functions.escapeSql() does not escape backslash
character
<br /><span class="attrib">(Sean Timm via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1811">SOLR-1811</a>: formatDate should use the current NOW value always
<br /><span class="attrib">(Sean Timm via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1794">SOLR-1794</a>: Dataimport of CLOB fields fails when getCharacterStream() is
defined in a superclass.
<br /><span class="attrib">(Gunnar Gauslaa Bergem via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2057">SOLR-2057</a>: DataImportHandler never calls UpdateRequestProcessor.finish()
<br /><span class="attrib">(Drew Farris via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1973">SOLR-1973</a>: Empty fields in XML update messages confuse DataImportHandler.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2221">SOLR-2221</a>: Use StrUtils.parseBool() to get values of boolean options in DIH.
true/on/yes (for TRUE) and false/off/no (for FALSE) can be used for
sub-options (debug, verbose, synchronous, commit, clean, optimize) for
full/delta-import commands.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2310">SOLR-2310</a>: DIH: getTimeElapsedSince() returns incorrect hour value when
the elapse is over 60 hours
<br /><span class="attrib">(tom liu via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2252">SOLR-2252</a>: DIH: When a child entity in nested entities is rootEntity="true",
delta-import doesn't work.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2330">SOLR-2330</a>: solrconfig.xml files in example-DIH are broken.
<br /><span class="attrib">(Matt Parker, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1191">SOLR-1191</a>: resolve DataImportHandler deltaQuery column against pk when pk
has a prefix (e.g. pk="book.id" deltaQuery="select id from ..."). More
useful error reporting when no match found (previously failed with a
NullPointerException in log and no clear user feedback).
<br /><span class="attrib">(gthb via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2116">SOLR-2116</a>: Fix TikaConfig classloader bug in TikaEntityProcessor
<br /><span class="attrib">(Martijn van Groningen via hossman)</span></li>
    </ol>
  </li>
  <li><a id="v3.1.0.other_changes" href="javascript:toggleList('v3.1.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(43)
    <ol id="v3.1.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1602">SOLR-1602</a>: Refactor SOLR package structure to include o.a.solr.response
and move QueryResponseWriters in there
<br /><span class="attrib">(Chris A. Mattmann, ryan, hoss)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1516">SOLR-1516</a>: Addition of an abstract BaseResponseWriter class to simplify the
development of QueryResponseWriter implementations.
<br /><span class="attrib">(Chris A. Mattmann via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1592">SOLR-1592</a>: Refactor XMLWriter startTag to allow arbitrary attributes to be written
<br /><span class="attrib">(Chris A. Mattmann via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1561">SOLR-1561</a>: Added Lucene 2.9.1 spatial contrib jar to lib.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1570">SOLR-1570</a>: Log warnings if uniqueKey is multi-valued or not stored
<br /><span class="attrib">(hossman, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1558">SOLR-1558</a>: QueryElevationComponent only works if the uniqueKey field is
implemented using StrField.  In previous versions of Solr no warning or
error would be generated if you attempted to use QueryElevationComponent,
it would just fail in unexpected ways.  This has been changed so that it
will fail with a clear error message on initialization.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1611">SOLR-1611</a>: Added Lucene 2.9.1 collation contrib jar to lib
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1608">SOLR-1608</a>: Extract base class from TestDistributedSearch to make
it easy to write test cases for other distributed components.
<br /><span class="attrib">(shalin)</span></li>
      <li>Upgraded to Lucene 2.9-dev r888785
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1610">SOLR-1610</a>: Generify SolrCache
<br /><span class="attrib">(Jason Rutherglen via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1637">SOLR-1637</a>: Remove ALIAS command
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1662">SOLR-1662</a>: Added Javadocs in BufferedTokenStream and fixed incorrect cloning
in TestBufferedTokenStream
<br /><span class="attrib">(Robert Muir, Uwe Schindler via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1674">SOLR-1674</a>: Improve analysis tests and cut over to new TokenStream API.
<br /><span class="attrib">(Robert Muir via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1661">SOLR-1661</a>: Remove adminCore from CoreContainer . removed deprecated methods setAdminCore(), getAdminCore()
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1704">SOLR-1704</a>: Google collections moved from clustering to core
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1268">SOLR-1268</a>: Add Lucene 2.9-dev r888785 FastVectorHighlighter contrib jar to lib.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1538">SOLR-1538</a>: Reordering of object allocations in ConcurrentLRUCache to eliminate
(an extremely small) potential for deadlock.
<br /><span class="attrib">(gabriele renzi via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1588">SOLR-1588</a>: Removed some very old dead code.
<br /><span class="attrib">(Chris A. Mattmann via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1696">SOLR-1696</a> : Deprecate old &lt;highlighting&gt; syntax and move configuration to HighlightComponent
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1727">SOLR-1727</a>: SolrEventListener should extend NamedListInitializedPlugin
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1771">SOLR-1771</a>: Improved error message when StringIndex cannot be initialized
for a function query
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1695">SOLR-1695</a>: Improved error messages when adding a document that does not
contain exactly one value for the uniqueKey field
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1776">SOLR-1776</a>: DismaxQParser and ExtendedDismaxQParser now use the schema.xml
"defaultSearchField" as the default value for the "qf" param instead of failing
with an error when "qf" is not specified.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1851">SOLR-1851</a>: luceneAutoCommit no longer has any effect - it has been remove
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1865">SOLR-1865</a>: SolrResourceLoader.getLines ignores Byte Order Markers (BOMs) at the
beginning of input files, these are often created by editors such as Windows
Notepad.
<br /><span class="attrib">(rmuir, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1938">SOLR-1938</a>: ElisionFilterFactory will use a default set of French contractions
if you do not supply a custom articles file.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2003">SOLR-2003</a>: SolrResourceLoader will report any encoding errors, rather than
silently using replacement characters for invalid inputs
<br /><span class="attrib">(blargy via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1804">SOLR-1804</a>: Google collections updated to Google Guava (which is a superset of collections and contains bug fixes)
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2034">SOLR-2034</a>: Switch to JavaBin codec version 2. Strings are now serialized
as the number of UTF-8 bytes, followed by the bytes in UTF-8. Previously
Strings were serialized as the number of UTF-16 chars, followed by the
bytes in Modified UTF-8.
<br /><span class="attrib">(hossman, yonik, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2013">SOLR-2013</a>: Add mapping-FoldToASCII.txt to example conf directory.
<br /><span class="attrib">(Steven Rowe via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2213">SOLR-2213</a>: Upgrade to jQuery 1.4.3
<br /><span class="attrib">(Erick Erickson via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1826">SOLR-1826</a>: Add unit tests for highlighting with termOffsets=true
and overlapping tokens.
<br /><span class="attrib">(Stefan Oestreicher via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2340">SOLR-2340</a>: Add version infos to message in JavaBinCodec when throwing
exception.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2350">SOLR-2350</a>: Since Solr no longer requires XML files to be in UTF-8
(see <a href="http://issues.apache.org/jira/browse/SOLR-96">SOLR-96</a>) SimplePostTool (aka: post.jar) has been improved to
work with files of any mime-type or charset.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2365">SOLR-2365</a>: Move DIH jars out of solr.war
<br /><span class="attrib">(David Smiley via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2381">SOLR-2381</a>: Include a patched version of Jetty (6.1.26 + JETTY-1340)
to fix problematic UTF-8 handling for supplementary characters.
<br /><span class="attrib">(Bernd Fehling, uschindler, yonik, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2391">SOLR-2391</a>: The preferred Content-Type for XML was changed to
application/xml. XMLResponseWriter now only delivers using this
type; updating documents and analyzing documents is still supported
using text/xml as Content-Type, too. If you have clients that are
hardcoded on text/xml as Content-Type, you have to change them.
<br /><span class="attrib">(uschindler, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2414">SOLR-2414</a>: All ResponseWriters now use only ServletOutputStreams
and wrap their own Writer around it when serializing. This fixes
the bug in PHPSerializedResponseWriter that produced wrong string
length if the servlet container had a broken UTF-8 encoding that was
in fact CESU-8 (see <a href="http://issues.apache.org/jira/browse/SOLR-1091">SOLR-1091</a>). The system property to enable the
CESU-8 byte counting in PHPSerializesResponseWriters for broken
servlet containers was therefore removed and is now ignored if set.
Output is always UTF-8.
<br /><span class="attrib">(uschindler, yonik, rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-141">SOLR-141</a>: Errors and Exceptions are formated by ResponseWriter.
<br /><span class="attrib">(Mike Sokolov, Rich Cariens, Daniel Naber, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1902">SOLR-1902</a>: Upgraded to Tika 0.8 and changed deprecated parse call
<p>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1813">SOLR-1813</a>: Add ICU4j to contrib/extraction libs and add tests for Arabic
extraction
<br /><span class="attrib">(Robert Muir via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1821">SOLR-1821</a>: Fix TimeZone-dependent test failure in TestEvaluatorBag.
<br /><span class="attrib">(Chris Male via rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2367">SOLR-2367</a>: Reduced noise in test output by ensuring the properties file
can be written.
<br /><span class="attrib">(Gunnlaugur Thor Briem via rmuir)</span></li>
    </ol>
  </li>
  <li><a id="v3.1.0.build" href="javascript:toggleList('v3.1.0.build')">Build</a>&nbsp;&nbsp;&nbsp;(5)
    <ol id="v3.1.0.build.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1522">SOLR-1522</a>: Automated release signing process.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1891">SOLR-1891</a>: Make lucene-jars-to-solr fail if copying any of the jars fails, and
update clean to remove the jars in that directory
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2466">LUCENE-2466</a>: Commons-Codec was upgraded from 1.3 to 1.4.
<br /><span class="attrib">(rmuir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-2042">SOLR-2042</a>: Fixed some Maven deps
<br /><span class="attrib">(Drew Farris via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/LUCENE-2657">LUCENE-2657</a>: Switch from using Maven POM templates to full POMs when
generating Maven artifacts
<br /><span class="attrib">(Steven Rowe)</span></li>
    </ol>
  </li>
  <li><a id="v3.1.0.documentation" href="javascript:toggleList('v3.1.0.documentation')">Documentation</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v3.1.0.documentation.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1590">SOLR-1590</a>: Javadoc for XMLWriter#startTag
<br /><span class="attrib">(Chris A. Mattmann via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1792">SOLR-1792</a>: Documented peculiar behavior of TestHarness.LocalRequestFactory
<br /><span class="attrib">(hossman)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v1.4.1" href="javascript:toggleList('v1.4.1')">Release 1.4.1  [2010-06-25]</a></h3>
<ul id="v1.4.1.list">
      <li>Release Date:  See <a href="http://lucene.apache.org/solr">http://lucene.apache.org/solr</a> for the official release date.
</li>
  <li><a id="v1.4.1.upgrading_from_solr_1.4" href="javascript:toggleList('v1.4.1.upgrading_from_solr_1.4')">Upgrading from Solr 1.4</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v1.4.1.upgrading_from_solr_1.4.list">
      <li>This is a bug fix release - no changes are required when upgrading from Solr 1.4.
However, a reindex is needed for some of the analysis fixes to take effect.
</li>
    </ol>
  </li>
  <li><a id="v1.4.1.versions_of_major_components" href="javascript:toggleList('v1.4.1.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v1.4.1.versions_of_major_components.list">
      <li>Apache Lucene 2.9.3
</li>
      <li>Apache Tika 0.4
</li>
      <li>Carrot2 3.1.0
</li>
    </ol>
  </li>
  <li><a id="v1.4.1.lucene_information" href="javascript:toggleList('v1.4.1.lucene_information')">Lucene Information</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v1.4.1.lucene_information.list">
      <li>Since Solr is built on top of Lucene, many people add customizations to Solr
that are dependent on Lucene.  Please see <a href="http://lucene.apache.org/java/2_9_3/,">http://lucene.apache.org/java/2_9_3/,</a>
especially <a href="http://lucene.apache.org/java/2_9_3/changes/Changes.html">http://lucene.apache.org/java/2_9_3/changes/Changes.html</a> for more
information on the version of Lucene used in Solr.
</li>
    </ol>
  </li>
  <li><a id="v1.4.1.bug_fixes" href="javascript:toggleList('v1.4.1.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(26)
    <ol id="v1.4.1.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1934">SOLR-1934</a>: Upgrade to Apache Lucene 2.9.3 to obtain several bug
fixes from the previous 2.9.1.  See the Lucene 2.9.3 release notes
for details.
<br /><span class="attrib">(hossman, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1432">SOLR-1432</a>: Make the new ValueSource.getValues(context,reader) delegate
to the original ValueSource.getValues(reader) so custom sources
will work.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1572">SOLR-1572</a>: FastLRUCache correctly implemented the LRU policy only
for the first 2B accesses.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1595">SOLR-1595</a>: StreamingUpdateSolrServer used the platform default character
set when streaming updates, rather than using UTF-8 as the HTTP headers
indicated, leading to an encoding mismatch.
<br /><span class="attrib">(hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1660">SOLR-1660</a>: CapitalizationFilter crashes if you use the maxWordCountOption
<br /><span class="attrib">(Robert Muir via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1662">SOLR-1662</a>: Added Javadocs in BufferedTokenStream and fixed incorrect cloning
in TestBufferedTokenStream
<br /><span class="attrib">(Robert Muir, Uwe Schindler via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1711">SOLR-1711</a>: SolrJ - StreamingUpdateSolrServer had a race condition that
could halt the streaming of documents. The original patch to fix this
(never officially released) introduced another hanging bug due to
connections not being released.
<br /><span class="attrib">(Attila Babo, Erik Hetzner via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1748">SOLR-1748</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1747">SOLR-1747</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1746">SOLR-1746</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1745">SOLR-1745</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1744">SOLR-1744</a>: Streams and Readers
retrieved from ContentStreams are not closed in various places, resulting
in file descriptor leaks.
<br /><span class="attrib">(Christoff Brill, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1580">SOLR-1580</a>: Solr Configuration ignores 'mergeFactor' parameter, always
uses Lucene default.
<br /><span class="attrib">(Lance Norskog via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1777">SOLR-1777</a>: fieldTypes with sortMissingLast=true or sortMissingFirst=true can
result in incorrectly sorted results.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1797">SOLR-1797</a>: fix ConcurrentModificationException and potential memory
leaks in ResourceLoader.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1798">SOLR-1798</a>: Small memory leak (~100 bytes) in fastLRUCache for every
commit.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1522">SOLR-1522</a>: Show proper message if &lt;script&gt; tag is missing for DIH
ScriptTransformer
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1538">SOLR-1538</a>: Reordering of object allocations in ConcurrentLRUCache to eliminate
(an extremely small) potential for deadlock.
<br /><span class="attrib">(gabriele renzi via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1558">SOLR-1558</a>: QueryElevationComponent only works if the uniqueKey field is
implemented using StrField.  In previous versions of Solr no warning or
error would be generated if you attempted to use QueryElevationComponent,
it would just fail in unexpected ways.  This has been changed so that it
will fail with a clear error message on initialization.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1563">SOLR-1563</a>: Binary fields, including trie-based numeric fields, caused null
pointer exceptions in the luke request handler.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1579">SOLR-1579</a>: Fixes to XML escaping in stats.jsp
<br /><span class="attrib">(David Bowen and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1582">SOLR-1582</a>: copyField was ignored for BinaryField types
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1596">SOLR-1596</a>: A rollback operation followed by the shutdown of Solr
or the close of a core resulted in a warning:
"SEVERE: SolrIndexWriter was not closed prior to finalize()" although
there were no other consequences.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1651">SOLR-1651</a>: Fixed Incorrect dataimport handler package name in SolrResourceLoader
<br /><span class="attrib">(Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1936">SOLR-1936</a>: The JSON response format needed to escape unicode code point
U+2028 - 'LINE SEPARATOR'
<br /><span class="attrib">(Robert Hofstra, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1852">SOLR-1852</a>: Fix WordDelimiterFilterFactory bug where position increments
were not being applied properly to subwords.
<br /><span class="attrib">(Peter Wolanin via Robert Muir)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1706">SOLR-1706</a>: fixed WordDelimiterFilter for certain combinations of options
where it would output incorrect tokens.
<br /><span class="attrib">(Robert Muir, Chris Male)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1948">SOLR-1948</a>: PatternTokenizerFactory should use parent's args
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1870">SOLR-1870</a>: Indexing documents using the 'javabin' format no longer
fails with a ClassCastException whenSolrInputDocuments contain field
values which are Collections or other classes that implement
Iterable.
<br /><span class="attrib">(noble, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1769">SOLR-1769</a> Solr 1.4 Replication - Repeater throwing NullPointerException
<br /><span class="attrib">(noble)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v1.4.0" href="javascript:toggleList('v1.4.0')">Release 1.4.0  [2009-11-10]</a></h3>
<ul id="v1.4.0.list">
      <li>Release Date:  See <a href="http://lucene.apache.org/solr">http://lucene.apache.org/solr</a> for the official release date.
</li>
  <li><a id="v1.4.0.upgrading_from_solr_1.3" href="javascript:toggleList('v1.4.0.upgrading_from_solr_1.3')">Upgrading from Solr 1.3</a>&nbsp;&nbsp;&nbsp;(12)
    <ol id="v1.4.0.upgrading_from_solr_1.3.list">
      <li>There is a new default faceting algorithm for multiVaued fields that should be
faster for most cases.  One can revert to the previous algorithm (which has
also been improved somewhat) by adding facet.method=enum to the request.
</li>
      <li>Searching and sorting is now done on a per-segment basis, meaning that
the FieldCache entries used for sorting and for function queries are
created and used per-segment and can be reused for segments that don't
change between index updates.  While generally beneficial, this can lead
to increased memory usage over 1.3 in certain scenarios:
  1) A single valued field that was used for both sorting and faceting
in 1.3 would have used the same top level FieldCache entry.  In 1.4,
sorting will use entries at the segment level while faceting will still
use entries at the top reader level, leading to increased memory usage.
  2) Certain function queries such as ord() and rord() require a top level
FieldCache instance and can thus lead to increased memory usage.  Consider
replacing ord() and rord() with alternatives, such as function queries
based on ms() for date boosting.
</li>
      <li>If you use custom Tokenizer or TokenFilter components in a chain specified in
schema.xml, they must support reusability.  If your Tokenizer or TokenFilter
maintains state, it should implement reset().  If your TokenFilteFactory does
not return a subclass of TokenFilter, then it should implement reset() and call
reset() on its input TokenStream.  TokenizerFactory implementations must
now return a Tokenizer rather than a TokenStream.
</li>
      <li>New users of Solr 1.4 will have omitTermFreqAndPositions enabled for non-text
indexed fields by default, which avoids indexing term frequency, positions, and
payloads, making the index smaller and faster.  If you are upgrading from an
earlier Solr release and want to enable omitTermFreqAndPositions by default,
change the schema version from 1.1 to 1.2 in schema.xml.  Remove any existing
index and restart Solr to ensure that omitTermFreqAndPositions completely takes
affect.
</li>
      <li>The default QParserPlugin used by the QueryComponent for parsing the "q" param
has been changed, to remove support for the deprecated use of ";" as a separator
between the query string and the sort options when no "sort" param was used.
Users who wish to continue using the semi-colon based method of specifying the
sort options should explicitly set the defType param to "lucenePlusSort" on all
requests. (The simplest way to do this is by specifying it as a default param
for your request handlers in solrconfig.xml, see the example solrconfig.xml for
sample syntax.)
</li>
      <li>If spellcheck.extendedResults=true, the response format for suggestions
has changed, see <a href="http://issues.apache.org/jira/browse/SOLR-1071">SOLR-1071</a>.
</li>
      <li>Use of the "charset" option when configuring the following Analysis
Factories has been deprecated and will cause a warning to be logged.
In future versions of Solr attempting to use this option will cause an
error.  See <a href="http://issues.apache.org/jira/browse/SOLR-1410">SOLR-1410</a> for more information.
<ul class="bulleted-list">
<li class="bulleted-list">
GreekLowerCaseFilterFactory
</li>
<li class="bulleted-list">
RussianStemFilterFactory
</li>
<li class="bulleted-list">
RussianLowerCaseFilterFactory
</li>
<li class="bulleted-list">
RussianLetterTokenizerFactory
</li>
</ul>
</li>
      <li>DIH: Evaluator API has been changed in a non back-compatible way. Users who
have developed custom Evaluators will need to change their code according to
the new API for it to work. See <a href="http://issues.apache.org/jira/browse/SOLR-996">SOLR-996</a> for details.
</li>
      <li>DIH: The formatDate evaluator's syntax has been changed. The new syntax is
formatDate(&lt;variable&gt;, '&lt;format_string&gt;'). For example,
formatDate(x.date, 'yyyy-MM-dd'). In the old syntax, the date string was
written without a single-quotes. The old syntax has been deprecated and will
be removed in 1.5, until then, using the old syntax will log a warning.
</li>
      <li>DIH: The Context API has been changed in a non back-compatible way. In
particular, the Context.currentProcess() method now returns a String
describing the type of the current import process instead of an int.
Similarily, the public constants in Context viz. FULL_DUMP, DELTA_DUMP and
FIND_DELTA are changed to a String type. See <a href="http://issues.apache.org/jira/browse/SOLR-969">SOLR-969</a> for details.
</li>
      <li>DIH: The EntityProcessor API has been simplified by moving logic for applying
transformers and handling multi-row outputs from Transformers into an
EntityProcessorWrapper class. The EntityProcessor#destroy is now called once
per parent-row at the end of row (end of data). A new method
EntityProcessor#close is added which is called at the end of import.
</li>
      <li>DIH: In Solr 1.3, if the last_index_time was not available (first import) and
a delta-import was requested, a full-import was run instead. This is no longer
the case. In Solr 1.4 delta import is run with last_index_time as the epoch
date (January 1, 1970, 00:00:00 GMT) if last_index_time is not available.
</li>
    </ol>
  </li>
  <li><a id="v1.4.0.versions_of_major_components" href="javascript:toggleList('v1.4.0.versions_of_major_components')">Versions of Major Components</a>&nbsp;&nbsp;&nbsp;(3)
    <ol id="v1.4.0.versions_of_major_components.list">
      <li>Apache Lucene 2.9.1  (r832363  on 2.9 branch)
</li>
      <li>Apache Tika 0.4
</li>
      <li>Carrot2 3.1.0
</li>
    </ol>
  </li>
  <li><a id="v1.4.0.lucene_information" href="javascript:toggleList('v1.4.0.lucene_information')">Lucene Information</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v1.4.0.lucene_information.list">
      <li>Since Solr is built on top of Lucene, many people add customizations to Solr
that are dependent on Lucene.  Please see <a href="http://lucene.apache.org/java/2_9_0/,">http://lucene.apache.org/java/2_9_0/,</a>
especially <a href="http://lucene.apache.org/java/2_9_0/changes/Changes.html">http://lucene.apache.org/java/2_9_0/changes/Changes.html</a> for more
information on the version of Lucene used in Solr.
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v1.4.0.new_features" href="javascript:toggleList('v1.4.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(124)
    <ol id="v1.4.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-560">SOLR-560</a>: Use SLF4J logging API rather then JDK logging.  The packaged .war file is
shipped with a JDK logging implementation, so logging configuration for the .war should
be identical to solr 1.3.  However, if you are using the .jar file, you can select
which logging implementation to use by dropping a different binding.
See: <a href="http://www.slf4j.org/">http://www.slf4j.org/</a>
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-617">SOLR-617</a>: Allow configurable index deletion policy and provide a default implementation which
allows deletion of commit points on various criteria such as number of commits, age of commit
point and optimized status.
See <a href="http://lucene.apache.org/java/2_3_2/api/org/apache/lucene/index/IndexDeletionPolicy.html">http://lucene.apache.org/java/2_3_2/api/org/apache/lucene/index/IndexDeletionPolicy.html</a>
<br /><span class="attrib">(yonik, Noble Paul, Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-658">SOLR-658</a>: Allow Solr to load index from arbitrary directory in dataDir
<br /><span class="attrib">(Noble Paul, Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-793">SOLR-793</a>: Add 'commitWithin' argument to the update add command.  This behaves
similar to the global autoCommit maxTime argument except that it is set for
each request.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-670">SOLR-670</a>: Add support for rollbacks in UpdateHandler. This allows user to rollback all changes
since the last commit.
<br /><span class="attrib">(Noble Paul, koji via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-813">SOLR-813</a>: Adding DoubleMetaphone Filter and Factory.  Similar to the PhoneticFilter,
but this uses DoubleMetaphone specific calls (including alternate encoding)
<br /><span class="attrib">(Todd Feak via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-680">SOLR-680</a>: Add StatsComponent. This gets simple statistics on matched numeric fields,
including: min, max, mean, median, stddev.
<br /><span class="attrib">(koji, ryan)</span>
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-1380">SOLR-1380</a>: Added support for multi-valued fields
<br /><span class="attrib">(Harish Agarwal via gsingers)</span></li>
</ul>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-561">SOLR-561</a>: Added Replication implemented in Java as a request handler. Supports index replication
as well as configuration replication and exposes detailed statistics and progress information
on the Admin page. Works on all platforms.
<br /><span class="attrib">(Noble Paul, yonik, Akshay Ukey, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-746">SOLR-746</a>: Added "omitHeader" request parameter to omit the header from the response.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-651">SOLR-651</a>: Added TermVectorComponent for serving up term vector information, plus IDF.
See <a href="http://wiki.apache.org/solr/TermVectorComponent">http://wiki.apache.org/solr/TermVectorComponent</a>
<br /><span class="attrib">(gsingers, Vaijanath N. Rao, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-795">SOLR-795</a>: SpellCheckComponent supports building indices on optimize if configured in solrconfig.xml
<br /><span class="attrib">(Jason Rennie, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-667">SOLR-667</a>: A LRU cache implementation based upon ConcurrentHashMap and other techniques to reduce
contention and synchronization overhead, to utilize multiple CPU cores more effectively.
<br /><span class="attrib">(Fuad Efendi, Noble Paul, yonik via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-465">SOLR-465</a>: Add configurable DirectoryProvider so that alternate Directory
implementations can be specified via solrconfig.xml.  The default
DirectoryProvider will use NIOFSDirectory for better concurrency
on non Windows platforms.
<br /><span class="attrib">(Mark Miller, TJ Laurenzo via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-822">SOLR-822</a>: Add CharFilter so that characters can be filtered (e.g. character normalization)
before Tokenizer/TokenFilters.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-829">SOLR-829</a>: Allow slaves to request compressed files from master during replication
<br /><span class="attrib">(Simon Collins, Noble Paul, Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-877">SOLR-877</a>: Added TermsComponent for accessing Lucene's TermEnum capabilities.
Useful for auto suggest and possibly distributed search.  Not distributed search compliant.
<br /><span class="attrib">(gsingers)</span>
<ul class="bulleted-list">
<li class="bulleted-list">
Added mincount and maxcount options
<br /><span class="attrib">(Khee Chin via gsingers)</span></li>
</ul>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-538">SOLR-538</a>: Add maxChars attribute for copyField function so that the length limit for destination
can be specified.
<br /><span class="attrib">(Georgios Stamatis, Lars Kotthoff, Chris Harris via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-284">SOLR-284</a>: Added support for extracting content from binary documents like MS Word and PDF using Apache Tika.  See also contrib/extraction/CHANGES.txt
<br /><span class="attrib">(Eric Pugh, Chris Harris, yonik, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-819">SOLR-819</a>: Added factories for Arabic support
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-781">SOLR-781</a>: Distributed search ability to sort field.facet values
lexicographically.  facet.sort values "true" and "false" are
also deprecated and replaced with "count" and "lex".
<br /><span class="attrib">(Lars Kotthoff via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-821">SOLR-821</a>: Add support for replication to copy conf file to slave with a different name. This allows replication
of solrconfig.xml
<br /><span class="attrib">(Noble Paul, Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-911">SOLR-911</a>: Add support for multi-select faceting by allowing filters to be
tagged and facet commands to exclude certain filters.  This patch also
added the ability to change the output key for facets in the response, and
optimized distributed faceting refinement by lowering parsing overhead and
by making requests and responses smaller.
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-876">SOLR-876</a>: WordDelimiterFilter now supports a splitOnNumerics
option, as well as a list of protected terms.
<br /><span class="attrib">(Dan Rosher via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-928">SOLR-928</a>: SolrDocument and SolrInputDocument now implement the Map&lt;String,?&gt;
interface.  This should make plugging into other standard tools easier.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-847">SOLR-847</a>: Enhance the snappull command in ReplicationHandler to accept masterUrl.
<br /><span class="attrib">(Noble Paul, Preetam Rao via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-540">SOLR-540</a>: Add support for globbing in field names to highlight.
For example, hl.fl=*_text will highlight all fieldnames ending with
_text.
<br /><span class="attrib">(Lars Kotthoff via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-906">SOLR-906</a>: Adding a StreamingUpdateSolrServer that writes update commands to
an open HTTP connection.  If you are using solrj for bulk update requests
you should consider switching to this implementaion.  However, note that
the error handling is not immediate as it is with the standard SolrServer.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-865">SOLR-865</a>: Adding support for document updates in binary format and corresponding support in Solrj client.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-763">SOLR-763</a>: Add support for Lucene's PositionFilter
<br /><span class="attrib">(Mck SembWever via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-966">SOLR-966</a>: Enhance the map() function query to take in an optional default value
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-820">SOLR-820</a>: Support replication on startup of master with new index.
<br /><span class="attrib">(Noble Paul, Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-943">SOLR-943</a>: Make it possible to specify dataDir in solr.xml and accept the dataDir as a request parameter for
the CoreAdmin create command.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-850">SOLR-850</a>: Addition of timeouts for distributed searching. Configurable through 'shard-socket-timeout' and
'shard-connection-timeout' parameters in SearchHandler.
<br /><span class="attrib">(Patrick O'Leary via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-799">SOLR-799</a>: Add support for hash based exact/near duplicate document
handling.
<br /><span class="attrib">(Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1026">SOLR-1026</a>: Add protected words support to SnowballPorterFilterFactory
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-739">SOLR-739</a>: Add support for OmitTf
<br /><span class="attrib">(Mark Miller via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1046">SOLR-1046</a>: Nested query support for the function query parser
and lucene query parser (the latter existed as an undocumented
feature in 1.3)
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-940">SOLR-940</a>: Add support for Lucene's Trie Range Queries by providing new FieldTypes in
schema for int, float, long, double and date.  Single-valued Trie based
fields with a precisionStep will index multiple precisions and enable
faster range queries.
<br /><span class="attrib">(Uwe Schindler, yonik, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1038">SOLR-1038</a>: Enhance CommonsHttpSolrServer to add docs in batch using an iterator API
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-844">SOLR-844</a>: A SolrServer implementation to front-end multiple solr servers and provides load balancing and failover
support
<br /><span class="attrib">(Noble Paul, Mark Miller, hossman via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-939">SOLR-939</a>: ValueSourceRangeFilter/Query - filter based on values in a FieldCache entry or on any arbitrary function of field values.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1095">SOLR-1095</a>: Fixed performance problem in the StopFilterFactory and simplified code.  Added tests as well.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1096">SOLR-1096</a>: Introduced httpConnTimeout and httpReadTimeout in replication slave configuration to avoid stalled
replication.
<br /><span class="attrib">(Jeff Newburn, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1115">SOLR-1115</a>: &lt;bool&gt;on&lt;/bool&gt; and &lt;bool&gt;yes&lt;/bool&gt; work as expected in solrconfig.xml.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1099">SOLR-1099</a>:  A FieldAnalysisRequestHandler which provides the analysis functionality of the web admin page as
a service. The AnalysisRequestHandler is renamed to DocumentAnalysisRequestHandler which is enhanced with
query analysis and showMatch support. AnalysisRequestHandler is now deprecated. Support for both
FieldAnalysisRequestHandler and DocumentAnalysisRequestHandler is also provided in the Solrj client.
<br /><span class="attrib">(Uri Boness, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1106">SOLR-1106</a>: Made CoreAdminHandler Actions pluggable so that additional actions may be plugged in or the existing
ones can be overridden if needed.
<br /><span class="attrib">(Kay Kay, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1124">SOLR-1124</a>: Add a top() function query that causes its argument to
have its values derived from the top level IndexReader, even when
invoked from a sub-reader.  top() is implicitly used for the
ord() and rord() functions.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1110">SOLR-1110</a>: Support sorting on trie fields with Distributed Search.
<br /><span class="attrib">(Mark Miller, Uwe Schindler via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1121">SOLR-1121</a>: CoreAdminhandler should not need a core  . This makes it possible to start a Solr server w/o a core .(noble)
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-769">SOLR-769</a>: Added support for clustering in contrib/clustering.  See <a href="http://wiki.apache.org/solr/ClusteringComponent">http://wiki.apache.org/solr/ClusteringComponent</a> for more info.
<br /><span class="attrib">(gsingers, Stanislaw Osinski)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1175">SOLR-1175</a>: disable/enable replication on master side. added two commands 'enableReplication' and 'disableReplication'
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1179">SOLR-1179</a>: DocSets can now be used as Lucene Filters via
DocSet.getTopFilter()
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1116">SOLR-1116</a>: Add a Binary FieldType
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1051">SOLR-1051</a>: Support the merge of multiple indexes as a CoreAdmin and an update command
<br /><span class="attrib">(Ning Li via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1152">SOLR-1152</a>: Snapshoot on ReplicationHandler should accept location as a request parameter
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1204">SOLR-1204</a>: Enhance SpellingQueryConverter to handle UTF-8 instead of ASCII only.
Use the NMTOKEN syntax for matching field names.
<br /><span class="attrib">(Michael Ludwig, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1189">SOLR-1189</a>: Support providing username and password for basic HTTP authentication in Java replication
<br /><span class="attrib">(Matthew Gregg, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-243">SOLR-243</a>: Add configurable IndexReaderFactory so that alternate IndexReader implementations
can be specified via solrconfig.xml. Note that using a custom IndexReader may be incompatible
with ReplicationHandler (see comments in <a href="http://issues.apache.org/jira/browse/SOLR-1366">SOLR-1366</a>). This should be treated as an experimental feature.
<br /><span class="attrib">(Andrzej Bialecki, hossman, Mark Miller, John Wang)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1214">SOLR-1214</a>: differentiate between solr home and instanceDir .deprecates the method SolrResourceLoader#locateInstanceDir()
and it is renamed to locateSolrHome
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1216">SOLR-1216</a> :  disambiguate the replication command names. 'snappull' becomes 'fetchindex' 'abortsnappull' becomes 'abortfetch'
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1145">SOLR-1145</a>: Add capability to specify an infoStream log file for the underlying Lucene IndexWriter in solrconfig.xml.
This is an advanced debug log file that can be used to aid developers in fixing IndexWriter bugs. See the commented
out example in the example solrconfig.xml under the indexDefaults section.
<br /><span class="attrib">(Chris Harris, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1256">SOLR-1256</a>: Show the output of CharFilters in analysis.jsp.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1266">SOLR-1266</a>: Added stemEnglishPossessive option (default=true) to WordDelimiterFilter
that allows disabling of english possessive stemming (removal of trailing 's from tokens)
<br /><span class="attrib">(Robert Muir via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1237">SOLR-1237</a>: firstSearcher and newSearcher can now be identified via the CommonParams.EVENT (evt) parameter
in a request.  This allows a RequestHandler or SearchComponent to know when a newSearcher or firstSearcher
event happened.  QuerySenderListender is the only implementation in Solr that implements this, but outside
implementations may wish to.  See the AbstractSolrEventListener for a helper method.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1343">SOLR-1343</a>: Added HTMLStripCharFilter and marked HTMLStripReader, HTMLStripWhitespaceTokenizerFactory and
HTMLStripStandardTokenizerFactory deprecated. To strip HTML tags, HTMLStripCharFilter can be used
with an arbitrary Tokenizer.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1275">SOLR-1275</a>: Add expungeDeletes to DirectUpdateHandler2
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1372">SOLR-1372</a>: Enhance FieldAnalysisRequestHandler to accept field value from content stream
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1370">SOLR-1370</a>: Show the output of CharFilters in FieldAnalysisRequestHandler
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1373">SOLR-1373</a>: Add Filter query to admin/form.jsp
<br /><span class="attrib">(Jason Rutherglen via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1368">SOLR-1368</a>: Add ms() function query for getting milliseconds from dates and for
high precision date subtraction, add sub() for subtracting other arguments.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1156">SOLR-1156</a>: Sort TermsComponent results by frequency
<br /><span class="attrib">(Matt Weber via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1335">SOLR-1335</a> : load core properties from a properties file
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1385">SOLR-1385</a> : Add an 'enable' attribute to all plugins
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1414">SOLR-1414</a> : implicit core properties are not set for single core
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-659">SOLR-659</a> : Adds shards.start and shards.rows to distributed search
to allow more efficient bulk queries (those that retrieve many or all
documents).
<br /><span class="attrib">(Brian Whitman via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1321">SOLR-1321</a>: Add better support for efficient wildcard handling
<br /><span class="attrib">(Andrzej Bialecki, Robert Muir, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1326">SOLR-1326</a> : New interface PluginInfoInitialized for all types of plugin
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1447">SOLR-1447</a> : Simple property injection. &lt;mergePolicy&gt; &amp; &lt;mergeScheduler&gt; syntaxes are now deprecated
<br /><span class="attrib">(Jason Rutherglen, noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-908">SOLR-908</a> : CommonGramsFilterFactory/CommonGramsQueryFilterFactory for
speeding up phrase queries containing common words by indexing
n-grams and using them at query time.
<br /><span class="attrib">(Tom Burton-West, Jason Rutherglen via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1292">SOLR-1292</a>: Add FieldCache introspection to stats.jsp and JMX Monitoring via
a new SolrFieldCacheMBean.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1167">SOLR-1167</a>: Solr Config now supports XInclude for XML engines that can support it.
<br /><span class="attrib">(Bryan Talbot via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1478">SOLR-1478</a>: Enable sort by Lucene docid.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1449">SOLR-1449</a>: Add &lt;lib&gt; elements to solrconfig.xml to specifying additional
classpath directories and regular expressions.
<br /><span class="attrib">(hossman via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1128">SOLR-1128</a>: Added metadata output to extraction request handler "extract
only" option.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1274">SOLR-1274</a>: Added text serialization output for extractOnly
<br /><span class="attrib">(Peter Wolanin, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-768">SOLR-768</a>: DIH: Set last_index_time variable in full-import command.
<br /><span class="attrib">(Wojtek Piaseczny, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-811">SOLR-811</a>: Allow a "deltaImportQuery" attribute in SqlEntityProcessor
which is used for delta imports instead of DataImportHandler manipulating
the SQL itself.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-842">SOLR-842</a>:  Better error handling in DataImportHandler with options to
abort, skip and continue imports.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-833">SOLR-833</a>: DIH: A DataSource to read data from a field as a reader. This
can be used, for example, to read XMLs residing as CLOBs or BLOBs in
databases.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-887">SOLR-887</a>: A DIH Transformer to strip HTML tags.
<br /><span class="attrib">(Ahmed Hammad via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-886">SOLR-886</a>: DataImportHandler should rollback when an import fails or it is
aborted
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-891">SOLR-891</a>: A DIH Transformer to read strings from Clob type.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-812">SOLR-812</a>: Configurable JDBC settings in JdbcDataSource including optimized
defaults for read only mode.
<br /><span class="attrib">(David Smiley, Glen Newton, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-910">SOLR-910</a>: Add a few utility commands to the DIH admin page such as full
import, delta import, status, reload config.
<br /><span class="attrib">(Ahmed Hammad via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-938">SOLR-938</a>: Add event listener API for DIH import start and end.
<br /><span class="attrib">(Kay Kay, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-801">SOLR-801</a>: DIH: Add support for configurable pre-import and post-import
delete query per root-entity.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-988">SOLR-988</a>: Add a new scope for session data stored in Context to store
objects across imports.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-980">SOLR-980</a>: A PlainTextEntityProcessor which can read from any
DataSource&lt;Reader&gt; and output a String.
<br /><span class="attrib">(Nathan Adams, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1003">SOLR-1003</a>: XPathEntityprocessor must allow slurping all text from a given
xml node and its children.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1001">SOLR-1001</a>: Allow variables in various attributes of RegexTransformer,
HTMLStripTransformer and NumberFormatTransformer.
<br /><span class="attrib">(Fergus McMenemie, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-989">SOLR-989</a>: DIH: Expose running statistics from the Context API.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-996">SOLR-996</a>: DIH: Expose Context to Evaluators.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-783">SOLR-783</a>: DIH: Enhance delta-imports by maintaining separate
last_index_time for each entity.
<br /><span class="attrib">(Jon Baer, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1033">SOLR-1033</a>: Current entity's namespace is made available to all DIH
Transformers. This allows one to use an output field of TemplateTransformer
in other transformers, among other things.
<br /><span class="attrib">(Fergus McMenemie, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1066">SOLR-1066</a>: New methods in DIH Context to expose Script details.
ScriptTransformer changed to read scripts through the new API methods.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1062">SOLR-1062</a>: A DIH LogTransformer which can log data in a given template
format.
<br /><span class="attrib">(Jon Baer, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1065">SOLR-1065</a>: A DIH ContentStreamDataSource which can accept HTTP POST data
in a content stream. This can be used to push data to Solr instead of
just pulling it from DB/Files/URLs.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1061">SOLR-1061</a>: Improve DIH RegexTransformer to create multiple columns from
regex groups.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1059">SOLR-1059</a>: Special DIH flags introduced for deleting documents by query or
id, skipping rows and stopping further transforms. Use $deleteDocById,
$deleteDocByQuery for deleting by id and query respectively.  Use $skipRow
to skip the current row but continue with the document. Use $stopTransform
to stop further transformers. New methods are introduced in Context for
deleting by id and query.
<br /><span class="attrib">(Noble Paul, Fergus McMenemie, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1076">SOLR-1076</a>: JdbcDataSource should resolve DIH variables in all its
configuration parameters.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1055">SOLR-1055</a>: Make DIH JdbcDataSource easily extensible by making the
createConnectionFactory method protected and return a
Callable&lt;Connection&gt; object.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1058">SOLR-1058</a>: DIH: JdbcDataSource can lookup javax.sql.DataSource using JNDI.
Use a jndiName attribute to specify the location of the data source.
<br /><span class="attrib">(Jason Shepherd, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1083">SOLR-1083</a>: A DIH Evaluator for escaping query characters.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-934">SOLR-934</a>: A MailEntityProcessor to enable indexing mails from
POP/IMAP sources into a solr index.
<br /><span class="attrib">(Preetam Rao, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1060">SOLR-1060</a>: A DIH LineEntityProcessor which can stream lines of text from a
given file to be indexed directly or for processing with transformers and
child entities.
<br /><span class="attrib">(Fergus McMenemie, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1127">SOLR-1127</a>: Add support for DIH field name to be templatized.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1092">SOLR-1092</a>: Added a new DIH command named 'import' which does not
automatically clean the index. This is useful and more appropriate when one
needs to import only some of the entities.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1153">SOLR-1153</a>: DIH 'deltaImportQuery' is honored on child entities as well
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1230">SOLR-1230</a>: Enhanced dataimport.jsp to work with all DataImportHandler
request handler configurations, rather than just a hardcoded /dataimport
handler.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1235">SOLR-1235</a>: disallow period (.) in DIH entity names
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1234">SOLR-1234</a>: Multiple DIH does not work because all of them write to
dataimport.properties. Use the handler name as the properties file name
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1348">SOLR-1348</a>: Support binary field type in convertType logic in DIH
JdbcDataSource
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1406">SOLR-1406</a>: DIH: Make FileDataSource and FileListEntityProcessor to be more
extensible
<br /><span class="attrib">(Luke Forehand, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1437">SOLR-1437</a>: DIH: XPathEntityProcessor can deal with xpath syntaxes such as
//tagname , /root//tagname
<br /><span class="attrib">(Fergus McMenemie via noble)</span></li>
    </ol>
  </li>
  <li><a id="v1.4.0.optimizations" href="javascript:toggleList('v1.4.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(22)
    <ol id="v1.4.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-374">SOLR-374</a>: Use IndexReader.reopen to save resources by re-using parts of the
index that haven't changed.
<br /><span class="attrib">(Mark Miller via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-808">SOLR-808</a>: Write string keys in Maps as extern strings in the javabin format.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-475">SOLR-475</a>: New faceting method with better performance and smaller memory usage for
multi-valued fields with many unique values but relatively few values per document.
Controllable via the facet.method parameter - "fc" is the new default method and "enum"
is the original method.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-970">SOLR-970</a>: Use an ArrayList in SolrPluginUtils.parseQueryStrings
since we know exactly how long the List will be in advance.
<br /><span class="attrib">(Kay Kay via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1002">SOLR-1002</a>: Change SolrIndexSearcher to use insertWithOverflow
with reusable priority queue entries to reduce the amount of
generated garbage during searching.
<br /><span class="attrib">(Mark Miller via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-971">SOLR-971</a>: Replace StringBuffer with StringBuilder for instances that do not require thread-safety.
<br /><span class="attrib">(Kay Kay via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-921">SOLR-921</a>: SolrResourceLoader must cache short class name vs fully qualified classname
<br /><span class="attrib">(Noble Paul, hossman via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-973">SOLR-973</a>: CommonsHttpSolrServer writes the xml directly to the server.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1108">SOLR-1108</a>: Remove un-needed synchronization in SolrCore constructor.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1166">SOLR-1166</a>: Speed up docset/filter generation by avoiding top-level
score() call and iterating over leaf readers with TermDocs.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1169">SOLR-1169</a>: SortedIntDocSet - a new small set implementation
that saves memory over HashDocSet, is faster to construct,
is ordered for easier implementation of skipTo, and is faster
in the general case.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1165">SOLR-1165</a>: Use Lucene Filters and pass them down to the Lucene
search methods to filter earlier and improve performance.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1111">SOLR-1111</a>: Use per-segment sorting to share fieldcache elements
across unchanged segments.  This saves memory and reduces
commit times for incremental updates to the index.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1188">SOLR-1188</a>: Minor efficiency improvement in TermVectorComponent related to ignoring positions or offsets
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1150">SOLR-1150</a>: Load Documents for Highlighting one at a time rather than
all at once to avoid OOM with many large Documents.
<br /><span class="attrib">(Siddharth Gargate via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1353">SOLR-1353</a>: Implement and use reusable token streams for analysis.
<br /><span class="attrib">(Robert Muir, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1296">SOLR-1296</a>: Enables setting IndexReader's termInfosIndexDivisor via a new attribute to StandardIndexReaderFactory.  Enables
setting termIndexInterval to IndexWriter via SolrIndexConfig.
<br /><span class="attrib">(Jason Rutherglen, hossman, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-846">SOLR-846</a>: DIH: Reduce memory consumption during delta import by removing
keys when used
<br /><span class="attrib">(Ricky Leung, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-974">SOLR-974</a>: DataImportHandler skips commit if no data has been updated.
<br /><span class="attrib">(Wojtek Piaseczny, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1004">SOLR-1004</a>: DIH: Check for abort more frequently during delta-imports.
<br /><span class="attrib">(Marc Sturlese, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1098">SOLR-1098</a>: DIH DateFormatTransformer can cache the format objects.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1465">SOLR-1465</a>: Replaced string concatenations with StringBuilder append
calls in DIH XPathRecordReader.
<br /><span class="attrib">(Mark Miller, shalin)</span></li>
    </ol>
  </li>
  <li><a id="v1.4.0.bug_fixes" href="javascript:toggleList('v1.4.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(105)
    <ol id="v1.4.0.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-774">SOLR-774</a>: Fixed logging level display
<br /><span class="attrib">(Sean Timm via Otis Gospodnetic)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-771">SOLR-771</a>: CoreAdminHandler STATUS should display 'normalized' paths
<br /><span class="attrib">(koji, hossman, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-532">SOLR-532</a>: WordDelimiterFilter now respects payloads and other attributes of the original Token by
using Token.clone()
<br /><span class="attrib">(Tricia Williams, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-805">SOLR-805</a>: DisMax queries are not being cached in QueryResultCache
<br /><span class="attrib">(Todd Feak via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-751">SOLR-751</a>: WordDelimiterFilter didn't adjust the start offset of single
tokens that started with delimiters, leading to incorrect highlighting.
<br /><span class="attrib">(Stefan Oestreicher via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-843">SOLR-843</a>: SynonymFilterFactory cannot handle multiple synonym files correctly
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-840">SOLR-840</a>: BinaryResponseWriter does not handle incompatible data in fields
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-803">SOLR-803</a>: CoreAdminRequest.createCore fails because name parameter isn't set
<br /><span class="attrib">(Sean Colombo via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-869">SOLR-869</a>: Fix file descriptor leak in SolrResourceLoader#getLines
<br /><span class="attrib">(Mark Miller, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-872">SOLR-872</a>: Better error message for incorrect copyField destination
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-879">SOLR-879</a>: Enable position increments in the query parser and fix the
example schema to enable position increments for the stop filter in
both the index and query analyzers to fix the bug with phrase queries
with stopwords.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-836">SOLR-836</a>: Add missing "a" to the example stopwords.txt
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-892">SOLR-892</a>: Fix serialization of booleans for PHPSerializedResponseWriter
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-898">SOLR-898</a>: Fix null pointer exception for the JSON response writer
based formats when nl.json=arrarr with null keys.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-901">SOLR-901</a>: FastOutputStream ignores write(byte[]) call.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-807">SOLR-807</a>: BinaryResponseWriter writes fieldType.toExternal if it is not a supported type,
otherwise it writes fieldType.toObject. This fixes the bug with encoding/decoding UUIDField.
<br /><span class="attrib">(koji, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-863">SOLR-863</a>: SolrCore.initIndex should close the directory it gets for clearing the lock and
use the DirectoryFactory.
<br /><span class="attrib">(Mark Miller via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-802">SOLR-802</a>: Fix a potential null pointer error in the distributed FacetComponent
<br /><span class="attrib">(David Bowen via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-346">SOLR-346</a>: Use perl regex to improve accuracy of finding latest snapshot in snapinstaller
<br /><span class="attrib">(billa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-830">SOLR-830</a>: Use perl regex to improve accuracy of finding latest snapshot in snappuller
<br /><span class="attrib">(billa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-897">SOLR-897</a>: Fixed Argument list too long error when there are lots of snapshots/backups
<br /><span class="attrib">(Dan Rosher via billa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-925">SOLR-925</a>: Fixed highlighting on fields with multiValued="true" and termOffsets="true"
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-902">SOLR-902</a>: FastInputStream#read(byte b[], int off, int len) gives incorrect results when amount left to read is less
than buffer size
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-978">SOLR-978</a>: Old files are not removed from slaves after replication
<br /><span class="attrib">(Jaco, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-883">SOLR-883</a>: Implicit properties are not set for Cores created through CoreAdmin
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-991">SOLR-991</a>: Better error message when parsing solrconfig.xml fails due to malformed XML. Error message notes the name
of the file being parsed.
<br /><span class="attrib">(Michael Henson via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1008">SOLR-1008</a>: Fix stats.jsp XML encoding for &lt;stat&gt; item entries with ampersands in their names.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-976">SOLR-976</a>: deleteByQuery is ignored when deleteById is placed prior to deleteByQuery in a &lt;delete&gt;.
Now both delete by id and delete by query can be specified at the same time as follows.
  &lt;delete&gt;
    &lt;id&gt;05991&lt;/id&gt;&lt;id&gt;06000&lt;/id&gt;
    &lt;query&gt;office:Bridgewater&lt;/query&gt;&lt;query&gt;office:Osaka&lt;/query&gt;
  &lt;/delete&gt;
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1016">SOLR-1016</a>: HTTP 503 error changes 500 in SolrCore
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1015">SOLR-1015</a>: Incomplete information in replication admin page and http command response when server
is both master and slave i.e. when server is a repeater
<br /><span class="attrib">(Akshay Ukey via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1018">SOLR-1018</a>: Slave is unable to replicate when server acts as repeater (as both master and slave)
<br /><span class="attrib">(Akshay Ukey, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1031">SOLR-1031</a>: Fix XSS vulnerability in schema.jsp
<br /><span class="attrib">(Paul Lovvik via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1064">SOLR-1064</a>: registry.jsp incorrectly displaying info for last core initialized
regardless of what the current core is.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1072">SOLR-1072</a>: absolute paths used in sharedLib attribute were
incorrectly treated as relative paths.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1104">SOLR-1104</a>: Fix some rounding errors in LukeRequestHandler's histogram
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1125">SOLR-1125</a>: Use query analyzer rather than index analyzer for queryFieldType in QueryElevationComponent
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1126">SOLR-1126</a>: Replicated files have incorrect timestamp
<br /><span class="attrib">(Jian Han Guo, Jeff Newburn, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1094">SOLR-1094</a>: Incorrect value of correctlySpelled attribute in some cases
<br /><span class="attrib">(David Smiley, Mark Miller via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-965">SOLR-965</a>: Better error message when &lt;pingQuery&gt; is not configured.
<br /><span class="attrib">(Mark Miller via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1135">SOLR-1135</a>: Java replication creates Snapshot in the directory where Solr was launched
<br /><span class="attrib">(Jianhan Guo via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1138">SOLR-1138</a>: Query Elevation Component now gracefully handles missing queries.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-929">SOLR-929</a>: LukeRequestHandler should return "dynamicBase" only if the field is dynamic.
<br /><span class="attrib">(Peter Wolanin, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1141">SOLR-1141</a>: NullPointerException during snapshoot command in java based replication
<br /><span class="attrib">(Jian Han Guo, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1078">SOLR-1078</a>: Fixes to WordDelimiterFilter to avoid splitting or dropping
international non-letter characters such as non spacing marks.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-825">SOLR-825</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1221">SOLR-1221</a>: Enables highlighting for range/wildcard/fuzzy/prefix queries if using hl.usePhraseHighlighter=true
and hl.highlightMultiTerm=true. Also make both options default to true.
<br /><span class="attrib">(Mark Miller, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1174">SOLR-1174</a>: Fix Logging admin form submit url for multicore.
<br /><span class="attrib">(Jacob Singh via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1182">SOLR-1182</a>: Fix bug in OrdFieldSource#equals which could cause a bug with OrdFieldSource caching
           on OrdFieldSource#hashcode collisions.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1207">SOLR-1207</a>: equals method should compare this and other of DocList in DocSetBase
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1242">SOLR-1242</a>: Human readable JVM info from system handler does integer cutoff rounding, even when dealing
           with GB. Fixed to round to one decimal place.
<br /><span class="attrib">(Jay Hill, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1243">SOLR-1243</a>: Admin RequestHandlers should not be cached over HTTP.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1260">SOLR-1260</a>: Fix implementations of set operations for DocList subclasses
and fix a bug in HashDocSet construction when offset != 0.  These bugs
never manifested in normal Solr use and only potentially affect
custom code.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1171">SOLR-1171</a>: Fix LukeRequestHandler so it doesn't rely on SolrQueryParser
and report incorrect stats when field names contain characters
SolrQueryParser considers special.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1317">SOLR-1317</a>: Fix CapitalizationFilterFactory to work when keep parameter is not specified.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1342">SOLR-1342</a>: CapitalizationFilterFactory uses incorrect term length calculations.
<br /><span class="attrib">(Robert Muir via Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1359">SOLR-1359</a>: DoubleMetaphoneFilter didn't index original tokens if there was no
alternative, and could incorrectly skip or reorder tokens.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1360">SOLR-1360</a>: Prevent PhoneticFilter from producing duplicate tokens.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1371">SOLR-1371</a>: LukeRequestHandler/schema.jsp errored if schema had no
uniqueKey field.  The new test for this also (hopefully) adds some
future proofing against similar bugs in the future.  As a side
effect QueryElevationComponentTest was refactored, and a bug in
that test was found.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-914">SOLR-914</a>: General finalize() improvements.  No finalizer delegates
to the respective close/destroy method w/o first checking if it's
already been closed/destroyed; if it hasn't a, SEVERE error is
logged first.
<br /><span class="attrib">(noble, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1362">SOLR-1362</a>: WordDelimiterFilter had inconsistent behavior when setting
the position increment of tokens following a token consisting of all
delimiters, and could additionally lose big position increments.
<br /><span class="attrib">(Robert Muir, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1091">SOLR-1091</a>: Jetty's use of CESU-8 for code points outside the BMP
resulted in invalid output from the serialized PHP writer.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1103">SOLR-1103</a>: LukeRequestHandler (and schema.jsp) have been fixed to
include the "1" (ie: 2**0) bucket in the term histogram data.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1398">SOLR-1398</a>: Add offset corrections in PatternTokenizerFactory.
<br /><span class="attrib">(Anders Melchiorsen, koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1400">SOLR-1400</a>: Properly handle zero-length tokens in TrimFilter.  This
was not a bug in any released version.
<br /><span class="attrib">(Peter Wolanin, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1071">SOLR-1071</a>: spellcheck.extendedResults returns an invalid JSON response
when count &gt; 1.  To fix, the extendedResults format was changed.
<br /><span class="attrib">(Uri Boness, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1381">SOLR-1381</a>: Fixed improper handling of fields that have only term positions and not term offsets during Highlighting
<br /><span class="attrib">(Thorsten Fischer, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1427">SOLR-1427</a>: Fixed registry.jsp issue with MBeans
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1468">SOLR-1468</a>: SolrJ's XML response parsing threw an exception for null
 names, such as those produced when facet.missing=true
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1471">SOLR-1471</a>: Fixed issue with calculating missing values for facets in single valued cases in Stats Component.
  This is not correctly calculated for the multivalued case.
<br /><span class="attrib">(James Miller, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1481">SOLR-1481</a>: Fixed omitHeader parameter for PHP ResponseWriter.
<br /><span class="attrib">(Jun Ohtani via billa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1448">SOLR-1448</a>: Add weblogic.xml to solr webapp to enable correct operation in
WebLogic.
<br /><span class="attrib">(Ilan Rabinovitch via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1504">SOLR-1504</a>: empty char mapping can cause ArrayIndexOutOfBoundsException in analysis.jsp and co.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1394">SOLR-1394</a>: HTMLStripCharFilter split tokens that contained entities and
often calculated offsets incorrectly for entities.
<br /><span class="attrib">(Anders Melchiorsen via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1517">SOLR-1517</a>: Admin pages could stall waiting for localhost name resolution
if reverse DNS wasn't configured; this was changed so the DNS resolution
is attempted only once the first time an admin page is loaded.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1529">SOLR-1529</a>: More than 8 deleteByQuery commands in a single request
caused an error to be returned, although the deletes were
still executed.
<br /><span class="attrib">(asmodean via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-800">SOLR-800</a>: Deep copy collections to avoid ConcurrentModificationException
in XPathEntityprocessor while streaming
<br /><span class="attrib">(Kyle Morrison, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-823">SOLR-823</a>: Request parameter variables ${dataimporter.request.xxx} are not
resolved in DIH
<br /><span class="attrib">(Mck SembWever, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-728">SOLR-728</a>: Add synchronization to avoid race condition of multiple DIH
imports working concurrently
<br /><span class="attrib">(Walter Ferrara, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-742">SOLR-742</a>: Add ability to create dynamic fields with custom
DataImportHandler transformers
<br /><span class="attrib">(Wojtek Piaseczny, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-832">SOLR-832</a>: Rows parameter is not honored in DIH non-debug mode and can
abort a running import in debug mode.
<br /><span class="attrib">(Akshay Ukey, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-838">SOLR-838</a>: The DIH VariableResolver obtained from a DataSource's context
does not have current data.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-864">SOLR-864</a>: DataImportHandler does not catch and log Errors
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-873">SOLR-873</a>: Fix case-sensitive field names and columns
<br /><span class="attrib">(Jon Baer, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-893">SOLR-893</a>: Unable to delete documents via SQL and deletedPkQuery with
deltaimport
<br /><span class="attrib">(Dan Rosher via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-888">SOLR-888</a>: DIH DateFormatTransformer cannot convert non-string type
<br /><span class="attrib">(Amit Nithian via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-841">SOLR-841</a>: DataImportHandler should throw exception if a field does not
have column attribute
<br /><span class="attrib">(Michael Henson, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-884">SOLR-884</a>: CachedSqlEntityProcessor should check if the cache key is
present in the query results
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-985">SOLR-985</a>: Fix thread-safety issue with DIH TemplateString for concurrent
imports with multiple cores.
<br /><span class="attrib">(Ryuuichi Kumai via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-999">SOLR-999</a>: DIH XPathRecordReader fails on XMLs with nodes mixed with
CDATA content.
<br /><span class="attrib">(Fergus McMenemie, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1000">SOLR-1000</a>: DIH FileListEntityProcessor should not apply fileName filter to
directory names.
<br /><span class="attrib">(Fergus McMenemie via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1009">SOLR-1009</a>: Repeated column names result in duplicate values.
<br /><span class="attrib">(Fergus McMenemie, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1017">SOLR-1017</a>: Fix DIH thread-safety issue with last_index_time for concurrent
imports in multiple cores due to unsafe usage of SimpleDateFormat by
multiple threads.
<br /><span class="attrib">(Ryuuichi Kumai via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1024">SOLR-1024</a>: Calling abort on DataImportHandler import commits data instead
of calling rollback.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1037">SOLR-1037</a>: DIH should not add null values in a row returned by
EntityProcessor to documents.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1040">SOLR-1040</a>: DIH XPathEntityProcessor fails with an xpath like
/feed/entry/link[@type='text/html']/@href
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1042">SOLR-1042</a>: Fix memory leak in DIH by making TemplateString non-static
member in VariableResolverImpl
<br /><span class="attrib">(Ryuuichi Kumai via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1053">SOLR-1053</a>: IndexOutOfBoundsException in DIH SolrWriter.getResourceAsString
when size of data-config.xml is a multiple of 1024 bytes.
<br /><span class="attrib">(Herb Jiang via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1077">SOLR-1077</a>: IndexOutOfBoundsException with useSolrAddSchema in DIH
XPathEntityProcessor.
<br /><span class="attrib">(Sam Keen, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1080">SOLR-1080</a>: DIH RegexTransformer should not replace if regex is not matched.
<br /><span class="attrib">(Noble Paul, Fergus McMenemie via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1090">SOLR-1090</a>: DataImportHandler should load the data-config.xml using UTF-8
encoding.
<br /><span class="attrib">(Rui Pereira, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1146">SOLR-1146</a>: ConcurrentModificationException in DataImporter.getStatusMessages
<br /><span class="attrib">(Walter Ferrara, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1229">SOLR-1229</a>: Fixes for DIH deletedPkQuery, particularly when using
transformed Solr unique id's
<br /><span class="attrib">(Lance Norskog, Noble Paul via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1286">SOLR-1286</a>: Fix the IH commit parameter always defaulting to "true" even
if "false" is explicitly passed in.
<br /><span class="attrib">(Jay Hill, Noble Paul via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1323">SOLR-1323</a>: Reset XPathEntityProcessor's $hasMore/$nextUrl when fetching
next URL
<br /><span class="attrib">(noble, ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1450">SOLR-1450</a>: DIH: Jdbc connection properties such as batchSize are not
applied if the driver jar is placed in solr_home/lib.
<br /><span class="attrib">(Steve Sun via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1474">SOLR-1474</a>: DIH Delta-import should run even if last_index_time is not set.
<br /><span class="attrib">(shalin)</span></li>
    </ol>
  </li>
  <li><a id="v1.4.0.other_changes" href="javascript:toggleList('v1.4.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(64)
    <ol id="v1.4.0.other_changes.list">
      <li>Upgraded to Lucene 2.4.0
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-805">SOLR-805</a>: Upgraded to Lucene 2.9-dev (r707499)
<br /><span class="attrib">(koji)</span></li>
      <li>DumpRequestHandler (/debug/dump): changed 'fieldName' to 'sourceInfo'.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-852">SOLR-852</a>: Refactored common code in CSVRequestHandler and XMLUpdateRequestHandler
<br /><span class="attrib">(gsingers, ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-871">SOLR-871</a>: Removed dependency on stax-utils.jar.  If you using solr.jar and running
java 6, you can also remove woodstox and geronimo.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-465">SOLR-465</a>: Upgraded to Lucene 2.9-dev (r719351)
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-889">SOLR-889</a>: Upgraded to commons-io-1.4.jar and commons-fileupload-1.2.1.jar
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-875">SOLR-875</a>: Upgraded to Lucene 2.9-dev (r723985) and consolidated the BitSet implementations
<br /><span class="attrib">(Michael Busch, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-819">SOLR-819</a>: Upgraded to Lucene 2.9-dev (r724059) to get access to Arabic public constructors
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-900">SOLR-900</a>: Moved solrj into /src/solrj.  The contents of solr-common.jar is now included
in the solr-solrj.jar.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-924">SOLR-924</a>: Code cleanup: make all existing finalize() methods call
super.finalize() in a finally block.  All current instances extend
Object, so this doesn't fix any bugs, but helps protect against
future changes.
<br /><span class="attrib">(Kay Kay via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-885">SOLR-885</a>: NamedListCodec is renamed to JavaBinCodec and returns Object instead of NamedList.
<br /><span class="attrib">(Noble Paul, yonik via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-84">SOLR-84</a>: Use new Solr logo in admin
<br /><span class="attrib">(Michiel via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-981">SOLR-981</a>: groupId for Woodstox dependency in maven solrj changed to org.codehaus.woodstox
<br /><span class="attrib">(Tim Taranov via shalin)</span></li>
      <li>Upgraded to Lucene 2.9-dev r738218
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-959">SOLR-959</a>: Refactored TestReplicationHandler to remove hardcoded port numbers
<br /><span class="attrib">(hossman, Akshay Ukey via shalin)</span></li>
      <li>Upgraded to Lucene 2.9-dev r742220
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1022">SOLR-1022</a>: Better "ignored" field in example schema.xml
<br /><span class="attrib">(Peter Wolanin via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-967">SOLR-967</a>: New type-safe constructor for NamedList
<br /><span class="attrib">(Kay Kay via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1036">SOLR-1036</a>: Change default QParser from "lucenePlusSort" to "lucene" to
reduce confusion of semicolon splitting behavior when no sort param is
specified
<br /><span class="attrib">(hossman)</span></li>
      <li>Upgraded to Lucene 2.9-dev r752164
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1068">SOLR-1068</a>: Use fsync on replicated index and configuration files
<br /><span class="attrib">(yonik, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-952">SOLR-952</a>: Cleanup duplicated code in deprecated HighlightingUtils
<br /><span class="attrib">(hossman)</span></li>
      <li>Upgraded to Lucene 2.9-dev r764281
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1079">SOLR-1079</a>:  Rename omitTf to omitTermFreqAndPositions
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-804">SOLR-804</a>: Added Lucene's misc contrib JAR (rev 764281).
<br /><span class="attrib">(gsingers)</span></li>
      <li>Upgraded to Lucene 2.9-dev r768228
<br /><span class="attrib">(shalin)</span></li>
      <li>Upgraded to Lucene 2.9-dev r768336
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-997">SOLR-997</a>: Wait for a longer time for slave to complete replication in TestReplicationHandler
<br /><span class="attrib">(Mark Miller via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-748">SOLR-748</a>: FacetComponent helper classes are made public as an experimental API.
<br /><span class="attrib">(Wojtek Piaseczny via shalin)</span></li>
      <li>Upgraded to Lucene 2.9-dev 773862
<br /><span class="attrib">(Mark Miller)</span></li>
      <li>Upgraded to Lucene 2.9-dev r776177
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1149">SOLR-1149</a>: Made QParserPlugin and related classes extendible as an experimental API.
<br /><span class="attrib">(Kaktu Chakarabati via shalin)</span></li>
      <li>Upgraded to Lucene 2.9-dev r779312
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-786">SOLR-786</a>: Refactor DisMaxQParser to allow overriding certain features of DisMaxQParser
<br /><span class="attrib">(Wojciech Biela via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-458">SOLR-458</a>: Add equals and hashCode methods to NamedList
<br /><span class="attrib">(Stefan Rinner, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1184">SOLR-1184</a>: Add option in solrconfig to open a new IndexReader rather than
using reopen. Done mainly as a fail-safe in the case that a user runs into
a reopen bug/issue.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1215">SOLR-1215</a> use double quotes to enclose attributes in solr.xml
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1151">SOLR-1151</a>: add dynamic copy field and maxChars example to example schema.xml.
<br /><span class="attrib">(Peter Wolanin, Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1233">SOLR-1233</a>: remove /select?qt=/whatever restriction on /-prefixed request handlers.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1257">SOLR-1257</a>: logging.jsp has been removed and now passes through to the
hierarchical log level tool added in Solr 1.3.  Users still
hitting "/admin/logging.jsp" should switch to "/admin/logging".
<br /><span class="attrib">(hossman)</span></li>
      <li>Upgraded to Lucene 2.9-dev r794238. Other changes include:
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/LUCENE-1614">LUCENE-1614</a> - Use Lucene's DocIdSetIterator.NO_MORE_DOCS as the sentinel value.
</li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/LUCENE-1630">LUCENE-1630</a> - Add acceptsDocsOutOfOrder method to Collector implementations.
</li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/LUCENE-1673">LUCENE-1673</a>, <a href="http://issues.apache.org/jira/browse/LUCENE-1701">LUCENE-1701</a> - Trie has moved to Lucene core and renamed to NumericRangeQuery.
</li>
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/LUCENE-1662">LUCENE-1662</a>, <a href="http://issues.apache.org/jira/browse/LUCENE-1687">LUCENE-1687</a> - Replace usage of ExtendedFieldCache by FieldCache.
</li>
</ul>
<span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1241">SOLR-1241</a>: Solr's CharFilter has been moved to Lucene. Remove CharFilter and related classes
from Solr and use Lucene's corresponding code
<br /><span class="attrib">(koji via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1261">SOLR-1261</a>: Lucene trunk renamed RangeQuery &amp; Co to TermRangeQuery
<br /><span class="attrib">(Uwe Schindler via shalin)</span></li>
      <li>Upgraded to Lucene 2.9-dev r801856
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1276">SOLR-1276</a>: Added StatsComponentTest
<br /><span class="attrib">(Rafał Kuć, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1377">SOLR-1377</a>:  The TokenizerFactory API has changed to explicitly return a Tokenizer
rather then a TokenStream (that may be or may not be a Tokenizer).  This change
is required to take advantage of the Token reuse improvements in lucene 2.9.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1410">SOLR-1410</a>: Log a warning if the deprecated charset option is used
on GreekLowerCaseFilterFactory, RussianStemFilterFactory,
RussianLowerCaseFilterFactory or RussianLetterTokenizerFactory.
<br /><span class="attrib">(Robert Muir via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1423">SOLR-1423</a>: Due to <a href="http://issues.apache.org/jira/browse/LUCENE-1906">LUCENE-1906</a>, Solr's tokenizer should use Tokenizer.correctOffset() instead of CharStream.correctOffset().
<br /><span class="attrib">(Uwe Schindler via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1319">SOLR-1319</a>, <a href="http://issues.apache.org/jira/browse/SOLR-1345">SOLR-1345</a>: Upgrade Solr Highlighter classes to new Lucene Highlighter API. This upgrade has
resulted in a back compat break in the DefaultSolrHighlighter class - getQueryScorer is no longer
protected. If you happened to be overriding that method in custom code, overide getHighlighter instead.
Also, HighlightingUtils#getQueryScorer has been removed as it was deprecated and backcompat has been
broken with it anyway.
<br /><span class="attrib">(Mark Miller)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1357">SOLR-1357</a> SolrInputDocument cannot process dynamic fields
<br /><span class="attrib">(Lars Grote via noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1075">SOLR-1075</a>: Upgrade to Tika 0.3.  See <a href="http://www.apache.org/dist/lucene/tika/CHANGES-0.3.txt">http://www.apache.org/dist/lucene/tika/CHANGES-0.3.txt</a>
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1310">SOLR-1310</a>: Upgrade to Tika 0.4. Note there are some differences in
detecting Languages now in extracting request handler.
See <a href="http://www.lucidimagination.com/search/document/d6f1899a85b2a45c/vote_apache_tika_0_4_release_candidate_2#d6f1899a85b2a45c">http://www.lucidimagination.com/search/document/d6f1899a85b2a45c/vote_apache_tika_0_4_release_candidate_2#d6f1899a85b2a45c</a>
for discussion on language detection.
See <a href="http://www.apache.org/dist/lucene/tika/CHANGES-0.4.txt.">http://www.apache.org/dist/lucene/tika/CHANGES-0.4.txt.</a>
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-782">SOLR-782</a>: DIH: Refactored SolrWriter to make it a concrete class and
removed wrappers over SolrInputDocument.  Refactored to load Evaluators
lazily. Removed multiple document nodes in the configuration xml. Removed
support for 'default' variables, they are automatically available as
request parameters.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-964">SOLR-964</a>: DIH: XPathEntityProcessor now ignores DTD validations
<br /><span class="attrib">(Fergus McMenemie, Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1029">SOLR-1029</a>: DIH: Standardize Evaluator parameter parsing and added helper
functions for parsing all evaluator parameters in a standard way.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1081">SOLR-1081</a>: Change DIH EventListener to be an interface so that components
such as an EntityProcessor or a Transformer can act as an event listener.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1027">SOLR-1027</a>: DIH: Alias the 'dataimporter' namespace to a shorter name 'dih'.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1084">SOLR-1084</a>: Better error reporting when DIH entity name is a reserved word
and data-config.xml root node is not &lt;dataConfig&gt;.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1087">SOLR-1087</a>: Deprecate 'where' attribute in CachedSqlEntityProcessor in
favor of cacheKey and cacheLookup.
<br /><span class="attrib">(Noble Paul via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-969">SOLR-969</a>: Change the FULL_DUMP, DELTA_DUMP, FIND_DELTA constants in DIH
Context to String.  Change Context.currentProcess() to return a string
instead of an integer.
<br /><span class="attrib">(Kay Kay, Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1120">SOLR-1120</a>: Simplified DIH EntityProcessor API by moving logic for applying
transformers and handling multi-row outputs from Transformers into an
EntityProcessorWrapper class. The behavior of the method
EntityProcessor#destroy has been modified to be called once per parent-row
at the end of row. A new method EntityProcessor#close is added which is
called at the end of import. A new method
Context#getResolvedEntityAttribute is added which returns the resolved
value of an entity's attribute. Introduced a DocWrapper which takes care
of maintaining document level session variables.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1265">SOLR-1265</a>: Add DIH variable resolving for URLDataSource properties like
baseUrl.
<br /><span class="attrib">(Chris Eldredge via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1269">SOLR-1269</a>: Better error messages from DIH JdbcDataSource when JDBC Driver
name or SQL is incorrect.
<br /><span class="attrib">(ehatcher, shalin)</span></li>
    </ol>
  </li>
  <li><a id="v1.4.0.build" href="javascript:toggleList('v1.4.0.build')">Build</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v1.4.0.build.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-776">SOLR-776</a>: Added in ability to sign artifacts via Ant for releases
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-854">SOLR-854</a>: Added run-example target
<br /><span class="attrib">(Mark Miller via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1054">SOLR-1054</a>:Fix dist-src target for DataImportHandler
<br /><span class="attrib">(Ryuuichi Kumai via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1219">SOLR-1219</a>: Added proxy.setup target
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1386">SOLR-1386</a>: In build.xml, use longfile="gnu" in tar task to avoid warnings about long file names
<br /><span class="attrib">(Mark Miller via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1441">SOLR-1441</a>: Make it possible to run all tests in a package
<br /><span class="attrib">(shalin)</span></li>
    </ol>
  </li>
  <li><a id="v1.4.0.documentation" href="javascript:toggleList('v1.4.0.documentation')">Documentation</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v1.4.0.documentation.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-789">SOLR-789</a>: The javadoc of RandomSortField is not readable
<br /><span class="attrib">(Nicolas Lalevée via koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-962">SOLR-962</a>: Note about null handling in ModifiableSolrParams.add javadoc
<br /><span class="attrib">(Kay Kay via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1409">SOLR-1409</a>: Added Solr Powered By Logos
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1369">SOLR-1369</a>: Add HSQLDB Jar to example-DIH, unzip database and update
instructions.
</li>
    </ol>
  </li>
</ul>
<h3><a id="v1.3.0" href="javascript:toggleList('v1.3.0')">Release 1.3.0  [2008-09-16]</a></h3>
<ul id="v1.3.0.list">
  <li><a id="v1.3.0.upgrading_from_solr_1.2" href="javascript:toggleList('v1.3.0.upgrading_from_solr_1.2')">Upgrading from Solr 1.2</a>&nbsp;&nbsp;&nbsp;(8)
    <ol id="v1.3.0.upgrading_from_solr_1.2.list">
      <li>IMPORTANT UPGRADE NOTE: In a master/slave configuration, all searchers/slaves
should be upgraded before the master!  If the master were to be updated
first, the older searchers would not be able to read the new index format.
</li>
      <li>The Porter snowball based stemmers in Lucene were updated (<a href="http://issues.apache.org/jira/browse/LUCENE-1142">LUCENE-1142</a>),
and are not guaranteed to be backward compatible at the index level
(the stem of certain words may have changed).  Re-indexing is recommended.
</li>
      <li>Older Apache Solr installations can be upgraded by replacing
the relevant war file with the new version.  No changes to configuration
files should be needed.
</li>
      <li>This version of Solr contains a new version of Lucene implementing
an updated index format.  This version of Solr/Lucene can still read
and update indexes in the older formats, and will convert them to the new
format on the first index change.  Be sure to backup your index before
upgrading in case you need to downgrade.
</li>
      <li>Solr now recognizes HTTP Request headers related to HTTP Caching (see
RFC 2616 sec13) and will by default respond with "304 Not Modified"
when appropriate.  This should only affect users who access Solr via
an HTTP Cache, or via a Web-browser that has an internal cache, but if
you wish to suppress this behavior an '&lt;httpCaching never304="true"/&gt;'
option can be added to your solrconfig.xml.  See the wiki (or the
example solrconfig.xml) for more details...
   <a href="http://wiki.apache.org/solr/SolrConfigXml#HTTPCaching">http://wiki.apache.org/solr/SolrConfigXml#HTTPCaching</a>
</li>
      <li>In Solr 1.2, DateField did not enforce the canonical representation of
the ISO 8601 format when parsing incoming data, and did not generation
the canonical format when generating dates from "Date Math" strings
(particularly as it pertains to milliseconds ending in trailing zeros).
As a result equivalent dates could not always be compared properly.
This problem is corrected in Solr 1.3, but DateField users that might
have been affected by indexing inconsistent formats of equivalent
dates (ie: 1995-12-31T23:59:59Z vs 1995-12-31T23:59:59.000Z) may want
to consider reindexing to correct these inconsistencies.  Users who
depend on some of the the "broken" behavior of DateField in Solr 1.2
(specificly: accepting any input that ends in a 'Z') should consider
using the LegacyDateField class as a possible alternative.  Users that
desire 100% backwards compatibility should consider using the Solr 1.2
version of DateField.
</li>
      <li>Due to some changes in the lifecycle of TokenFilterFactories, users of
Solr 1.2 who have written Java code which constructs new instances of
StopFilterFactory, SynonymFilterFactory, or EnglishProterFilterFactory
will need to modify their code by adding a line like the following
prior to using the factory object...
  factory.inform(SolrCore.getSolrCore().getSolrConfig().getResourceLoader());
These lifecycle changes do not affect people who use Solr "out of the
box" or who have developed their own TokenFilterFactory plugins. More
info can be found in <a href="http://issues.apache.org/jira/browse/SOLR-594">SOLR-594</a>.
</li>
      <li>The python client that used to ship with Solr is no longer included in
the distribution (see client/python/README.txt).
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v1.3.0.new_features" href="javascript:toggleList('v1.3.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(73)
    <ol id="v1.3.0.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-69">SOLR-69</a>: Adding MoreLikeThisHandler to search for similar documents using
lucene contrib/queries MoreLikeThis.  MoreLikeThis is also available from
the StandardRequestHandler using ?mlt=true.
<br /><span class="attrib">(bdelacretaz, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-253">SOLR-253</a>: Adding KeepWordFilter and KeepWordFilterFactory.  A TokenFilter
that keeps tokens with text in the registered keeplist.  This behaves like
the inverse of StopFilter.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-257">SOLR-257</a>: WordDelimiterFilter has a new parameter splitOnCaseChange,
which can be set to 0 to disable splitting "PowerShot" =&gt; "Power" "Shot".
<br /><span class="attrib">(klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-193">SOLR-193</a>: Adding SolrDocument and SolrInputDocument to represent documents
outside of the lucene Document infrastructure.  This class will be used
by clients and for processing documents.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-244">SOLR-244</a>: Added ModifiableSolrParams - a SolrParams implementation that
help you change values after initialization.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-20">SOLR-20</a>: Added a java client interface with two implementations.  One
implementation uses commons httpclient to connect to solr via HTTP.  The
other connects to solr directly.  Check client/java/solrj.  This addition
also includes tests that start jetty and test a connection using the full
HTTP request cycle.
<br /><span class="attrib">(Darren Erik Vengroff, Will Johnson, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-133">SOLR-133</a>: Added StaxUpdateRequestHandler that uses StAX for XML parsing.
This implementation has much better error checking and lets you configure
a custom UpdateRequestProcessor that can selectively process update
requests depending on the request attributes.  This class will likely
replace XmlUpdateRequestHandler.
<br /><span class="attrib">(Thorsten Scherler, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-264">SOLR-264</a>: Added RandomSortField, a utility field with a random sort order.
The seed is based on a hash of the field name, so a dynamic field
of this type is useful for generating different random sequences.
This field type should only be used for sorting or as a value source
in a FunctionQuery
<br /><span class="attrib">(ryan, hossman, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-266">SOLR-266</a>: Adding show=schema to LukeRequestHandler to show the parsed
schema fields and field types.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-133">SOLR-133</a>: The UpdateRequestHandler now accepts multiple delete options
within a single request.  For example, sending:
 &lt;delete&gt;&lt;id&gt;1&lt;/id&gt;&lt;id&gt;2&lt;/id&gt;&lt;/delete&gt; will delete both 1 and 2.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-269">SOLR-269</a>: Added UpdateRequestProcessor plugin framework.  This provides
a reasonable place to process documents after they are parsed and
before they are committed to the index.  This is a good place for custom
document manipulation or document based authorization.
<br /><span class="attrib">(yonik, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-260">SOLR-260</a>: Converting to a standard PluginLoader framework.  This reworks
RequestHandlers, FieldTypes, and QueryResponseWriters to share the same
base code for loading and initializing plugins.  This adds a new
configuration option to define the default RequestHandler and
QueryResponseWriter in XML using default="true".
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-225">SOLR-225</a>: Enable pluggable highlighting classes.  Allow configurable
highlighting formatters and Fragmenters.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-273">SOLR-273</a>/376/452/516: Added hl.maxAnalyzedChars highlighting parameter, defaulting
to 50k, hl.alternateField, which allows the specification of a backup
field to use as summary if no keywords are matched, and hl.mergeContiguous,
which combines fragments if they are adjacent in the source document.
<br /><span class="attrib">(klaas, Grant Ingersoll, Koji Sekiguchi via klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-291">SOLR-291</a>: Control maximum number of documents to cache for any entry
in the queryResultCache via queryResultMaxDocsCached solrconfig.xml
entry.
<br /><span class="attrib">(Koji Sekiguchi via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-240">SOLR-240</a>: New &lt;lockType&gt; configuration setting in &lt;mainIndex&gt; and
&lt;indexDefaults&gt; blocks supports all Lucene builtin LockFactories.
'single' is recommended setting, but 'simple' is default for total
backwards compatibility.
<br /><span class="attrib">(Will Johnson via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-248">SOLR-248</a>: Added CapitalizationFilterFactory that creates tokens with
normalized capitalization.  This filter is useful for facet display,
but will not work with a prefix query.  (ryan)
<a href="http://issues.apache.org/jira/browse/SOLR-468">SOLR-468</a>: Change to the semantics to keep the original token, not the
token in the Map.  Also switched to use Lucene's new reusable token
capabilities.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-307">SOLR-307</a>: Added NGramFilterFactory and EdgeNGramFilterFactory.
<br /><span class="attrib">(Thomas Peuss via Otis Gospodnetic)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-305">SOLR-305</a>: analysis.jsp can be given a fieldtype instead of a field
name.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-102">SOLR-102</a>: Added RegexFragmenter, which splits text for highlighting
based on a given pattern.
<br /><span class="attrib">(klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-258">SOLR-258</a>: Date Faceting added to SimpleFacets.  Facet counts
computed for ranges of size facet.date.gap (a DateMath expression)
between facet.date.start and facet.date.end.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-196">SOLR-196</a>: A PHP serialized "phps" response writer that returns a
serialized array that can be used with the PHP function unserialize,
and a PHP response writer "php" that may be used by eval.
<br /><span class="attrib">(Nick Jenkin, Paul Borgermans, Pieter Berkel via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-308">SOLR-308</a>: A new UUIDField class which accepts UUID string values,
as well as the special value of "NEW" which triggers generation of
a new random UUID.
<br /><span class="attrib">(Thomas Peuss via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-349">SOLR-349</a>: New FunctionQuery functions: sum, product, div, pow, log,
sqrt, abs, scale, map.  Constants may now be used as a value source.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-359">SOLR-359</a>: Add field type className to Luke response, and enabled access
to the detailed field information from the solrj client API.
<br /><span class="attrib">(Grant Ingersoll via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-334">SOLR-334</a>: Pluggable query parsers.  Allows specification of query
type and arguments as a prefix on a query string.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-351">SOLR-351</a>: External Value Source.  An external file may be used
 to specify the values of a field, currently usable as
 a ValueSource in a FunctionQuery.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-395">SOLR-395</a>: Many new features for the spell checker implementation, including
an extended response mode with much richer output, multi-word spell checking,
and a bevy of new and renamed options (see the wiki).
<br /><span class="attrib">(Mike Krimerman, Scott Taber via klaas)</span>.
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-408">SOLR-408</a>: Added PingRequestHandler and deprecated SolrCore.getPingQueryRequest().
Ping requests should be configured using standard RequestHandler syntax in
solrconfig.xml rather then using the &lt;pingQuery&gt;&lt;/pingQuery&gt; syntax.
<br /><span class="attrib">(Karsten Sperling via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-281">SOLR-281</a>: Added a 'Search Component' interface and converted StandardRequestHandler
and DisMaxRequestHandler to use this framework.
<br /><span class="attrib">(Sharad Agarwal, Henri Biestro, yonik, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-176">SOLR-176</a>: Add detailed timing data to query response output.  The SearchHandler
interface now returns how long each section takes.
<br /><span class="attrib">(klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-414">SOLR-414</a>: Plugin initialization now supports SolrCore and ResourceLoader "Aware"
plugins.  Plugins that implement SolrCoreAware or ResourceLoaderAware are
informed about the SolrCore/ResourceLoader.
<br /><span class="attrib">(Henri Biestro, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-350">SOLR-350</a>: Support multiple SolrCores running in the same solr instance and allows
runtime runtime management for any running SolrCore.  If a solr.xml file exists
in solr.home, this file is used to instanciate multiple cores and enables runtime
core manipulation.  For more informaion see:  <a href="http://wiki.apache.org/solr/CoreAdmin">http://wiki.apache.org/solr/CoreAdmin</a>
<br /><span class="attrib">(Henri Biestro, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-447">SOLR-447</a>: Added an single request handler that will automatically register all
standard admin request handlers.  This replaces the need to register (and maintain)
the set of admin request handlers.  Assuming solrconfig.xml includes:
 &lt;requestHandler name="/admin/" class="org.apache.solr.handler.admin.AdminHandlers" /&gt;
This will register: Luke/SystemInfo/PluginInfo/ThreadDump/PropertiesRequestHandler.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-142">SOLR-142</a>: Added RawResponseWriter and ShowFileRequestHandler.  This returns config
files directly.  If AdminHandlers are configured, this will be added automatically.
The jsp files /admin/get-file.jsp and /admin/raw-schema.jsp have been deprecated.
The deprecated &lt;admin&gt;&lt;gettableFiles&gt; will be automatically registered with
a ShowFileRequestHandler instance for backwards compatibility.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-446">SOLR-446</a>: TextResponseWriter can write SolrDocuments and SolrDocumentLists the
same way it writes Document and DocList.
<br /><span class="attrib">(yonik, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-418">SOLR-418</a>: Adding a query elevation component.  This is an optional component to
elevate some documents to the top positions (or exclude them) for a given query.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-478">SOLR-478</a>: Added ability to get back unique key information from the LukeRequestHandler.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-127">SOLR-127</a>: HTTP Caching awareness.  Solr now recognizes HTTP Request
headers related to HTTP Caching (see RFC 2616 sec13) and will respond
with "304 Not Modified" when appropriate.  New options have been added
to solrconfig.xml to influence this behavior.
<br /><span class="attrib">(Thomas Peuss via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-303">SOLR-303</a>: Distributed Search over HTTP.  Specification of shards
argument causes Solr to query those shards and merge the results
into a single response.  Querying, field faceting (sorted only),
query faceting, highlighting, and debug information are supported
in distributed mode.
<br /><span class="attrib">(Sharad Agarwal, Patrick O'Leary, Sabyasachi Dalal, Stu Hood,
 Jayson Minard, Lars Kotthoff, ryan, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-356">SOLR-356</a>: Pluggable functions (value sources) that allow
registration of new functions via solrconfig.xml
<br /><span class="attrib">(Doug Daniels via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-494">SOLR-494</a>: Added cool admin Ajaxed schema explorer.
<br /><span class="attrib">(Greg Ludington via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-497">SOLR-497</a>: Added date faceting to the QueryResponse in SolrJ
and QueryResponseTest
<br /><span class="attrib">(Shalin Shekhar Mangar via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-486">SOLR-486</a>: Binary response format, faster and smaller
than XML and JSON response formats (use wt=javabin).
BinaryResponseParser for utilizing the binary format via SolrJ
and is now the default.
<br /><span class="attrib">(Noble Paul, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-521">SOLR-521</a>: StopFilterFactory support for "enablePositionIncrements"
<br /><span class="attrib">(Walter Ferrara via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-557">SOLR-557</a>: Added SolrCore.getSearchComponents() to return an unmodifiable Map.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-516">SOLR-516</a>: Added hl.maxAlternateFieldLength parameter, to set max length for hl.alternateField
<br /><span class="attrib">(Koji Sekiguchi via klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-319">SOLR-319</a>: Changed SynonymFilterFactory to "tokenize" synonyms file.
To use a tokenizer, specify "tokenizerFactory" attribute in &lt;filter&gt;.
For example:
&lt;tokenizer class="solr.CJKTokenizerFactory"/&gt;
&lt;filter class="solr.SynonymFilterFactory" synonyms="synonyms.txt" expand="true"
  ignoreCase="true" tokenizerFactory="solr.CJKTokenizerFactory"/&gt;
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-515">SOLR-515</a>: Added SimilarityFactory capability to schema.xml,
making config file parameters usable in the construction of
the global Lucene Similarity implementation.
<br /><span class="attrib">(ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-536">SOLR-536</a>: Add a DocumentObjectBinder to solrj that converts Objects to and
from SolrDocuments.
<br /><span class="attrib">(Noble Paul via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-595">SOLR-595</a>: Add support for Field level boosting in the MoreLikeThis Handler.
<br /><span class="attrib">(Tom Morton, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-572">SOLR-572</a>: Added SpellCheckComponent and org.apache.solr.spelling package to support more spell
checking functionality.  Also includes ability to add your own SolrSpellChecker implementation that
plugs in.  See <a href="http://wiki.apache.org/solr/SpellCheckComponent">http://wiki.apache.org/solr/SpellCheckComponent</a> for more details
<br /><span class="attrib">(Shalin Shekhar Mangar, Bojan Smid, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-679">SOLR-679</a>: Added accessor methods to Lucene based spell checkers
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-423">SOLR-423</a>: Added Request Handler close hook notification so that RequestHandlers can be notified
when a core is closing.
<br /><span class="attrib">(gsingers, ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-603">SOLR-603</a>: Added ability to partially optimize.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-483">SOLR-483</a>: Add byte/short sorting support
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-14">SOLR-14</a>: Add preserveOriginal flag to WordDelimiterFilter
<br /><span class="attrib">(Geoffrey Young, Trey Hyde, Ankur Madnani, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-502">SOLR-502</a>: Add search timeout support.
<br /><span class="attrib">(Sean Timm via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-605">SOLR-605</a>: Add the ability to register callbacks programatically
<br /><span class="attrib">(ryan, Noble Paul)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-610">SOLR-610</a>: hl.maxAnalyzedChars can be -1 to highlight everything
<br /><span class="attrib">(Lars Kotthoff via klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-522">SOLR-522</a>: Make analysis.jsp show payloads.
<br /><span class="attrib">(Tricia Williams via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-611">SOLR-611</a>: Expose sort_values returned by QueryComponent in SolrJ's QueryResponse
<br /><span class="attrib">(Dan Rosher via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-256">SOLR-256</a>: Support exposing Solr statistics through JMX
<br /><span class="attrib">(Sharad Agrawal, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-666">SOLR-666</a>: Expose warmup time in statistics for SolrIndexSearcher and LRUCache
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-663">SOLR-663</a>: Allow multiple files for stopwords, keepwords, protwords and synonyms
<br /><span class="attrib">(Otis Gospodnetic, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-469">SOLR-469</a>: Added DataImportHandler as a contrib project which makes indexing data from Databases,
XML files and HTTP data sources into Solr quick and easy. Includes API and implementations for
supporting multiple data sources, processors and transformers for importing data. Supports full
data imports as well as incremental (delta) indexing. See <a href="http://wiki.apache.org/solr/DataImportHandler">http://wiki.apache.org/solr/DataImportHandler</a>
for more details.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-622">SOLR-622</a>: SpellCheckComponent supports auto-loading indices on startup and optionally, (re)builds
indices on newSearcher event, if configured in solrconfig.xml
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-554">SOLR-554</a>: Hierarchical JDK log level selector for SOLR Admin replaces logging.jsp
<br /><span class="attrib">(Sean Timm via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-506">SOLR-506</a>: Emitting HTTP Cache headers can be enabled or disabled through configuration on a
per-handler basis
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-716">SOLR-716</a>: Added support for properties in configuration files. Properties can be specified in
solr.xml and can be used in solrconfig.xml and schema.xml
<br /><span class="attrib">(Henri Biestro, hossman, ryan, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-1129">SOLR-1129</a> : Support binding dynamic fields to beans in SolrJ
<br /><span class="attrib">(Avlesh Singh , noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-920">SOLR-920</a> : Cache and reuse IndexSchema . A new attribute added in solr.xml called 'shareSchema'
<br /><span class="attrib">(noble)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-700">SOLR-700</a>: DIH: Allow configurable locales through a locale attribute in
fields for NumberFormatTransformer.
<br /><span class="attrib">(Stefan Oestreicher, shalin)</span></li>
    </ol>
  </li>
  <li><a id="v1.3.0.changes_in_runtime_behavior" href="javascript:toggleList('v1.3.0.changes_in_runtime_behavior')">Changes in runtime behavior</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v1.3.0.changes_in_runtime_behavior.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-559">SOLR-559</a>: use Lucene updateDocument, deleteDocuments methods.  This
removes the maxBufferedDeletes parameter added by <a href="http://issues.apache.org/jira/browse/SOLR-310">SOLR-310</a> as Lucene
now manages the deletes.  This provides slightly better indexing
performance and makes overwrites atomic, eliminating the possibility of
a crash causing duplicates.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-689">SOLR-689</a> / <a href="http://issues.apache.org/jira/browse/SOLR-695">SOLR-695</a>: If you have used "MultiCore" functionality in an unreleased
version of 1.3-dev, many classes and configs have been renamed for the official
1.3 release.  Speciffically, solr.xml has replaced multicore.xml, and uses a slightly
different syntax.  The solrj classes: MultiCore{Request/Response/Params} have been
renamed:  CoreAdmin{Request/Response/Params}
<br /><span class="attrib">(hossman, ryan, Henri Biestro)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-647">SOLR-647</a>: reference count the SolrCore uses to prevent a premature
close while a core is still in use.
<br /><span class="attrib">(Henri Biestro, Noble Paul, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-737">SOLR-737</a>: SolrQueryParser now uses a ConstantScoreQuery for wildcard
queries that prevent an exception from being thrown when the number
of matching terms exceeds the BooleanQuery clause limit.
<br /><span class="attrib">(yonik)</span></li>
    </ol>
  </li>
  <li><a id="v1.3.0.optimizations" href="javascript:toggleList('v1.3.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(10)
    <ol id="v1.3.0.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-276">SOLR-276</a>: improve JSON writer speed.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-310">SOLR-310</a>: bound and reduce memory usage by providing &lt;maxBufferedDeletes&gt; parameter,
which flushes deleted without forcing the user to use &lt;commit/&gt; for this purpose.
<br /><span class="attrib">(klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-348">SOLR-348</a>: short-circuit faceting if less than mincount docs match.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-354">SOLR-354</a>: Optimize removing all documents.  Now when a delete by query
of *:* is issued, the current index is removed.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-377">SOLR-377</a>: Speed up response writers.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-342">SOLR-342</a>:  Added support into the SolrIndexWriter for using several new features of the new
LuceneIndexWriter, including: setRAMBufferSizeMB(), setMergePolicy(), setMergeScheduler.
Also, added support to specify Lucene's autoCommit functionality (not to be confused with Solr's
similarily named autoCommit functionality) via the &lt;luceneAutoCommit&gt; config. item.  See the test
and example solrconfig.xml &lt;indexDefaults&gt; section for usage.  Performance during indexing should
be significantly increased by moving up to 2.3 due to Lucene's new indexing capabilities.
Furthermore, the setRAMBufferSizeMB makes it more logical to decide on tuning factors related to
indexing.  For best performance, leave the mergePolicy and mergeScheduler as the defaults and set
ramBufferSizeMB instead of maxBufferedDocs.  The best value for this depends on the types of
documents in use.  32 should be a good starting point, but reports have shown up to 48 MB provides
good results. Note, it is acceptable to set both ramBufferSizeMB and maxBufferedDocs, and Lucene
will flush based on whichever limit is reached first.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-330">SOLR-330</a>: Converted TokenStreams to use Lucene's new char array based
capabilities.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-624">SOLR-624</a>: Only take snapshots if there are differences to the index
<br /><span class="attrib">(Richard Trey Hyde via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-587">SOLR-587</a>: Delete by Query performance greatly improved by using
new underlying Lucene IndexWriter implementation.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-730">SOLR-730</a>: Use read-only IndexReaders that don't synchronize
isDeleted().  This will speed up function queries and *:* queries
as well as improve their scalability on multi-CPU systems.
<br /><span class="attrib">(Mark Miller via yonik)</span></li>
    </ol>
  </li>
  <li><a id="v1.3.0.bug_fixes" href="javascript:toggleList('v1.3.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(53)
    <ol id="v1.3.0.bug_fixes.list">
      <li>Make TextField respect sortMissingFirst and sortMissingLast fields.
<br /><span class="attrib">(J.J. Larrea via yonik)</span></li>
      <li>autoCommit/maxDocs was not working properly when large autoCommit/maxTime
was specified
<br /><span class="attrib">(klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-283">SOLR-283</a>: autoCommit was not working after delete.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-286">SOLR-286</a>: ContentStreamBase was not using default encoding for getBytes()
<br /><span class="attrib">(Toru Matsuzawa via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-292">SOLR-292</a>: Fix MoreLikeThis facet counting.
<br /><span class="attrib">(Pieter Berkel via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-297">SOLR-297</a>: Fix bug in RequiredSolrParams where requiring a field
specific param would fail if a general default value had been supplied.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-331">SOLR-331</a>: Fix WordDelimiterFilter handling of offsets for synonyms or
other injected tokens that can break highlighting.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-282">SOLR-282</a>: Snapshooter does not work on Solaris and OS X since the cp command
there does not have the -l option.  Also updated commit/optimize related
scripts to handle both old and new response format.
<br /><span class="attrib">(bill)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-294">SOLR-294</a>: Logging of elapsed time broken on Solaris because the date command
there does not support the %s output format.
<br /><span class="attrib">(bill)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-136">SOLR-136</a>: Snappuller - "date -d" and locales don't mix.
<br /><span class="attrib">(Jürgen Hermann via bill)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-333">SOLR-333</a>: Changed distributiondump.jsp to use Solr HOME instead of CWD to set path.
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-393">SOLR-393</a>: Removed duplicate contentType from raw-schema.jsp.
<br /><span class="attrib">(bill)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-413">SOLR-413</a>: Requesting a large numbers of documents to be returned (limit)
can result in an out-of-memory exception, even for a small index.
<br /><span class="attrib">(yonik)</span></li>
      <li>The CSV loader incorrectly threw an exception when given
header=true (the default).
<br /><span class="attrib">(ryan, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-449">SOLR-449</a>: the python and ruby response writers are now able to correctly
output NaN and Infinity in their respective languages.
<br /><span class="attrib">(klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-42">SOLR-42</a>: HTMLStripReader tokenizers now preserve correct source
offsets for highlighting.
<br /><span class="attrib">(Grant Ingersoll via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-481">SOLR-481</a>: Handle UnknownHostException in _info.jsp
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-324">SOLR-324</a>: Add proper support for Long and Doubles in sorting, etc.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-496">SOLR-496</a>: Cache-Control max-age changed to Long so Expires
calculation won't cause overflow.
<br /><span class="attrib">(Thomas Peuss via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-535">SOLR-535</a>: Fixed typo (Tokenzied -&gt; Tokenized) in schema.jsp
<br /><span class="attrib">(Thomas Peuss via billa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-529">SOLR-529</a>: Better error messages from SolrQueryParser when field isn't
specified and there is no defaultSearchField in schema.xml
<br /><span class="attrib">(Lars Kotthoff via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-530">SOLR-530</a>: Better error messages/warnings when parsing schema.xml:
field using bogus fieldtype and multiple copyFields to a non-multiValue
field.
<br /><span class="attrib">(Shalin Shekhar Mangar via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-528">SOLR-528</a>: Better error message when defaultSearchField is bogus or not
indexed.
<br /><span class="attrib">(Lars Kotthoff via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-533">SOLR-533</a>: Fixed tests so they don't use hardcoded port numbers.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-400">SOLR-400</a>: SolrExceptionTest should now handle using OpenDNS as a DNS provider
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-541">SOLR-541</a>: Legacy XML update support (provided by SolrUpdateServlet
when no RequestHandler is mapped to "/update") now logs error correctly.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-267">SOLR-267</a>: Changed logging to report number of hits, and also provide a mechanism to add log
messages to be output by the SolrCore via a NamedList toLog member variable.
<br /><span class="attrib">(Will Johnson, yseeley, gsingers)</span>
<ul class="bulleted-list">
<li class="bulleted-list">
<a href="http://issues.apache.org/jira/browse/SOLR-267">SOLR-267</a>: Removed adding values to the HTTP headers in SolrDispatchFilter
<br /><span class="attrib">(gsingers)</span></li>
</ul>
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-509">SOLR-509</a>: Moved firstSearcher event notification to the end of the SolrCore constructor
<br /><span class="attrib">(Koji Sekiguchi via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-470">SOLR-470</a>, <a href="http://issues.apache.org/jira/browse/SOLR-552">SOLR-552</a>, <a href="http://issues.apache.org/jira/browse/SOLR-544">SOLR-544</a>, <a href="http://issues.apache.org/jira/browse/SOLR-701">SOLR-701</a>: Multiple fixes to DateField
regarding lenient parsing of optional milliseconds, and correct
formating using the canonical representation.  LegacyDateField has
been added for people who have come to depend on the existing
broken behavior.
<br /><span class="attrib">(hossman, Stefan Oestreicher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-539">SOLR-539</a>: Fix for non-atomic long counters and a cast fix to avoid divide
by zero.
<br /><span class="attrib">(Sean Timm via Otis Gospodnetic)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-514">SOLR-514</a>: Added explicit media-type with UTF* charset to *.xsl files that
don't already have one.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-505">SOLR-505</a>: Give RequestHandlers the possiblity to suppress the generation
of HTTP caching headers.
<br /><span class="attrib">(Thomas Peuss via Otis Gospodnetic)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-553">SOLR-553</a>: Handle highlighting of phrase terms better when
hl.usePhraseHighligher=true URL param is used.
<br /><span class="attrib">(Bojan Smid via Otis Gospodnetic)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-590">SOLR-590</a>: Limitation in pgrep on Linux platform breaks script-utils fixUser.
<br /><span class="attrib">(Hannes Schmidt via billa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-597">SOLR-597</a>: SolrServlet no longer "caches" SolrCore.  This was causing
problems in Resin, and could potentially cause problems for customized
usages of SolrServlet.
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-585">SOLR-585</a>: Now sets the QParser on the ResponseBuilder
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-604">SOLR-604</a>: If the spellchecking path is relative, make it relative to the Solr Data Directory.
<br /><span class="attrib">(Shalin Shekhar Mangar via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-584">SOLR-584</a>: Make stats.jsp and stats.xsl more robust.
<br /><span class="attrib">(Yousef Ourabi and hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-443">SOLR-443</a>: SolrJ: Declare UTF-8 charset on POSTed parameters
to avoid problems with servlet containers that default to latin-1
and allow switching of the exact POST mechanism for parameters
via useMultiPartPost in CommonsHttpSolrServer.
<br /><span class="attrib">(Lars Kotthoff, Andrew Schurman, ryan, yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-556">SOLR-556</a>: multi-valued fields always highlighted in disparate snippets
<br /><span class="attrib">(Lars Kotthoff via klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-501">SOLR-501</a>: Fix admin/analysis.jsp UTF-8 input for some other servlet
containers such as Tomcat.
<br /><span class="attrib">(Hiroaki Kawai, Lars Kotthoff via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-616">SOLR-616</a>: SpellChecker accuracy configuration is not applied for FileBasedSpellChecker.
Apply it for FileBasedSpellChecker and IndexBasedSpellChecker both.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-648">SOLR-648</a>: SpellCheckComponent throws NullPointerException on using spellcheck.q request
parameter after restarting Solr, if reload is called but build is not called.
<br /><span class="attrib">(Jonathan Lee, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-598">SOLR-598</a>: DebugComponent now always occurs last in the SearchHandler list unless the
components are explicitly declared.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-676">SOLR-676</a>: DataImportHandler should use UpdateRequestProcessor API instead of directly
using UpdateHandler.
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-696">SOLR-696</a>: Fixed bug in NamedListCodec in regards to serializing Iterable objects.
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-669">SOLR-669</a>: snappuler fix for FreeBSD/Darwin (Richard "Trey" Hyde via Otis Gospodnetic)
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-606">SOLR-606</a>: Fixed spell check collation offset issue.
<br /><span class="attrib">(Stefan Oestreicher , Geoffrey Young, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-589">SOLR-589</a>: Improved handling of badly formated query strings
<br /><span class="attrib">(Sean Timm via Otis Gospodnetic)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-749">SOLR-749</a>: Allow QParser and ValueSourceParsers to be extended with same name
<br /><span class="attrib">(hossman, gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-704">SOLR-704</a>: DIH NumberFormatTransformer can silently ignore part of the
string while parsing. Now it tries to use the complete string for parsing.
Failure to do so will result in an exception.
<br /><span class="attrib">(Stefan Oestreicher via shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-729">SOLR-729</a>: DIH Context.getDataSource(String) gives current entity's
DataSource instance regardless of argument.
<br /><span class="attrib">(Noble Paul, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-726">SOLR-726</a>: DIH: Jdbc Drivers and DataSources fail to load if placed in
multicore sharedLib or core's lib directory.
<br /><span class="attrib">(Walter Ferrara, Noble Paul, shalin)</span></li>
    </ol>
  </li>
  <li><a id="v1.3.0.other_changes" href="javascript:toggleList('v1.3.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(27)
    <ol id="v1.3.0.other_changes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-135">SOLR-135</a>: Moved common classes to org.apache.solr.common and altered the
build scripts to make two jars: apache-solr-1.3.jar and
apache-solr-1.3-common.jar.  This common.jar can be used in client code;
It does not have lucene or junit dependencies.  The original classes
have been replaced with a @Deprecated extended class and are scheduled
to be removed in a later release.  While this change does not affect API
compatibility, it is recommended to update references to these
deprecated classes.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-268">SOLR-268</a>: Tweaks to post.jar so it prints the error message from Solr.
<br /><span class="attrib">(Brian Whitman via hossman)</span></li>
      <li>Upgraded to Lucene 2.2.0; June 18, 2007.
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-215">SOLR-215</a>: Static access to SolrCore.getSolrCore() and SolrConfig.config
have been deprecated in order to support multiple loaded cores.
<br /><span class="attrib">(Henri Biestro via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-367">SOLR-367</a>: The create method in all TokenFilter and Tokenizer Factories
provided by Solr now declare their specific return types instead of just
using "TokenStream"
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-396">SOLR-396</a>: Hooks add to build system for automatic generation of (stub)
Tokenizer and TokenFilter Factories.
Also: new Factories for all Tokenizers and TokenFilters provided by the
lucene-analyzers-2.2.0.jar -- includes support for German, Chinese,
Russan, Dutch, Greek, Brazilian, Thai, and French.
<br /><span class="attrib">(hossman)</span></li>
      <li>Upgraded to commons-CSV r609327, which fixes escaping bugs and
introduces new escaping and whitespace handling options to
increase compatibility with different formats.
<br /><span class="attrib">(yonik)</span></li>
      <li>Upgraded to Lucene 2.3.0; Jan 23, 2008.
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-451">SOLR-451</a>: Changed analysis.jsp to use POST instead of GET, also made the input area a
bit bigger
<br /><span class="attrib">(gsingers)</span></li>
      <li>Upgrade to Lucene 2.3.1
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-531">SOLR-531</a>: Different exit code for rsyncd-start and snappuller if disabled
<br /><span class="attrib">(Thomas Peuss via billa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-550">SOLR-550</a>: Clarified DocumentBuilder addField javadocs
<br /><span class="attrib">(gsingers)</span></li>
      <li>Upgrade to Lucene 2.3.2
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-518">SOLR-518</a>: Changed luke.xsl to use divs w/css for generating histograms
instead of SVG
<br /><span class="attrib">(Thomas Peuss via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-592">SOLR-592</a>: Added ShardParams interface and changed several string literals
to references to constants in CommonParams.
<br /><span class="attrib">(Lars Kotthoff via Otis Gospodnetic)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-520">SOLR-520</a>: Deprecated unused LengthFilter since already core in
Lucene-Java
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-645">SOLR-645</a>: Refactored SimpleFacetsTest
<br /><span class="attrib">(Lars Kotthoff via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-591">SOLR-591</a>: Changed Solrj default value for facet.sort to true
<br /><span class="attrib">(Lars Kotthoff via Shalin)</span></li>
      <li>Upgraded to Lucene 2.4-dev (r669476) to support <a href="http://issues.apache.org/jira/browse/SOLR-572">SOLR-572</a>
<br /><span class="attrib">(gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-636">SOLR-636</a>: Improve/simplify example configs; and make index.jsp
links more resilient to configs loaded via an InputStream
<br /><span class="attrib">(Lars Kotthoff, hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-682">SOLR-682</a>: Scripts now support FreeBSD
<br /><span class="attrib">(Richard Trey Hyde via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-489">SOLR-489</a>: Added in deprecation comments.
<br /><span class="attrib">(Sean Timm, Lars Kothoff via gsingers)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-692">SOLR-692</a>: Migrated to stable released builds of StAX API 1.0.1 and StAX 1.2.0
<br /><span class="attrib">(shalin)</span></li>
      <li>Upgraded to Lucene 2.4-dev (r686801)
<br /><span class="attrib">(yonik)</span></li>
      <li>Upgraded to Lucene 2.4-dev (r688745) 27-Aug-2008
<br /><span class="attrib">(yonik)</span></li>
      <li>Upgraded to Lucene 2.4-dev (r691741) 03-Sep-2008
<br /><span class="attrib">(yonik)</span></li>
      <li>Replaced the StAX reference implementation with the geronimo
StAX API jar, and the Woodstox StAX implementation.
<br /><span class="attrib">(yonik)</span></li>
    </ol>
  </li>
  <li><a id="v1.3.0.build" href="javascript:toggleList('v1.3.0.build')">Build</a>&nbsp;&nbsp;&nbsp;(7)
    <ol id="v1.3.0.build.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-411">SOLR-411</a>.  Changed the names of the Solr JARs to use the defacto standard JAR names based on
project-name-version.jar.  This yields, for example:
  apache-solr-common-1.3-dev.jar
  apache-solr-solrj-1.3-dev.jar
  apache-solr-1.3-dev.jar
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-479">SOLR-479</a>: Added clover code coverage targets for committers and the nightly build.  Requires
the Clover library, as licensed to Apache and only available privately.  To run:
      ant -Drun.clover=true clean clover test generate-clover-reports
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-510">SOLR-510</a>: Nightly release includes client sources.
<br /><span class="attrib">(koji)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-563">SOLR-563</a>: Modified the build process to build contrib projects
<br /><span class="attrib">(Shalin Shekhar Mangar via Otis Gospodnetic)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-673">SOLR-673</a>: Modify build file to create javadocs for core, solrj, contrib and "all inclusive"
<br /><span class="attrib">(shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-672">SOLR-672</a>: Nightly release includes contrib sources.
<br /><span class="attrib">(Jeremy Hinegardner, shalin)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-586">SOLR-586</a>: Added ant target and POM files for building maven artifacts of the Solr core, common,
          client and contrib. The target can publish artifacts with source and javadocs.
<br /><span class="attrib">(Spencer Crissman, Craig McClanahan, shalin)</span></li>
    </ol>
  </li>
</ul>
<h3><a id="v1.2" href="javascript:toggleList('v1.2')">Release 1.2  [2007-06-06]</a></h3>
<ul id="v1.2.list">
  <li><a id="v1.2.upgrading_from_solr_1.1" href="javascript:toggleList('v1.2.upgrading_from_solr_1.1')">Upgrading from Solr 1.1</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v1.2.upgrading_from_solr_1.1.list">
      <li>IMPORTANT UPGRADE NOTE: In a master/slave configuration, all searchers/slaves
should be upgraded before the master!  If the master were to be updated
first, the older searchers would not be able to read the new index format.
</li>
      <li>Older Apache Solr installations can be upgraded by replacing
the relevant war file with the new version.  No changes to configuration
files should be needed.
</li>
      <li>This version of Solr contains a new version of Lucene implementing
an updated index format.  This version of Solr/Lucene can still read
and update indexes in the older formats, and will convert them to the new
format on the first index change.  One change in the new index format
is that all "norms" are kept in a single file, greatly reducing the number
of files per segment. Users of compound file indexes will want to consider
converting to the non-compound format for faster indexing and slightly better
search concurrency.
</li>
      <li>The JSON response format for facets has changed to make it easier for
clients to retain sorted order.  Use json.nl=map explicitly in clients
to get the old behavior, or add it as a default to the request handler
in solrconfig.xml
</li>
      <li>The Lucene based Solr query syntax is slightly more strict.
A ':' in a field value must be escaped or the whole value must be quoted.
</li>
      <li>The Solr "Request Handler" framework has been updated in two key ways:
First, if a Request Handler is registered in solrconfig.xml with a name
starting with "/" then it can be accessed using path-based URL, instead of
using the legacy "/select?qt=name" URL structure.  Second, the Request
Handler framework has been extended making it possible to write Request
Handlers that process streams of data for doing updates, and there is a
new-style Request Handler for XML updates given the name of "/update" in
the example solrconfig.xml.  Existing installations without this "/update"
handler will continue to use the old update servlet and should see no
changes in behavior.  For new-style update handlers, errors are now
reflected in the HTTP status code, Content-type checking is more strict,
and the response format has changed and is controllable via the wt
parameter.
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v1.2.new_features" href="javascript:toggleList('v1.2.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(36)
    <ol id="v1.2.new_features.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-82">SOLR-82</a>: Default field values can be specified in the schema.xml.
<br /><span class="attrib">(Ryan McKinley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-89">SOLR-89</a>: Two new TokenFilters with corresponding Factories...
* TrimFilter - Trims leading and trailing whitespace from Tokens
* PatternReplaceFilter - applies a Pattern to each token in the
  stream, replacing match occurances with a specified replacement.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-91">SOLR-91</a>: allow configuration of a limit of the number of searchers
that can be warming in the background.  This can be used to avoid
out-of-memory errors, or contention caused by more and more searchers
warming in the background.  An error is thrown if the limit specified
by maxWarmingSearchers in solrconfig.xml is exceeded.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-106">SOLR-106</a>: New faceting parameters that allow specification of a
minimum count for returned facets (facet.mincount), paging through facets
(facet.offset, facet.limit), and explicit sorting (facet.sort).
facet.zeros is now deprecated.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-80">SOLR-80</a>: Negative queries are now allowed everywhere.  Negative queries
are generated and cached as their positive counterpart, speeding
generation and generally resulting in smaller sets to cache.
Set intersections in SolrIndexSearcher are more efficient,
starting with the smallest positive set, subtracting all negative
sets, then intersecting with all other positive sets.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-117">SOLR-117</a>: Limit a field faceting to constraints with a prefix specified
by facet.prefix or f.&lt;field&gt;.facet.prefix.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-107">SOLR-107</a>: JAVA API: Change NamedList to use Java5 generics
and implement Iterable&lt;Map.Entry&gt;
<br /><span class="attrib">(Ryan McKinley via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-104">SOLR-104</a>: Support for "Update Plugins" -- RequestHandlers that want
access to streams of data for doing updates.  ContentStreams can come
from the raw POST body, multi-part form data, or remote URLs.
Included in this change is a new SolrDispatchFilter that allows
RequestHandlers registered with names that begin with a "/" to be
accessed using a URL structure based on that name.
<br /><span class="attrib">(Ryan McKinley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-126">SOLR-126</a>: DirectUpdateHandler2 supports autocommitting after a specified time
(in ms), using &lt;autoCommit&gt;&lt;maxTime&gt;10000&lt;/maxTime&gt;&lt;/autoCommit&gt;.
<br /><span class="attrib">(Ryan McKinley via klaas)</span>.
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-116">SOLR-116</a>: IndexInfoRequestHandler added.
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-79">SOLR-79</a>: Add system property ${&lt;sys.prop&gt;[:&lt;default&gt;]} substitution for
configuration files loaded, including schema.xml and solrconfig.xml.
<br /><span class="attrib">(Erik Hatcher with inspiration from Andrew Saar)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-149">SOLR-149</a>: Changes to make Solr more easily embeddable, in addition
to logging which request handler handled each request.
<br /><span class="attrib">(Ryan McKinley via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-86">SOLR-86</a>: Added standalone Java-based command-line updater.
<br /><span class="attrib">(Erik Hatcher via Bertrand Delecretaz)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-152">SOLR-152</a>: DisMaxRequestHandler now supports configurable alternate
behavior when q is not specified.  A "q.alt" param can be specified
using SolrQueryParser syntax as a mechanism for specifying what query
the dismax handler should execute if the main user query (q) is blank.
<br /><span class="attrib">(Ryan McKinley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-158">SOLR-158</a>: new "qs" (Query Slop) param for DisMaxRequestHandler
allows for specifying the amount of default slop to use when parsing
explicit phrase queries from the user.
<br /><span class="attrib">(Adam Hiatt via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-81">SOLR-81</a>: SpellCheckerRequestHandler that uses the SpellChecker from
the Lucene contrib.
<br /><span class="attrib">(Otis Gospodnetic and Adam Hiatt)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-182">SOLR-182</a>: allow lazy loading of request handlers on first request.
<br /><span class="attrib">(Ryan McKinley via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-81">SOLR-81</a>: More SpellCheckerRequestHandler enhancements, inlcluding
support for relative or absolute directory path configurations, as
well as RAM based directory.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-197">SOLR-197</a>: New parameters for input: stream.contentType for specifying
or overriding the content type of input, and stream.file for reading
local files.
<br /><span class="attrib">(Ryan McKinley via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-66">SOLR-66</a>: CSV data format for document additions and updates.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-184">SOLR-184</a>: add echoHandler=true to responseHeader, support echoParams=all
<br /><span class="attrib">(Ryan McKinley via ehatcher)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-211">SOLR-211</a>: Added a regex PatternTokenizerFactory.  This extracts tokens
from the input string using a regex Pattern.
<br /><span class="attrib">(Ryan McKinley)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-162">SOLR-162</a>: Added a "Luke" request handler and other admin helpers.
This exposes the system status through the standard requestHandler
framework.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-212">SOLR-212</a>: Added a DirectSolrConnection class.  This lets you access
solr using the standard request/response formats, but does not require
an HTTP connection.  It is designed for embedded applications.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-204">SOLR-204</a>: The request dispatcher (added in <a href="http://issues.apache.org/jira/browse/SOLR-104">SOLR-104</a>) can handle
calls to /select.  This offers uniform error handling for /update and
/select.  To enable this behavior, you must add:
  &lt;requestDispatcher handleSelect="true" &gt; to your solrconfig.xml
See the example solrconfig.xml for details.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-170">SOLR-170</a>: StandardRequestHandler now supports a "sort" parameter.
Using the ';' syntax is still supported, but it is recommended to
transition to the new syntax.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-181">SOLR-181</a>: The index schema now supports "required" fields.  Attempts
to add a document without a required field will fail, returning a
descriptive error message.  By default, the uniqueKey field is
a required field.  This can be disabled by setting required=false
in schema.xml.
<br /><span class="attrib">(Greg Ludington via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-217">SOLR-217</a>: Fields configured in the schema to be neither indexed or
stored will now be quietly ignored by Solr when Documents are added.
The example schema has a comment explaining how this can be used to
ignore any "unknown" fields.
<br /><span class="attrib">(Will Johnson via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-227">SOLR-227</a>: If schema.xml defines multiple fieldTypes, fields, or
dynamicFields with the same name, a severe error will be logged rather
then quietly continuing. Depending on the &lt;abortOnConfigurationError&gt;
settings, this may halt the server.  Likewise, if solrconfig.xml
defines multiple RequestHandlers with the same name it will also add
an error.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-226">SOLR-226</a>: Added support for dynamic field as the destination of a
copyField using glob (*) replacement.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-224">SOLR-224</a>: Adding a PhoneticFilterFactory that uses apache commons codec
language encoders to build phonetically similar tokens.  This currently
supports: DoubleMetaphone, Metaphone, Soundex, and RefinedSoundex
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-199">SOLR-199</a>: new n-gram tokenizers available via NGramTokenizerFactory
and EdgeNGramTokenizerFactory.
<br /><span class="attrib">(Adam Hiatt via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-234">SOLR-234</a>: TrimFilter can update the Token's startOffset and endOffset
if updateOffsets="true".  By default the Token offsets are unchanged.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-208">SOLR-208</a>: new example_rss.xsl and example_atom.xsl to provide more
examples for people about the Solr XML response format and how they
can transform it to suit different needs.
<br /><span class="attrib">(Brian Whitman via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-249">SOLR-249</a>: Deprecated SolrException( int, ... ) constructors in favor
of constructors that takes an ErrorCode enum.  This will ensure that
all SolrExceptions use a valid HTTP status code.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-386">SOLR-386</a>: Abstracted SolrHighlighter and moved existing implementation
to DefaultSolrHighlighter.  Adjusted SolrCore and solrconfig.xml so
that highlighter is configurable via a class attribute.  Allows users
to use their own highlighter implementation.
<br /><span class="attrib">(Tricia Williams via klaas)</span></li>
    </ol>
  </li>
  <li><a id="v1.2.changes_in_runtime_behavior" href="javascript:toggleList('v1.2.changes_in_runtime_behavior')">Changes in runtime behavior</a>&nbsp;&nbsp;&nbsp;(12)
    <ol id="v1.2.changes_in_runtime_behavior.list">
      <li>Highlighting using DisMax will only pick up terms from the main
user query, not boost or filter queries
<br /><span class="attrib">(klaas)</span>.
</li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-125">SOLR-125</a>: Change default of json.nl to flat, change so that
json.nl only affects items where order matters (facet constraint
listings).  Fix JSON output bug for null values.  Internal JAVA API:
change most uses of NamedList to SimpleOrderedMap.
<br /><span class="attrib">(yonik)</span></li>
      <li>A new method "getSolrQueryParser" has been added to the IndexSchema
class for retrieving a new SolrQueryParser instance with all options
specified in the schema.xml's &lt;solrQueryParser&gt; block set.  The
documentation for the SolrQueryParser constructor and its use of
IndexSchema have also been clarified.
<br /><span class="attrib">(Erik Hatcher and hossman)</span></li>
      <li>DisMaxRequestHandler's bq, bf, qf, and pf parameters can now accept
multiple values
<br /><span class="attrib">(klaas)</span>.
</li>
      <li>Query are re-written before highlighting is performed.  This enables
proper highlighting of prefix and wildcard queries
<br /><span class="attrib">(klaas)</span>.
</li>
      <li>A meaningful exception is raised when attempting to add a doc missing
a unique id if it is declared in the schema and allowDups=false.
<br /><span class="attrib">(ryan via klaas)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-183">SOLR-183</a>: Exceptions with error code 400 are raised when
numeric argument parsing fails.  RequiredSolrParams class added
to facilitate checking for parameters that must be present.
<br /><span class="attrib">(Ryan McKinley, J.J. Larrea via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-179">SOLR-179</a>: By default, solr will abort after any severe initialization
errors.  This behavior can be disabled by setting:
&lt;abortOnConfigurationError&gt;false&lt;/abortOnConfigurationError&gt;
in solrconfig.xml
<br /><span class="attrib">(ryan)</span></li>
      <li>The example solrconfig.xml maps /update to XmlUpdateRequestHandler using
the new request dispatcher (<a href="http://issues.apache.org/jira/browse/SOLR-104">SOLR-104</a>).  This requires posted content to
have a valid contentType: curl -H 'Content-type:text/xml; charset=utf-8'
The response format matches that of /select and returns standard error
codes.  To enable solr1.1 style /update, do not map "/update" to any
handler in solrconfig.xml
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-231">SOLR-231</a>: If a charset is not specified in the contentType,
ContentStream.getReader() will use UTF-8 encoding.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-230">SOLR-230</a>: More options for post.jar to support stdin, xml on the
commandline, and defering commits.  Tutorial modified to take
advantage of these options so there is no need for curl.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-128">SOLR-128</a>: Upgraded Jetty to the latest stable release 6.1.3
<br /><span class="attrib">(ryan)</span></li>
    </ol>
  </li>
  <li><a id="v1.2.optimizations" href="javascript:toggleList('v1.2.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v1.2.optimizations.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-114">SOLR-114</a>: HashDocSet specific implementations of union() and andNot()
for a 20x performance improvement for those set operations, and a new
hash algorithm speeds up exists() by 10% and intersectionSize() by 8%.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-115">SOLR-115</a>: Solr now uses BooleanQuery.clauses() instead of
BooleanQuery.getClauses() in any situation where there is no risk of
modifying the original query.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-221">SOLR-221</a>: Speed up sorted faceting on multivalued fields by ~60%
when the base set consists of a relatively large portion of the
index.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-221">SOLR-221</a>: Added a facet.enum.cache.minDf parameter which avoids
using the filterCache for terms that match few documents, trading
decreased memory usage for increased query time.
<br /><span class="attrib">(yonik)</span></li>
    </ol>
  </li>
  <li><a id="v1.2.bug_fixes" href="javascript:toggleList('v1.2.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="v1.2.bug_fixes.list">
      <li><a href="http://issues.apache.org/jira/browse/SOLR-87">SOLR-87</a>: Parsing of synonym files did not correctly handle escaped
whitespace such as \r\n\t\b\f.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-92">SOLR-92</a>: DOMUtils.getText (used when parsing config files) did not
work properly with many DOM implementations when dealing with
"Attributes".
<br /><span class="attrib">(Ryan McKinley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-9">SOLR-9</a>,<a href="http://issues.apache.org/jira/browse/SOLR-99">SOLR-99</a>: Tighten up sort specification error checking, throw
exceptions for missing sort specifications or a sort on a non-indexed
field.
<br /><span class="attrib">(Ryan McKinley via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-145">SOLR-145</a>: Fix for bug introduced in <a href="http://issues.apache.org/jira/browse/SOLR-104">SOLR-104</a> where some Exceptions
were being ignored by all "out of the box" RequestHandlers.
<br /><span class="attrib">(hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-166">SOLR-166</a>: JNDI solr.home code refactoring.  <a href="http://issues.apache.org/jira/browse/SOLR-104">SOLR-104</a> moved
some JNDI related code to the init method of a Servlet Filter -
according to the Servlet Spec, all Filter's should be initialized
prior to initializing any Servlets, but this is not the case in at
least one Servlet Container (Resin).  This "bug fix" refactors
this JNDI code so that it should be executed the first time any
attempt is made to use the solr.home dir.
<br /><span class="attrib">(Ryan McKinley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-173">SOLR-173</a>: Bug fix to SolrDispatchFilter to reduce "too many open
files" problem was that SolrDispatchFilter was not closing requests
when finished.  Also modified ResponseWriters to only fetch a Searcher
reference if necessary for writing out DocLists.
<br /><span class="attrib">(Ryan McKinley via hossman)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-168">SOLR-168</a>: Fix display positioning of multiple tokens at the same
position in analysis.jsp
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-167">SOLR-167</a>: The SynonymFilter sometimes generated incorrect offsets when
multi token synonyms were mached in the source text.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-188">SOLR-188</a>: bin scripts do not support non-default webapp names.  Added "-U"
option to specify a full path to the update url, overriding the
"-h" (hostname), "-p" (port) and "-w" (webapp name) parameters.
<br /><span class="attrib">(Jeff Rodenburg via billa)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-198">SOLR-198</a>: RunExecutableListener always waited for the process to
finish, even when wait="false" was set.
<br /><span class="attrib">(Koji Sekiguchi via yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-207">SOLR-207</a>: Changed distribution scripts to remove recursive find
and avoid use of "find -maxdepth" on platforms where it is not
supported.
<br /><span class="attrib">(yonik)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-222">SOLR-222</a>: Changing writeLockTimeout in solrconfig.xml did not
change the effective timeout.
<br /><span class="attrib">(Koji Sekiguchi via yonik)</span></li>
      <li>Changed the <a href="http://issues.apache.org/jira/browse/SOLR-104">SOLR-104</a> RequestDispatcher so that /select?qt=xxx can not
access handlers that start with "/".  This makes path based authentication
possible for path based request handlers.
<br /><span class="attrib">(ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-214">SOLR-214</a>: Some servlet containers (including Tomcat and Resin) do not
obey the specified charset.  Rather then letting the the container handle
it solr now uses the charset from the header contentType to decode posted
content.  Using the contentType: "text/xml; charset=utf-8" will force
utf-8 encoding.  If you do not specify a contentType, it will use the
platform default.
<br /><span class="attrib">(Koji Sekiguchi via ryan)</span></li>
      <li><a href="http://issues.apache.org/jira/browse/SOLR-241">SOLR-241</a>: Undefined system properties used in configuration files now
cause a clear message to be logged rather than an obscure exception thrown.
<br /><span class="attrib">(Koji Sekiguchi via ehatcher)</span></li>
    </ol>
  </li>
  <li><a id="v1.2.other_changes" href="javascript:toggleList('v1.2.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(2)
    <ol id="v1.2.other_changes.list">
      <li>Updated to Lucene 2.1
</li>
      <li>Updated to <a href="http://issues.apache.org/jira/browse/LUCENE-2007">Lucene 2007</a>-05-20_00-04-53
</li>
    </ol>
  </li>
</ul>
<h3><a id="v1.1.0" href="javascript:toggleList('v1.1.0')">Release 1.1.0  [2006-12-22]</a></h3>
<ul id="v1.1.0.list">
  <li><a id="v1.1.0.status" href="javascript:toggleList('v1.1.0.status')">Status</a>&nbsp;&nbsp;&nbsp;(1)
    <ol id="v1.1.0.status.list">
      <li>This is the first release since Solr joined the Incubator, and brings many
new features and performance optimizations including highlighting,
faceted browsing, and JSON/Python/Ruby response formats.
</li>
    </ol>
  </li>
  <li><a id="v1.1.0.upgrading_from_previous_solr_versions" href="javascript:toggleList('v1.1.0.upgrading_from_previous_solr_versions')">Upgrading from previous Solr versions</a>&nbsp;&nbsp;&nbsp;(4)
    <ol id="v1.1.0.upgrading_from_previous_solr_versions.list">
      <li>Older Apache Solr installations can be upgraded by replacing
the relevant war file with the new version.  No changes to configuration
files are needed and the index format has not changed.
</li>
      <li>The default version of the Solr XML response syntax has been changed to 2.2.
Behavior can be preserved for those clients not explicitly specifying a
version by adding a default to the request handler in solrconfig.xml
</li>
      <li>By default, Solr will no longer use a searcher that has not fully warmed,
and requests will block in the meantime.  To change back to the previous
behavior of using a cold searcher in the event there is no other
warm searcher, see the useColdSearcher config item in solrconfig.xml
</li>
      <li>The XML response format when adding multiple documents to the collection
in a single &lt;add&gt; command has changed to return a single &lt;result&gt;.
</li>
    </ol>
  </li>
  <li style='list-style-type:none;'><h4>Detailed Change List</h4></li>
  <li><a id="v1.1.0.new_features" href="javascript:toggleList('v1.1.0.new_features')">New Features</a>&nbsp;&nbsp;&nbsp;(33)
    <ol id="v1.1.0.new_features.list">
      <li>added support for setting Lucene's positionIncrementGap
</li>
      <li>Admin: new statistics for SolrIndexSearcher
</li>
      <li>Admin: caches now show config params on stats page
</li>
      <li>max() function added to FunctionQuery suite
</li>
      <li>postOptimize hook, mirroring the functionallity of the postCommit hook,
but only called on an index optimize.
</li>
      <li>Ability to HTTP POST query requests to /select in addition to HTTP-GET
</li>
      <li>The default search field may now be overridden by requests to the
standard request handler using the df query parameter.
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li>Added DisMaxRequestHandler and SolrPluginUtils.
<br /><span class="attrib">(Chris Hostetter)</span></li>
      <li>Support for customizing the QueryResponseWriter per request
<br /><span class="attrib">(Mike Baranczak / <a href="http://issues.apache.org/jira/browse/SOLR-16">SOLR-16</a> / hossman)</span></li>
      <li>Added KeywordTokenizerFactory
<br /><span class="attrib">(hossman)</span></li>
      <li>copyField accepts dynamicfield-like names as the source.
<br /><span class="attrib">(Darren Erik Vengroff via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-21">SOLR-21</a>)</span></li>
      <li>new DocSet.andNot(), DocSet.andNotSize()
<br /><span class="attrib">(yonik)</span></li>
      <li>Ability to store term vectors for fields.
<br /><span class="attrib">(Mike Klaas via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-23">SOLR-23</a>)</span></li>
      <li>New abstract BufferedTokenStream for people who want to write
Tokenizers or TokenFilters that require arbitrary buffering of the
stream.
<br /><span class="attrib">(<a href="http://issues.apache.org/jira/browse/SOLR-11">SOLR-11</a> / yonik, hossman)</span></li>
      <li>New RemoveDuplicatesToken - useful in situations where
synonyms, stemming, or word-deliminater-ing produce identical tokens at
the same position.
<br /><span class="attrib">(<a href="http://issues.apache.org/jira/browse/SOLR-11">SOLR-11</a> / yonik, hossman)</span></li>
      <li>Added highlighting to SolrPluginUtils and implemented in StandardRequestHandler
and DisMaxRequestHandler
<br /><span class="attrib">(<a href="http://issues.apache.org/jira/browse/SOLR-24">SOLR-24</a> / Mike Klaas via hossman,yonik)</span></li>
      <li>SnowballPorterFilterFactory language is configurable via the "language"
attribute, with the default being "English".
<br /><span class="attrib">(Bertrand Delacretaz via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-27">SOLR-27</a>)</span></li>
      <li>ISOLatin1AccentFilterFactory, instantiates ISOLatin1AccentFilter to remove accents.
<br /><span class="attrib">(Bertrand Delacretaz via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-28">SOLR-28</a>)</span></li>
      <li>JSON, Python, Ruby QueryResponseWriters: use wt="json", "python" or "ruby"
<br /><span class="attrib">(yonik, <a href="http://issues.apache.org/jira/browse/SOLR-31">SOLR-31</a>)</span></li>
      <li>Make web admin pages return UTF-8, change Content-type declaration to include a
space between the mime-type and charset
<br /><span class="attrib">(Philip Jacob, <a href="http://issues.apache.org/jira/browse/SOLR-35">SOLR-35</a>)</span></li>
      <li>Made query parser default operator configurable via schema.xml:
     &lt;solrQueryParser defaultOperator="AND|OR"/&gt;
The default operator remains "OR".
</li>
      <li>JAVA API: new version of SolrIndexSearcher.getDocListAndSet() which takes
flags
<br /><span class="attrib">(Greg Ludington via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-39">SOLR-39</a>)</span></li>
      <li>A HyphenatedWordsFilter, a text analysis filter used during indexing to rejoin
words that were hyphenated and split by a newline.
<br /><span class="attrib">(Boris Vitez via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-41">SOLR-41</a>)</span></li>
      <li>Added a CompressableField base class which allows fields of derived types to
be compressed using the compress=true setting.  The field type also gains the
ability to specify a size threshold at which field data is compressed.
<br /><span class="attrib">(klaas, <a href="http://issues.apache.org/jira/browse/SOLR-45">SOLR-45</a>)</span></li>
      <li>Simple faceted search support for fields (enumerating terms)
and arbitrary queries added to both StandardRequestHandler and
DisMaxRequestHandler.
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-44">SOLR-44</a>)</span></li>
      <li>In addition to specifying default RequestHandler params in the
solrconfig.xml, support has been added for configuring values to be
appended to the multi-val request params, as well as for configuring
invariant params that can not overridden in the query.
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-46">SOLR-46</a>)</span></li>
      <li>Default operator for query parsing can now be specified with q.op=AND|OR
from the client request, overriding the schema value.
<br /><span class="attrib">(ehatcher)</span></li>
      <li>New XSLTResponseWriter does server side XSLT processing of XML Response.
In the process, an init(NamedList) method was added to QueryResponseWriter
which works the same way as SolrRequestHandler.
<br /><span class="attrib">(Bertrand Delacretaz / <a href="http://issues.apache.org/jira/browse/SOLR-49">SOLR-49</a> / hossman)</span></li>
      <li>json.wrf parameter adds a wrapper-function around the JSON response,
useful in AJAX with dynamic script tags for specifying a JavaScript
callback function.
<br /><span class="attrib">(Bertrand Delacretaz via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-56">SOLR-56</a>)</span></li>
      <li>autoCommit can be specified every so many documents added
<br /><span class="attrib">(klaas, <a href="http://issues.apache.org/jira/browse/SOLR-65">SOLR-65</a>)</span></li>
      <li>${solr.home}/lib directory can now be used for specifying "plugin" jars
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-68">SOLR-68</a>)</span></li>
      <li>Support for "Date Math" relative "NOW" when specifying values of a
DateField in a query -- or when adding a document.
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-71">SOLR-71</a>)</span></li>
      <li>useColdSearcher control in solrconfig.xml prevents the first searcher
from being used before it's done warming.  This can help prevent
thrashing on startup when multiple requests hit a cold searcher.
The default is "false", preventing use before warm.
<br /><span class="attrib">(yonik, <a href="http://issues.apache.org/jira/browse/SOLR-77">SOLR-77</a>)</span></li>
    </ol>
  </li>
  <li><a id="v1.1.0.changes_in_runtime_behavior" href="javascript:toggleList('v1.1.0.changes_in_runtime_behavior')">Changes in runtime behavior</a>&nbsp;&nbsp;&nbsp;(11)
    <ol id="v1.1.0.changes_in_runtime_behavior.list">
      <li>classes reorganized into different packages, package names changed to Apache
</li>
      <li>force read of document stored fields in QuerySenderListener
</li>
      <li>Solr now looks in ./solr/conf for config, ./solr/data for data
configurable via solr.solr.home system property
</li>
      <li>Highlighter params changed to be prefixed with "hl."; allow fragmentsize
customization and per-field overrides on many options
<br /><span class="attrib">(Andrew May via klaas, <a href="http://issues.apache.org/jira/browse/SOLR-37">SOLR-37</a>)</span></li>
      <li>Default param values for DisMaxRequestHandler should now be specified
using a '&lt;lst name="defaults"&gt;...&lt;/lst&gt;' init param, for backwards
compatability all init prams will be used as defaults if an init param
with that name does not exist.
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-43">SOLR-43</a>)</span></li>
      <li>The DisMaxRequestHandler now supports multiple occurances of the "fq"
param.
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-44">SOLR-44</a>)</span></li>
      <li>FunctionQuery.explain now uses ComplexExplanation to provide more
accurate score explanations when composed in a BooleanQuery.
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-25">SOLR-25</a>)</span></li>
      <li>Document update handling locking is much sparser, allowing performance gains
through multiple threads.  Large commits also might be faster
<br /><span class="attrib">(klaas, <a href="http://issues.apache.org/jira/browse/SOLR-65">SOLR-65</a>)</span></li>
      <li>Lazy field loading can be enabled via a solrconfig directive.  This will be faster when
not all stored fields are needed from a document
<br /><span class="attrib">(klaas, <a href="http://issues.apache.org/jira/browse/SOLR-52">SOLR-52</a>)</span></li>
      <li>Made admin JSPs return XML and transform them with new XSL stylesheets
<br /><span class="attrib">(Otis Gospodnetic, <a href="http://issues.apache.org/jira/browse/SOLR-58">SOLR-58</a>)</span></li>
      <li>If the "echoParams=explicit" request parameter is set, request parameters are copied
to the output. In an XML output, they appear in new &lt;lst name="params"&gt; list inside
the new &lt;lst name="responseHeader"&gt; element, which replaces the old &lt;responseHeader&gt;.
Adding a version=2.1 parameter to the request produces the old format, for backwards
compatibility
<br /><span class="attrib">(bdelacretaz and yonik, <a href="http://issues.apache.org/jira/browse/SOLR-59">SOLR-59</a>)</span>.
</li>
    </ol>
  </li>
  <li><a id="v1.1.0.optimizations" href="javascript:toggleList('v1.1.0.optimizations')">Optimizations</a>&nbsp;&nbsp;&nbsp;(6)
    <ol id="v1.1.0.optimizations.list">
      <li>getDocListAndSet can now generate both a DocList and a DocSet from a
single lucene query.
</li>
      <li>BitDocSet.intersectionSize(HashDocSet) no longer generates an intermediate
set
</li>
      <li>OpenBitSet completed, replaces BitSet as the implementation for BitDocSet.
Iteration is faster, and BitDocSet.intersectionSize(BitDocSet) and unionSize
is between 3 and 4 times faster.
<br /><span class="attrib">(yonik, <a href="http://issues.apache.org/jira/browse/SOLR-15">SOLR-15</a>)</span></li>
      <li>much faster unionSize when one of the sets is a HashDocSet: O(smaller_set_size)
</li>
      <li>Optimized getDocSet() for term queries resulting in a 36% speedup of facet.field
queries where DocSets aren't cached (for example, if the number of terms in the field
is larger than the filter cache.)
<br /><span class="attrib">(yonik)</span></li>
      <li>Optimized facet.field faceting by as much as 500 times when the field has
a single token per document (not multiValued &amp; not tokenized) by using the
Lucene FieldCache entry for that field to tally term counts.  The first request
utilizing the FieldCache will take longer than subsequent ones.
</li>
    </ol>
  </li>
  <li><a id="v1.1.0.bug_fixes" href="javascript:toggleList('v1.1.0.bug_fixes')">Bug Fixes</a>&nbsp;&nbsp;&nbsp;(13)
    <ol id="v1.1.0.bug_fixes.list">
      <li>Fixed delete-by-id for field types who's indexed form is different
from the printable form (mainly sortable numeric types).
</li>
      <li>Added escaping of attribute values in the XML response
<br /><span class="attrib">(Erik Hatcher)</span></li>
      <li>Added empty extractTerms() to FunctionQuery to enable use in
a MultiSearcher
<br /><span class="attrib">(Yonik)</span></li>
      <li>WordDelimiterFilter sometimes lost token positionIncrement information
</li>
      <li>Fix reverse sorting for fields were sortMissingFirst=true
<br /><span class="attrib">(Rob Staveley, yonik)</span></li>
      <li>Worked around a Jetty bug that caused invalid XML responses for fields
containing non ASCII chars.
<br /><span class="attrib">(Bertrand Delacretaz via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-32">SOLR-32</a>)</span></li>
      <li>WordDelimiterFilter can throw exceptions if configured with both
generate and catenate off.
<br /><span class="attrib">(Mike Klaas via yonik, <a href="http://issues.apache.org/jira/browse/SOLR-34">SOLR-34</a>)</span></li>
      <li>Escape '&gt;' in XML output
<br /><span class="attrib">(because ]]&gt; is illegal in CharData)</span></li>
      <li>field boosts weren't being applied and doc boosts were being applied to fields
<br /><span class="attrib">(klaas)</span></li>
      <li>Multiple-doc update generates well-formed xml
<br /><span class="attrib">(klaas, <a href="http://issues.apache.org/jira/browse/SOLR-65">SOLR-65</a>)</span></li>
      <li>Better parsing of pingQuery from solrconfig.xml
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-70">SOLR-70</a>)</span></li>
      <li>Fixed bug with "Distribution" page introduced when Versions were
added to "Info" page
<br /><span class="attrib">(hossman)</span></li>
      <li>Fixed HTML escaping issues with user input to analysis.jsp and action.jsp
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-74">SOLR-74</a>)</span></li>
    </ol>
  </li>
  <li><a id="v1.1.0.other_changes" href="javascript:toggleList('v1.1.0.other_changes')">Other Changes</a>&nbsp;&nbsp;&nbsp;(15)
    <ol id="v1.1.0.other_changes.list">
      <li>Upgrade to Lucene 2.0 nightly build 2006-06-22, lucene SVN revision 416224,
<a href="http://svn.apache.org/viewvc/lucene/java/trunk/CHANGES.txt?view=markup&amp;pathrev=416224">http://svn.apache.org/viewvc/lucene/java/trunk/CHANGES.txt?view=markup&amp;pathrev=416224</a>
</li>
      <li>Modified admin styles to improve display in Internet Explorer
<br /><span class="attrib">(Greg Ludington via billa, <a href="http://issues.apache.org/jira/browse/SOLR-6">SOLR-6</a>)</span></li>
      <li>Upgrade to Lucene 2.0 nightly build 2006-07-15, lucene SVN revision 422302,
</li>
      <li>Included unique key field name/value (if available) in log message of add
<br /><span class="attrib">(billa, <a href="http://issues.apache.org/jira/browse/SOLR-18">SOLR-18</a>)</span></li>
      <li>Updated to Lucene 2.0 nightly build 2006-09-07, SVN revision 462111
</li>
      <li>Added javascript to catch empty query in admin query forms (Tomislav Nakic-Alfirevic via billa, <a href="http://issues.apache.org/jira/browse/SOLR-48">SOLR-48</a>
</li>
      <li>blackslash escape * in ssh command used in snappuller for zsh compatibility, <a href="http://issues.apache.org/jira/browse/SOLR-63">SOLR-63</a>
</li>
      <li>check solr return code in admin scripts, <a href="http://issues.apache.org/jira/browse/SOLR-62">SOLR-62</a>
</li>
      <li>Updated to Lucene 2.0 nightly build 2006-11-15, SVN revision 475069
</li>
      <li>Removed src/apps containing the legacy "SolrTest" app
<br /><span class="attrib">(hossman, <a href="http://issues.apache.org/jira/browse/SOLR-3">SOLR-3</a>)</span></li>
      <li>Simplified index.jsp and form.jsp, primarily by removing/hiding XML
specific params, and adding an option to pick the output type.
<br /><span class="attrib">(hossman)</span></li>
      <li>Added new numeric build property "specversion" to allow clean
MANIFEST.MF files
<br /><span class="attrib">(hossman)</span></li>
      <li>Added Solr/Lucene versions to "Info" page
<br /><span class="attrib">(hossman)</span></li>
      <li>Explicitly set mime-type of .xsl files in web.xml to
application/xslt+xml
<br /><span class="attrib">(hossman)</span></li>
      <li>Config parsing should now work useing DOM Level 2 parsers -- Solr
previously relied on getTextContent which is a DOM Level 3 addition
<br /><span class="attrib">(Alexander Saar via hossman, <a href="http://issues.apache.org/jira/browse/SOLR-78">SOLR-78</a>)</span></li>
    </ol>
  </li>
</ul>
<h3>2006/01/17 Solr open sourced, moves to Apache Incubator
 </h3>
</div>
</body>
</html>
